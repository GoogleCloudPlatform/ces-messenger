(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Js(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ke={},zn=[],Lt=()=>{},Yc=()=>!1,Gr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Xs=t=>t.startsWith("onUpdate:"),Fe=Object.assign,Ys=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Qc=Object.prototype.hasOwnProperty,ye=(t,e)=>Qc.call(t,e),ne=Array.isArray,Wn=t=>Kr(t)==="[object Map]",fa=t=>Kr(t)==="[object Set]",se=t=>typeof t=="function",De=t=>typeof t=="string",Qt=t=>typeof t=="symbol",Re=t=>t!==null&&typeof t=="object",ha=t=>(Re(t)||se(t))&&se(t.then)&&se(t.catch),da=Object.prototype.toString,Kr=t=>da.call(t),eu=t=>Kr(t).slice(8,-1),Zr=t=>Kr(t)==="[object Object]",Qs=t=>De(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Si=Js(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},tu=/-(\w)/g,Et=Jr(t=>t.replace(tu,(e,n)=>n?n.toUpperCase():"")),nu=/\B([A-Z])/g,bt=Jr(t=>t.replace(nu,"-$1").toLowerCase()),pa=Jr(t=>t.charAt(0).toUpperCase()+t.slice(1)),gs=Jr(t=>t?`on${pa(t)}`:""),fn=(t,e)=>!Object.is(t,e),Pr=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ps=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Ms=t=>{const e=parseFloat(t);return isNaN(e)?t:e},el=t=>{const e=De(t)?Number(t):NaN;return isNaN(e)?t:e};let tl;const Xr=()=>tl||(tl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function eo(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=De(r)?ou(r):eo(r);if(s)for(const l in s)e[l]=s[l]}return e}else if(De(t)||Re(t))return t}const iu=/;(?![^(]*\))/g,ru=/:([^]+)/,su=/\/\*[^]*?\*\//g;function ou(t){const e={};return t.replace(su,"").split(iu).forEach(n=>{if(n){const r=n.split(ru);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ct(t){let e="";if(De(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const r=Ct(t[n]);r&&(e+=r+" ")}else if(Re(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const lu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",au=Js(lu);function ga(t){return!!t||t===""}const ma=t=>!!(t&&t.__v_isRef===!0),Mr=t=>De(t)?t:t==null?"":ne(t)||Re(t)&&(t.toString===da||!se(t.toString))?ma(t)?Mr(t.value):JSON.stringify(t,va,2):String(t),va=(t,e)=>ma(e)?va(t,e.value):Wn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],l)=>(n[ms(r,l)+" =>"]=s,n),{})}:fa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ms(n))}:Qt(e)?ms(e):Re(e)&&!ne(e)&&!Zr(e)?String(e):e,ms=(t,e="")=>{var n;return Qt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ct;class cu{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ct,!e&&ct&&(this.index=(ct.scopes||(ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ct;try{return ct=this,e()}finally{ct=n}}}on(){++this._on===1&&(this.prevScope=ct,ct=this)}off(){this._on>0&&--this._on===0&&(ct=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function uu(){return ct}let Ce;const vs=new WeakSet;class ya{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ct&&ct.active&&ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vs.has(this)&&(vs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,nl(this),wa(this);const e=Ce,n=It;Ce=this,It=!0;try{return this.fn()}finally{_a(this),Ce=e,It=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)io(e);this.deps=this.depsTail=void 0,nl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ls(this)&&this.run()}get dirty(){return Ls(this)}}let ba=0,Ti,Ci;function xa(t,e=!1){if(t.flags|=8,e){t.next=Ci,Ci=t;return}t.next=Ti,Ti=t}function to(){ba++}function no(){if(--ba>0)return;if(Ci){let e=Ci;for(Ci=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ti;){let e=Ti;for(Ti=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function wa(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function _a(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),io(r),fu(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Ls(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ka(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ka(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Pi)||(t.globalVersion=Pi,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ls(t))))return;t.flags|=2;const e=t.dep,n=Ce,r=It;Ce=t,It=!0;try{wa(t);const s=t.fn(t._value);(e.version===0||fn(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ce=n,It=r,_a(t),t.flags&=-3}}function io(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)io(l,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function fu(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let It=!0;const Sa=[];function Jt(){Sa.push(It),It=!1}function Xt(){const t=Sa.pop();It=t===void 0?!0:t}function nl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ce;Ce=void 0;try{e()}finally{Ce=n}}}let Pi=0;class hu{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ro{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ce||!It||Ce===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ce)n=this.activeLink=new hu(Ce,this),Ce.deps?(n.prevDep=Ce.depsTail,Ce.depsTail.nextDep=n,Ce.depsTail=n):Ce.deps=Ce.depsTail=n,Ta(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ce.depsTail,n.nextDep=void 0,Ce.depsTail.nextDep=n,Ce.depsTail=n,Ce.deps===n&&(Ce.deps=r)}return n}trigger(e){this.version++,Pi++,this.notify(e)}notify(e){to();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{no()}}}function Ta(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Ta(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ns=new WeakMap,Tn=Symbol(""),Ds=Symbol(""),Mi=Symbol("");function Qe(t,e,n){if(It&&Ce){let r=Ns.get(t);r||Ns.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new ro),s.map=r,s.key=n),s.track()}}function Vt(t,e,n,r,s,l){const o=Ns.get(t);if(!o){Pi++;return}const c=f=>{f&&f.trigger()};if(to(),e==="clear")o.forEach(c);else{const f=ne(t),h=f&&Qs(n);if(f&&n==="length"){const p=Number(r);o.forEach((m,x)=>{(x==="length"||x===Mi||!Qt(x)&&x>=p)&&c(m)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),h&&c(o.get(Mi)),e){case"add":f?h&&c(o.get("length")):(c(o.get(Tn)),Wn(t)&&c(o.get(Ds)));break;case"delete":f||(c(o.get(Tn)),Wn(t)&&c(o.get(Ds)));break;case"set":Wn(t)&&c(o.get(Tn));break}}no()}function Un(t){const e=xe(t);return e===t?e:(Qe(e,"iterate",Mi),xt(t)?e:e.map(Ze))}function Yr(t){return Qe(t=xe(t),"iterate",Mi),t}const du={__proto__:null,[Symbol.iterator](){return ys(this,Symbol.iterator,Ze)},concat(...t){return Un(this).concat(...t.map(e=>ne(e)?Un(e):e))},entries(){return ys(this,"entries",t=>(t[1]=Ze(t[1]),t))},every(t,e){return Ft(this,"every",t,e,void 0,arguments)},filter(t,e){return Ft(this,"filter",t,e,n=>n.map(Ze),arguments)},find(t,e){return Ft(this,"find",t,e,Ze,arguments)},findIndex(t,e){return Ft(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ft(this,"findLast",t,e,Ze,arguments)},findLastIndex(t,e){return Ft(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ft(this,"forEach",t,e,void 0,arguments)},includes(...t){return bs(this,"includes",t)},indexOf(...t){return bs(this,"indexOf",t)},join(t){return Un(this).join(t)},lastIndexOf(...t){return bs(this,"lastIndexOf",t)},map(t,e){return Ft(this,"map",t,e,void 0,arguments)},pop(){return mi(this,"pop")},push(...t){return mi(this,"push",t)},reduce(t,...e){return il(this,"reduce",t,e)},reduceRight(t,...e){return il(this,"reduceRight",t,e)},shift(){return mi(this,"shift")},some(t,e){return Ft(this,"some",t,e,void 0,arguments)},splice(...t){return mi(this,"splice",t)},toReversed(){return Un(this).toReversed()},toSorted(t){return Un(this).toSorted(t)},toSpliced(...t){return Un(this).toSpliced(...t)},unshift(...t){return mi(this,"unshift",t)},values(){return ys(this,"values",Ze)}};function ys(t,e,n){const r=Yr(t),s=r[e]();return r!==t&&!xt(t)&&(s._next=s.next,s.next=()=>{const l=s._next();return l.value&&(l.value=n(l.value)),l}),s}const pu=Array.prototype;function Ft(t,e,n,r,s,l){const o=Yr(t),c=o!==t&&!xt(t),f=o[e];if(f!==pu[e]){const m=f.apply(t,l);return c?Ze(m):m}let h=n;o!==t&&(c?h=function(m,x){return n.call(this,Ze(m),x,t)}:n.length>2&&(h=function(m,x){return n.call(this,m,x,t)}));const p=f.call(o,h,r);return c&&s?s(p):p}function il(t,e,n,r){const s=Yr(t);let l=n;return s!==t&&(xt(t)?n.length>3&&(l=function(o,c,f){return n.call(this,o,c,f,t)}):l=function(o,c,f){return n.call(this,o,Ze(c),f,t)}),s[e](l,...r)}function bs(t,e,n){const r=xe(t);Qe(r,"iterate",Mi);const s=r[e](...n);return(s===-1||s===!1)&&lo(n[0])?(n[0]=xe(n[0]),r[e](...n)):s}function mi(t,e,n=[]){Jt(),to();const r=xe(t)[e].apply(t,n);return no(),Xt(),r}const gu=Js("__proto__,__v_isRef,__isVue"),Ca=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Qt));function mu(t){Qt(t)||(t=String(t));const e=xe(this);return Qe(e,"has",t),e.hasOwnProperty(t)}class Ea{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return l;if(n==="__v_raw")return r===(s?l?Cu:Aa:l?Oa:Ra).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ne(e);if(!s){let f;if(o&&(f=du[n]))return f;if(n==="hasOwnProperty")return mu}const c=Reflect.get(e,n,Je(e)?e:r);return(Qt(n)?Ca.has(n):gu(n))||(s||Qe(e,"get",n),l)?c:Je(c)?o&&Qs(n)?c:c.value:Re(c)?s?Pa(c):Hi(c):c}}class Ia extends Ea{constructor(e=!1){super(!1,e)}set(e,n,r,s){let l=e[n];if(!this._isShallow){const f=dn(l);if(!xt(r)&&!dn(r)&&(l=xe(l),r=xe(r)),!ne(e)&&Je(l)&&!Je(r))return f?!1:(l.value=r,!0)}const o=ne(e)&&Qs(n)?Number(n)<e.length:ye(e,n),c=Reflect.set(e,n,r,Je(e)?e:s);return e===xe(s)&&(o?fn(r,l)&&Vt(e,"set",n,r):Vt(e,"add",n,r)),c}deleteProperty(e,n){const r=ye(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Vt(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Qt(n)||!Ca.has(n))&&Qe(e,"has",n),r}ownKeys(e){return Qe(e,"iterate",ne(e)?"length":Tn),Reflect.ownKeys(e)}}class vu extends Ea{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const yu=new Ia,bu=new vu,xu=new Ia(!0);const Hs=t=>t,cr=t=>Reflect.getPrototypeOf(t);function wu(t,e,n){return function(...r){const s=this.__v_raw,l=xe(s),o=Wn(l),c=t==="entries"||t===Symbol.iterator&&o,f=t==="keys"&&o,h=s[t](...r),p=n?Hs:e?$r:Ze;return!e&&Qe(l,"iterate",f?Ds:Tn),{next(){const{value:m,done:x}=h.next();return x?{value:m,done:x}:{value:c?[p(m[0]),p(m[1])]:p(m),done:x}},[Symbol.iterator](){return this}}}}function ur(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _u(t,e){const n={get(s){const l=this.__v_raw,o=xe(l),c=xe(s);t||(fn(s,c)&&Qe(o,"get",s),Qe(o,"get",c));const{has:f}=cr(o),h=e?Hs:t?$r:Ze;if(f.call(o,s))return h(l.get(s));if(f.call(o,c))return h(l.get(c));l!==o&&l.get(s)},get size(){const s=this.__v_raw;return!t&&Qe(xe(s),"iterate",Tn),Reflect.get(s,"size",s)},has(s){const l=this.__v_raw,o=xe(l),c=xe(s);return t||(fn(s,c)&&Qe(o,"has",s),Qe(o,"has",c)),s===c?l.has(s):l.has(s)||l.has(c)},forEach(s,l){const o=this,c=o.__v_raw,f=xe(c),h=e?Hs:t?$r:Ze;return!t&&Qe(f,"iterate",Tn),c.forEach((p,m)=>s.call(l,h(p),h(m),o))}};return Fe(n,t?{add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear")}:{add(s){!e&&!xt(s)&&!dn(s)&&(s=xe(s));const l=xe(this);return cr(l).has.call(l,s)||(l.add(s),Vt(l,"add",s,s)),this},set(s,l){!e&&!xt(l)&&!dn(l)&&(l=xe(l));const o=xe(this),{has:c,get:f}=cr(o);let h=c.call(o,s);h||(s=xe(s),h=c.call(o,s));const p=f.call(o,s);return o.set(s,l),h?fn(l,p)&&Vt(o,"set",s,l):Vt(o,"add",s,l),this},delete(s){const l=xe(this),{has:o,get:c}=cr(l);let f=o.call(l,s);f||(s=xe(s),f=o.call(l,s)),c&&c.call(l,s);const h=l.delete(s);return f&&Vt(l,"delete",s,void 0),h},clear(){const s=xe(this),l=s.size!==0,o=s.clear();return l&&Vt(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=wu(s,t,e)}),n}function so(t,e){const n=_u(t,e);return(r,s,l)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(ye(n,s)&&s in r?n:r,s,l)}const ku={get:so(!1,!1)},Su={get:so(!1,!0)},Tu={get:so(!0,!1)};const Ra=new WeakMap,Oa=new WeakMap,Aa=new WeakMap,Cu=new WeakMap;function Eu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Iu(t){return t.__v_skip||!Object.isExtensible(t)?0:Eu(eu(t))}function Hi(t){return dn(t)?t:oo(t,!1,yu,ku,Ra)}function Ru(t){return oo(t,!1,xu,Su,Oa)}function Pa(t){return oo(t,!0,bu,Tu,Aa)}function oo(t,e,n,r,s){if(!Re(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=Iu(t);if(l===0)return t;const o=s.get(t);if(o)return o;const c=new Proxy(t,l===2?r:n);return s.set(t,c),c}function Vn(t){return dn(t)?Vn(t.__v_raw):!!(t&&t.__v_isReactive)}function dn(t){return!!(t&&t.__v_isReadonly)}function xt(t){return!!(t&&t.__v_isShallow)}function lo(t){return t?!!t.__v_raw:!1}function xe(t){const e=t&&t.__v_raw;return e?xe(e):t}function Ou(t){return!ye(t,"__v_skip")&&Object.isExtensible(t)&&Ps(t,"__v_skip",!0),t}const Ze=t=>Re(t)?Hi(t):t,$r=t=>Re(t)?Pa(t):t;function Je(t){return t?t.__v_isRef===!0:!1}function me(t){return Ma(t,!1)}function Au(t){return Ma(t,!0)}function Ma(t,e){return Je(t)?t:new Pu(t,e)}class Pu{constructor(e,n){this.dep=new ro,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:xe(e),this._value=n?e:Ze(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||xt(e)||dn(e);e=r?e:xe(e),fn(e,n)&&(this._rawValue=e,this._value=r?e:Ze(e),this.dep.trigger())}}function Me(t){return Je(t)?t.value:t}const Mu={get:(t,e,n)=>e==="__v_raw"?t:Me(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Je(s)&&!Je(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function La(t){return Vn(t)?t:new Proxy(t,Mu)}class Lu{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ro(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ce!==this)return xa(this,!0),!0}get value(){const e=this.dep.track();return ka(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Nu(t,e,n=!1){let r,s;return se(t)?r=t:(r=t.get,s=t.set),new Lu(r,s,n)}const fr={},Ur=new WeakMap;let kn;function Du(t,e=!1,n=kn){if(n){let r=Ur.get(n);r||Ur.set(n,r=[]),r.push(t)}}function Hu(t,e,n=ke){const{immediate:r,deep:s,once:l,scheduler:o,augmentJob:c,call:f}=n,h=_=>s?_:xt(_)||s===!1||s===0?Gt(_,1):Gt(_);let p,m,x,k,w=!1,A=!1;if(Je(t)?(m=()=>t.value,w=xt(t)):Vn(t)?(m=()=>h(t),w=!0):ne(t)?(A=!0,w=t.some(_=>Vn(_)||xt(_)),m=()=>t.map(_=>{if(Je(_))return _.value;if(Vn(_))return h(_);if(se(_))return f?f(_,2):_()})):se(t)?e?m=f?()=>f(t,2):t:m=()=>{if(x){Jt();try{x()}finally{Xt()}}const _=kn;kn=p;try{return f?f(t,3,[k]):t(k)}finally{kn=_}}:m=Lt,e&&s){const _=m,D=s===!0?1/0:s;m=()=>Gt(_(),D)}const N=uu(),M=()=>{p.stop(),N&&N.active&&Ys(N.effects,p)};if(l&&e){const _=e;e=(...D)=>{_(...D),M()}}let R=A?new Array(t.length).fill(fr):fr;const G=_=>{if(!(!(p.flags&1)||!p.dirty&&!_))if(e){const D=p.run();if(s||w||(A?D.some((W,ae)=>fn(W,R[ae])):fn(D,R))){x&&x();const W=kn;kn=p;try{const ae=[D,R===fr?void 0:A&&R[0]===fr?[]:R,k];R=D,f?f(e,3,ae):e(...ae)}finally{kn=W}}}else p.run()};return c&&c(G),p=new ya(m),p.scheduler=o?()=>o(G,!1):G,k=_=>Du(_,!1,p),x=p.onStop=()=>{const _=Ur.get(p);if(_){if(f)f(_,4);else for(const D of _)D();Ur.delete(p)}},e?r?G(!0):R=p.run():o?o(G.bind(null,!0),!0):p.run(),M.pause=p.pause.bind(p),M.resume=p.resume.bind(p),M.stop=M,M}function Gt(t,e=1/0,n){if(e<=0||!Re(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Je(t))Gt(t.value,e,n);else if(ne(t))for(let r=0;r<t.length;r++)Gt(t[r],e,n);else if(fa(t)||Wn(t))t.forEach(r=>{Gt(r,e,n)});else if(Zr(t)){for(const r in t)Gt(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Gt(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $i(t,e,n,r){try{return r?t(...r):t()}catch(s){Qr(s,e,n)}}function Nt(t,e,n,r){if(se(t)){const s=$i(t,e,n,r);return s&&ha(s)&&s.catch(l=>{Qr(l,e,n)}),s}if(ne(t)){const s=[];for(let l=0;l<t.length;l++)s.push(Nt(t[l],e,n,r));return s}}function Qr(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ke;if(e){let c=e.parent;const f=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const p=c.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](t,f,h)===!1)return}c=c.parent}if(l){Jt(),$i(l,null,10,[t,f,h]),Xt();return}}$u(t,n,s,r,o)}function $u(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const rt=[];let Pt=-1;const Gn=[];let cn=null,Fn=0;const Na=Promise.resolve();let Br=null;function Sn(t){const e=Br||Na;return t?e.then(this?t.bind(this):t):e}function Uu(t){let e=Pt+1,n=rt.length;for(;e<n;){const r=e+n>>>1,s=rt[r],l=Li(s);l<t||l===t&&s.flags&2?e=r+1:n=r}return e}function ao(t){if(!(t.flags&1)){const e=Li(t),n=rt[rt.length-1];!n||!(t.flags&2)&&e>=Li(n)?rt.push(t):rt.splice(Uu(e),0,t),t.flags|=1,Da()}}function Da(){Br||(Br=Na.then($a))}function Bu(t){ne(t)?Gn.push(...t):cn&&t.id===-1?cn.splice(Fn+1,0,t):t.flags&1||(Gn.push(t),t.flags|=1),Da()}function rl(t,e,n=Pt+1){for(;n<rt.length;n++){const r=rt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;rt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ha(t){if(Gn.length){const e=[...new Set(Gn)].sort((n,r)=>Li(n)-Li(r));if(Gn.length=0,cn){cn.push(...e);return}for(cn=e,Fn=0;Fn<cn.length;Fn++){const n=cn[Fn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}cn=null,Fn=0}}const Li=t=>t.id==null?t.flags&2?-1:1/0:t.id;function $a(t){try{for(Pt=0;Pt<rt.length;Pt++){const e=rt[Pt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),$i(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Pt<rt.length;Pt++){const e=rt[Pt];e&&(e.flags&=-2)}Pt=-1,rt.length=0,Ha(),Br=null,(rt.length||Gn.length)&&$a()}}let et=null,Ua=null;function jr(t){const e=et;return et=t,Ua=t&&t.type.__scopeId||null,e}function ju(t,e=et,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&pl(-1);const l=jr(e);let o;try{o=t(...s)}finally{jr(l),r._d&&pl(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Fu(t,e){if(et===null)return t;const n=is(et),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[l,o,c,f=ke]=e[s];l&&(se(l)&&(l={mounted:l,updated:l}),l.deep&&Gt(o),r.push({dir:l,instance:n,value:o,oldValue:void 0,arg:c,modifiers:f}))}return t}function wn(t,e,n,r){const s=t.dirs,l=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];l&&(c.oldValue=l[o].value);let f=c.dir[r];f&&(Jt(),Nt(f,n,8,[t.el,c,t,e]),Xt())}}const qu=Symbol("_vte"),zu=t=>t.__isTeleport;function co(t,e){t.shapeFlag&6&&t.component?(t.transition=e,co(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ba(t,e){return se(t)?Fe({name:t.name},e,{setup:t}):t}function ja(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function sl(t){const e=vo(),n=Au(null);if(e){const s=e.refs===ke?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:l=>n.value=l})}return n}function Ei(t,e,n,r,s=!1){if(ne(t)){t.forEach((w,A)=>Ei(w,e&&(ne(e)?e[A]:e),n,r,s));return}if(Kn(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ei(t,e,n,r.component.subTree);return}const l=r.shapeFlag&4?is(r.component):r.el,o=s?null:l,{i:c,r:f}=t,h=e&&e.r,p=c.refs===ke?c.refs={}:c.refs,m=c.setupState,x=xe(m),k=m===ke?()=>!1:w=>ye(x,w);if(h!=null&&h!==f&&(De(h)?(p[h]=null,k(h)&&(m[h]=null)):Je(h)&&(h.value=null)),se(f))$i(f,c,12,[o,p]);else{const w=De(f),A=Je(f);if(w||A){const N=()=>{if(t.f){const M=w?k(f)?m[f]:p[f]:f.value;s?ne(M)&&Ys(M,l):ne(M)?M.includes(l)||M.push(l):w?(p[f]=[l],k(f)&&(m[f]=p[f])):(f.value=[l],t.k&&(p[t.k]=f.value))}else w?(p[f]=o,k(f)&&(m[f]=o)):A&&(f.value=o,t.k&&(p[t.k]=o))};o?(N.id=-1,pt(N,n)):N()}}}Xr().requestIdleCallback;Xr().cancelIdleCallback;const Kn=t=>!!t.type.__asyncLoader,Fa=t=>t.type.__isKeepAlive;function Wu(t,e){qa(t,"a",e)}function Vu(t,e){qa(t,"da",e)}function qa(t,e,n=st){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(es(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Fa(s.parent.vnode)&&Gu(r,e,n,s),s=s.parent}}function Gu(t,e,n,r){const s=es(e,t,r,!0);fo(()=>{Ys(r[e],s)},n)}function es(t,e,n=st,r=!1){if(n){const s=n[t]||(n[t]=[]),l=e.__weh||(e.__weh=(...o)=>{Jt();const c=Ui(n),f=Nt(e,n,t,o);return c(),Xt(),f});return r?s.unshift(l):s.push(l),l}}const en=t=>(e,n=st)=>{(!Di||t==="sp")&&es(t,(...r)=>e(...r),n)},Ku=en("bm"),uo=en("m"),Zu=en("bu"),Ju=en("u"),Xu=en("bum"),fo=en("um"),Yu=en("sp"),Qu=en("rtg"),ef=en("rtc");function tf(t,e=st){es("ec",t,e)}const nf=Symbol.for("v-ndc");function vi(t,e,n,r){let s;const l=n,o=ne(t);if(o||De(t)){const c=o&&Vn(t);let f=!1,h=!1;c&&(f=!xt(t),h=dn(t),t=Yr(t)),s=new Array(t.length);for(let p=0,m=t.length;p<m;p++)s[p]=e(f?h?$r(Ze(t[p])):Ze(t[p]):t[p],p,void 0,l)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,l)}else if(Re(t))if(t[Symbol.iterator])s=Array.from(t,(c,f)=>e(c,f,void 0,l));else{const c=Object.keys(t);s=new Array(c.length);for(let f=0,h=c.length;f<h;f++){const p=c[f];s[f]=e(t[p],p,f,l)}}else s=[];return s}function rf(t,e,n={},r,s){if(et.ce||et.parent&&Kn(et.parent)&&et.parent.ce)return fe(),Fs(We,null,[Rt("slot",n,r)],64);let l=t[e];l&&l._c&&(l._d=!1),fe();const o=l&&za(l(n)),c=n.key||o&&o.key,f=Fs(We,{key:(c&&!Qt(c)?c:`_${e}`)+(!o&&r?"_fb":"")},o||[],o&&t._===1?64:-2);return f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),l&&l._c&&(l._d=!0),f}function za(t){return t.some(e=>go(e)?!(e.type===Yt||e.type===We&&!za(e.children)):!0)?t:null}const $s=t=>t?uc(t)?is(t):$s(t.parent):null,Ii=Fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$s(t.parent),$root:t=>$s(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Va(t),$forceUpdate:t=>t.f||(t.f=()=>{ao(t.update)}),$nextTick:t=>t.n||(t.n=Sn.bind(t.proxy)),$watch:t=>If.bind(t)}),xs=(t,e)=>t!==ke&&!t.__isScriptSetup&&ye(t,e),sf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:l,accessCache:o,type:c,appContext:f}=t;let h;if(e[0]!=="$"){const k=o[e];if(k!==void 0)switch(k){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return l[e]}else{if(xs(r,e))return o[e]=1,r[e];if(s!==ke&&ye(s,e))return o[e]=2,s[e];if((h=t.propsOptions[0])&&ye(h,e))return o[e]=3,l[e];if(n!==ke&&ye(n,e))return o[e]=4,n[e];Us&&(o[e]=0)}}const p=Ii[e];let m,x;if(p)return e==="$attrs"&&Qe(t.attrs,"get",""),p(t);if((m=c.__cssModules)&&(m=m[e]))return m;if(n!==ke&&ye(n,e))return o[e]=4,n[e];if(x=f.config.globalProperties,ye(x,e))return x[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:l}=t;return xs(s,e)?(s[e]=n,!0):r!==ke&&ye(r,e)?(r[e]=n,!0):ye(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:l}},o){let c;return!!n[o]||t!==ke&&ye(t,o)||xs(e,o)||(c=l[0])&&ye(c,o)||ye(r,o)||ye(Ii,o)||ye(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ye(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function of(){return lf().slots}function lf(t){const e=vo();return e.setupContext||(e.setupContext=hc(e))}function ol(t){return ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Us=!0;function af(t){const e=Va(t),n=t.proxy,r=t.ctx;Us=!1,e.beforeCreate&&ll(e.beforeCreate,t,"bc");const{data:s,computed:l,methods:o,watch:c,provide:f,inject:h,created:p,beforeMount:m,mounted:x,beforeUpdate:k,updated:w,activated:A,deactivated:N,beforeDestroy:M,beforeUnmount:R,destroyed:G,unmounted:_,render:D,renderTracked:W,renderTriggered:ae,errorCaptured:Z,serverPrefetch:pe,expose:K,inheritAttrs:j,components:F,directives:V,filters:oe}=e;if(h&&cf(h,r,null),o)for(const ie in o){const le=o[ie];se(le)&&(r[ie]=le.bind(n))}if(s){const ie=s.call(n,n);Re(ie)&&(t.data=Hi(ie))}if(Us=!0,l)for(const ie in l){const le=l[ie],tt=se(le)?le.bind(n,n):se(le.get)?le.get.bind(n,n):Lt,Ht=!se(le)&&se(le.set)?le.set.bind(n):Lt,mt=zt({get:tt,set:Ht});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>mt.value,set:he=>mt.value=he})}if(c)for(const ie in c)Wa(c[ie],r,n,ie);if(f){const ie=se(f)?f.call(n):f;Reflect.ownKeys(ie).forEach(le=>{gf(le,ie[le])})}p&&ll(p,t,"c");function ce(ie,le){ne(le)?le.forEach(tt=>ie(tt.bind(n))):le&&ie(le.bind(n))}if(ce(Ku,m),ce(uo,x),ce(Zu,k),ce(Ju,w),ce(Wu,A),ce(Vu,N),ce(tf,Z),ce(ef,W),ce(Qu,ae),ce(Xu,R),ce(fo,_),ce(Yu,pe),ne(K))if(K.length){const ie=t.exposed||(t.exposed={});K.forEach(le=>{Object.defineProperty(ie,le,{get:()=>n[le],set:tt=>n[le]=tt,enumerable:!0})})}else t.exposed||(t.exposed={});D&&t.render===Lt&&(t.render=D),j!=null&&(t.inheritAttrs=j),F&&(t.components=F),V&&(t.directives=V),pe&&ja(t)}function cf(t,e,n=Lt){ne(t)&&(t=Bs(t));for(const r in t){const s=t[r];let l;Re(s)?"default"in s?l=Lr(s.from||r,s.default,!0):l=Lr(s.from||r):l=Lr(s),Je(l)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:o=>l.value=o}):e[r]=l}}function ll(t,e,n){Nt(ne(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Wa(t,e,n,r){let s=r.includes(".")?sc(n,r):()=>n[r];if(De(t)){const l=e[t];se(l)&&Cn(s,l)}else if(se(t))Cn(s,t.bind(n));else if(Re(t))if(ne(t))t.forEach(l=>Wa(l,e,n,r));else{const l=se(t.handler)?t.handler.bind(n):e[t.handler];se(l)&&Cn(s,l,t)}}function Va(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:l,config:{optionMergeStrategies:o}}=t.appContext,c=l.get(e);let f;return c?f=c:!s.length&&!n&&!r?f=e:(f={},s.length&&s.forEach(h=>Fr(f,h,o,!0)),Fr(f,e,o)),Re(e)&&l.set(e,f),f}function Fr(t,e,n,r=!1){const{mixins:s,extends:l}=e;l&&Fr(t,l,n,!0),s&&s.forEach(o=>Fr(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=uf[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const uf={data:al,props:cl,emits:cl,methods:ki,computed:ki,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:ki,directives:ki,watch:hf,provide:al,inject:ff};function al(t,e){return e?t?function(){return Fe(se(t)?t.call(this,this):t,se(e)?e.call(this,this):e)}:e:t}function ff(t,e){return ki(Bs(t),Bs(e))}function Bs(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function it(t,e){return t?[...new Set([].concat(t,e))]:e}function ki(t,e){return t?Fe(Object.create(null),t,e):e}function cl(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:Fe(Object.create(null),ol(t),ol(e??{})):e}function hf(t,e){if(!t)return e;if(!e)return t;const n=Fe(Object.create(null),t);for(const r in e)n[r]=it(t[r],e[r]);return n}function Ga(){return{app:null,config:{isNativeTag:Yc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let df=0;function pf(t,e){return function(r,s=null){se(r)||(r=Fe({},r)),s!=null&&!Re(s)&&(s=null);const l=Ga(),o=new WeakSet,c=[];let f=!1;const h=l.app={_uid:df++,_component:r,_props:s,_container:null,_context:l,_instance:null,version:Gf,get config(){return l.config},set config(p){},use(p,...m){return o.has(p)||(p&&se(p.install)?(o.add(p),p.install(h,...m)):se(p)&&(o.add(p),p(h,...m))),h},mixin(p){return l.mixins.includes(p)||l.mixins.push(p),h},component(p,m){return m?(l.components[p]=m,h):l.components[p]},directive(p,m){return m?(l.directives[p]=m,h):l.directives[p]},mount(p,m,x){if(!f){const k=h._ceVNode||Rt(r,s);return k.appContext=l,x===!0?x="svg":x===!1&&(x=void 0),t(k,p,x),f=!0,h._container=p,p.__vue_app__=h,is(k.component)}},onUnmount(p){c.push(p)},unmount(){f&&(Nt(c,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(p,m){return l.provides[p]=m,h},runWithContext(p){const m=Zn;Zn=h;try{return p()}finally{Zn=m}}};return h}}let Zn=null;function gf(t,e){if(st){let n=st.provides;const r=st.parent&&st.parent.provides;r===n&&(n=st.provides=Object.create(r)),n[t]=e}}function Lr(t,e,n=!1){const r=vo();if(r||Zn){let s=Zn?Zn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&se(e)?e.call(r&&r.proxy):e}}const Ka={},Za=()=>Object.create(Ka),Ja=t=>Object.getPrototypeOf(t)===Ka;function mf(t,e,n,r=!1){const s={},l=Za();t.propsDefaults=Object.create(null),Xa(t,e,s,l);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Ru(s):t.type.props?t.props=s:t.props=l,t.attrs=l}function vf(t,e,n,r){const{props:s,attrs:l,vnode:{patchFlag:o}}=t,c=xe(s),[f]=t.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let m=0;m<p.length;m++){let x=p[m];if(ts(t.emitsOptions,x))continue;const k=e[x];if(f)if(ye(l,x))k!==l[x]&&(l[x]=k,h=!0);else{const w=Et(x);s[w]=js(f,c,w,k,t,!1)}else k!==l[x]&&(l[x]=k,h=!0)}}}else{Xa(t,e,s,l)&&(h=!0);let p;for(const m in c)(!e||!ye(e,m)&&((p=bt(m))===m||!ye(e,p)))&&(f?n&&(n[m]!==void 0||n[p]!==void 0)&&(s[m]=js(f,c,m,void 0,t,!0)):delete s[m]);if(l!==c)for(const m in l)(!e||!ye(e,m))&&(delete l[m],h=!0)}h&&Vt(t.attrs,"set","")}function Xa(t,e,n,r){const[s,l]=t.propsOptions;let o=!1,c;if(e)for(let f in e){if(Si(f))continue;const h=e[f];let p;s&&ye(s,p=Et(f))?!l||!l.includes(p)?n[p]=h:(c||(c={}))[p]=h:ts(t.emitsOptions,f)||(!(f in r)||h!==r[f])&&(r[f]=h,o=!0)}if(l){const f=xe(n),h=c||ke;for(let p=0;p<l.length;p++){const m=l[p];n[m]=js(s,f,m,h[m],t,!ye(h,m))}}return o}function js(t,e,n,r,s,l){const o=t[n];if(o!=null){const c=ye(o,"default");if(c&&r===void 0){const f=o.default;if(o.type!==Function&&!o.skipFactory&&se(f)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const p=Ui(s);r=h[n]=f.call(null,e),p()}}else r=f;s.ce&&s.ce._setProp(n,r)}o[0]&&(l&&!c?r=!1:o[1]&&(r===""||r===bt(n))&&(r=!0))}return r}const yf=new WeakMap;function Ya(t,e,n=!1){const r=n?yf:e.propsCache,s=r.get(t);if(s)return s;const l=t.props,o={},c=[];let f=!1;if(!se(t)){const p=m=>{f=!0;const[x,k]=Ya(m,e,!0);Fe(o,x),k&&c.push(...k)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!l&&!f)return Re(t)&&r.set(t,zn),zn;if(ne(l))for(let p=0;p<l.length;p++){const m=Et(l[p]);ul(m)&&(o[m]=ke)}else if(l)for(const p in l){const m=Et(p);if(ul(m)){const x=l[p],k=o[m]=ne(x)||se(x)?{type:x}:Fe({},x),w=k.type;let A=!1,N=!0;if(ne(w))for(let M=0;M<w.length;++M){const R=w[M],G=se(R)&&R.name;if(G==="Boolean"){A=!0;break}else G==="String"&&(N=!1)}else A=se(w)&&w.name==="Boolean";k[0]=A,k[1]=N,(A||ye(k,"default"))&&c.push(m)}}const h=[o,c];return Re(t)&&r.set(t,h),h}function ul(t){return t[0]!=="$"&&!Si(t)}const ho=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",po=t=>ne(t)?t.map(Mt):[Mt(t)],bf=(t,e,n)=>{if(e._n)return e;const r=ju((...s)=>po(e(...s)),n);return r._c=!1,r},Qa=(t,e,n)=>{const r=t._ctx;for(const s in t){if(ho(s))continue;const l=t[s];if(se(l))e[s]=bf(s,l,r);else if(l!=null){const o=po(l);e[s]=()=>o}}},ec=(t,e)=>{const n=po(e);t.slots.default=()=>n},tc=(t,e,n)=>{for(const r in e)(n||!ho(r))&&(t[r]=e[r])},xf=(t,e,n)=>{const r=t.slots=Za();if(t.vnode.shapeFlag&32){const s=e.__;s&&Ps(r,"__",s,!0);const l=e._;l?(tc(r,e,n),n&&Ps(r,"_",l,!0)):Qa(e,r)}else e&&ec(t,e)},wf=(t,e,n)=>{const{vnode:r,slots:s}=t;let l=!0,o=ke;if(r.shapeFlag&32){const c=e._;c?n&&c===1?l=!1:tc(s,e,n):(l=!e.$stable,Qa(e,s)),o=e}else e&&(ec(t,e),o={default:1});if(l)for(const c in s)!ho(c)&&o[c]==null&&delete s[c]},pt=Nf;function _f(t){return kf(t)}function kf(t,e){const n=Xr();n.__VUE__=!0;const{insert:r,remove:s,patchProp:l,createElement:o,createText:c,createComment:f,setText:h,setElementText:p,parentNode:m,nextSibling:x,setScopeId:k=Lt,insertStaticContent:w}=t,A=(g,y,S,P=null,C=null,O=null,q=void 0,$=null,H=!!y.dynamicChildren)=>{if(g===y)return;g&&!yi(g,y)&&(P=ut(g),he(g,C,O,!0),g=null),y.patchFlag===-2&&(H=!1,y.dynamicChildren=null);const{type:L,ref:X,shapeFlag:z}=y;switch(L){case ns:N(g,y,S,P);break;case Yt:M(g,y,S,P);break;case _s:g==null&&R(y,S,P,q);break;case We:F(g,y,S,P,C,O,q,$,H);break;default:z&1?D(g,y,S,P,C,O,q,$,H):z&6?V(g,y,S,P,C,O,q,$,H):(z&64||z&128)&&L.process(g,y,S,P,C,O,q,$,H,ze)}X!=null&&C?Ei(X,g&&g.ref,O,y||g,!y):X==null&&g&&g.ref!=null&&Ei(g.ref,null,O,g,!0)},N=(g,y,S,P)=>{if(g==null)r(y.el=c(y.children),S,P);else{const C=y.el=g.el;y.children!==g.children&&h(C,y.children)}},M=(g,y,S,P)=>{g==null?r(y.el=f(y.children||""),S,P):y.el=g.el},R=(g,y,S,P)=>{[g.el,g.anchor]=w(g.children,y,S,P,g.el,g.anchor)},G=({el:g,anchor:y},S,P)=>{let C;for(;g&&g!==y;)C=x(g),r(g,S,P),g=C;r(y,S,P)},_=({el:g,anchor:y})=>{let S;for(;g&&g!==y;)S=x(g),s(g),g=S;s(y)},D=(g,y,S,P,C,O,q,$,H)=>{y.type==="svg"?q="svg":y.type==="math"&&(q="mathml"),g==null?W(y,S,P,C,O,q,$,H):pe(g,y,C,O,q,$,H)},W=(g,y,S,P,C,O,q,$)=>{let H,L;const{props:X,shapeFlag:z,transition:J,dirs:ee}=g;if(H=g.el=o(g.type,O,X&&X.is,X),z&8?p(H,g.children):z&16&&Z(g.children,H,null,P,C,ws(g,O),q,$),ee&&wn(g,null,P,"created"),ae(H,g,g.scopeId,q,P),X){for(const re in X)re!=="value"&&!Si(re)&&l(H,re,null,X[re],O,P);"value"in X&&l(H,"value",null,X.value,O),(L=X.onVnodeBeforeMount)&&Ot(L,P,g)}ee&&wn(g,null,P,"beforeMount");const Y=Sf(C,J);Y&&J.beforeEnter(H),r(H,y,S),((L=X&&X.onVnodeMounted)||Y||ee)&&pt(()=>{L&&Ot(L,P,g),Y&&J.enter(H),ee&&wn(g,null,P,"mounted")},C)},ae=(g,y,S,P,C)=>{if(S&&k(g,S),P)for(let O=0;O<P.length;O++)k(g,P[O]);if(C){let O=C.subTree;if(y===O||lc(O.type)&&(O.ssContent===y||O.ssFallback===y)){const q=C.vnode;ae(g,q,q.scopeId,q.slotScopeIds,C.parent)}}},Z=(g,y,S,P,C,O,q,$,H=0)=>{for(let L=H;L<g.length;L++){const X=g[L]=$?un(g[L]):Mt(g[L]);A(null,X,y,S,P,C,O,q,$)}},pe=(g,y,S,P,C,O,q)=>{const $=y.el=g.el;let{patchFlag:H,dynamicChildren:L,dirs:X}=y;H|=g.patchFlag&16;const z=g.props||ke,J=y.props||ke;let ee;if(S&&_n(S,!1),(ee=J.onVnodeBeforeUpdate)&&Ot(ee,S,y,g),X&&wn(y,g,S,"beforeUpdate"),S&&_n(S,!0),(z.innerHTML&&J.innerHTML==null||z.textContent&&J.textContent==null)&&p($,""),L?K(g.dynamicChildren,L,$,S,P,ws(y,C),O):q||le(g,y,$,null,S,P,ws(y,C),O,!1),H>0){if(H&16)j($,z,J,S,C);else if(H&2&&z.class!==J.class&&l($,"class",null,J.class,C),H&4&&l($,"style",z.style,J.style,C),H&8){const Y=y.dynamicProps;for(let re=0;re<Y.length;re++){const ue=Y[re],Oe=z[ue],Ue=J[ue];(Ue!==Oe||ue==="value")&&l($,ue,Oe,Ue,C,S)}}H&1&&g.children!==y.children&&p($,y.children)}else!q&&L==null&&j($,z,J,S,C);((ee=J.onVnodeUpdated)||X)&&pt(()=>{ee&&Ot(ee,S,y,g),X&&wn(y,g,S,"updated")},P)},K=(g,y,S,P,C,O,q)=>{for(let $=0;$<y.length;$++){const H=g[$],L=y[$],X=H.el&&(H.type===We||!yi(H,L)||H.shapeFlag&198)?m(H.el):S;A(H,L,X,null,P,C,O,q,!0)}},j=(g,y,S,P,C)=>{if(y!==S){if(y!==ke)for(const O in y)!Si(O)&&!(O in S)&&l(g,O,y[O],null,C,P);for(const O in S){if(Si(O))continue;const q=S[O],$=y[O];q!==$&&O!=="value"&&l(g,O,$,q,C,P)}"value"in S&&l(g,"value",y.value,S.value,C)}},F=(g,y,S,P,C,O,q,$,H)=>{const L=y.el=g?g.el:c(""),X=y.anchor=g?g.anchor:c("");let{patchFlag:z,dynamicChildren:J,slotScopeIds:ee}=y;ee&&($=$?$.concat(ee):ee),g==null?(r(L,S,P),r(X,S,P),Z(y.children||[],S,X,C,O,q,$,H)):z>0&&z&64&&J&&g.dynamicChildren?(K(g.dynamicChildren,J,S,C,O,q,$),(y.key!=null||C&&y===C.subTree)&&nc(g,y,!0)):le(g,y,S,X,C,O,q,$,H)},V=(g,y,S,P,C,O,q,$,H)=>{y.slotScopeIds=$,g==null?y.shapeFlag&512?C.ctx.activate(y,S,P,q,H):oe(y,S,P,C,O,q,H):Ee(g,y,H)},oe=(g,y,S,P,C,O,q)=>{const $=g.component=Ff(g,P,C);if(Fa(g)&&($.ctx.renderer=ze),qf($,!1,q),$.asyncDep){if(C&&C.registerDep($,ce,q),!g.el){const H=$.subTree=Rt(Yt);M(null,H,y,S),g.placeholder=H.el}}else ce($,g,y,S,C,O,q)},Ee=(g,y,S)=>{const P=y.component=g.component;if(Mf(g,y,S))if(P.asyncDep&&!P.asyncResolved){ie(P,y,S);return}else P.next=y,P.update();else y.el=g.el,P.vnode=y},ce=(g,y,S,P,C,O,q)=>{const $=()=>{if(g.isMounted){let{next:z,bu:J,u:ee,parent:Y,vnode:re}=g;{const Be=ic(g);if(Be){z&&(z.el=re.el,ie(g,z,q)),Be.asyncDep.then(()=>{g.isUnmounted||$()});return}}let ue=z,Oe;_n(g,!1),z?(z.el=re.el,ie(g,z,q)):z=re,J&&Pr(J),(Oe=z.props&&z.props.onVnodeBeforeUpdate)&&Ot(Oe,Y,z,re),_n(g,!0);const Ue=hl(g),Ve=g.subTree;g.subTree=Ue,A(Ve,Ue,m(Ve.el),ut(Ve),g,C,O),z.el=Ue.el,ue===null&&Lf(g,Ue.el),ee&&pt(ee,C),(Oe=z.props&&z.props.onVnodeUpdated)&&pt(()=>Ot(Oe,Y,z,re),C)}else{let z;const{el:J,props:ee}=y,{bm:Y,m:re,parent:ue,root:Oe,type:Ue}=g,Ve=Kn(y);_n(g,!1),Y&&Pr(Y),!Ve&&(z=ee&&ee.onVnodeBeforeMount)&&Ot(z,ue,y),_n(g,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(Ue);const Be=g.subTree=hl(g);A(null,Be,S,P,g,C,O),y.el=Be.el}if(re&&pt(re,C),!Ve&&(z=ee&&ee.onVnodeMounted)){const Be=y;pt(()=>Ot(z,ue,Be),C)}(y.shapeFlag&256||ue&&Kn(ue.vnode)&&ue.vnode.shapeFlag&256)&&g.a&&pt(g.a,C),g.isMounted=!0,y=S=P=null}};g.scope.on();const H=g.effect=new ya($);g.scope.off();const L=g.update=H.run.bind(H),X=g.job=H.runIfDirty.bind(H);X.i=g,X.id=g.uid,H.scheduler=()=>ao(X),_n(g,!0),L()},ie=(g,y,S)=>{y.component=g;const P=g.vnode.props;g.vnode=y,g.next=null,vf(g,y.props,P,S),wf(g,y.children,S),Jt(),rl(g),Xt()},le=(g,y,S,P,C,O,q,$,H=!1)=>{const L=g&&g.children,X=g?g.shapeFlag:0,z=y.children,{patchFlag:J,shapeFlag:ee}=y;if(J>0){if(J&128){Ht(L,z,S,P,C,O,q,$,H);return}else if(J&256){tt(L,z,S,P,C,O,q,$,H);return}}ee&8?(X&16&&vt(L,C,O),z!==L&&p(S,z)):X&16?ee&16?Ht(L,z,S,P,C,O,q,$,H):vt(L,C,O,!0):(X&8&&p(S,""),ee&16&&Z(z,S,P,C,O,q,$,H))},tt=(g,y,S,P,C,O,q,$,H)=>{g=g||zn,y=y||zn;const L=g.length,X=y.length,z=Math.min(L,X);let J;for(J=0;J<z;J++){const ee=y[J]=H?un(y[J]):Mt(y[J]);A(g[J],ee,S,null,C,O,q,$,H)}L>X?vt(g,C,O,!0,!1,z):Z(y,S,P,C,O,q,$,H,z)},Ht=(g,y,S,P,C,O,q,$,H)=>{let L=0;const X=y.length;let z=g.length-1,J=X-1;for(;L<=z&&L<=J;){const ee=g[L],Y=y[L]=H?un(y[L]):Mt(y[L]);if(yi(ee,Y))A(ee,Y,S,null,C,O,q,$,H);else break;L++}for(;L<=z&&L<=J;){const ee=g[z],Y=y[J]=H?un(y[J]):Mt(y[J]);if(yi(ee,Y))A(ee,Y,S,null,C,O,q,$,H);else break;z--,J--}if(L>z){if(L<=J){const ee=J+1,Y=ee<X?y[ee].el:P;for(;L<=J;)A(null,y[L]=H?un(y[L]):Mt(y[L]),S,Y,C,O,q,$,H),L++}}else if(L>J)for(;L<=z;)he(g[L],C,O,!0),L++;else{const ee=L,Y=L,re=new Map;for(L=Y;L<=J;L++){const je=y[L]=H?un(y[L]):Mt(y[L]);je.key!=null&&re.set(je.key,L)}let ue,Oe=0;const Ue=J-Y+1;let Ve=!1,Be=0;const yt=new Array(Ue);for(L=0;L<Ue;L++)yt[L]=0;for(L=ee;L<=z;L++){const je=g[L];if(Oe>=Ue){he(je,C,O,!0);continue}let Ae;if(je.key!=null)Ae=re.get(je.key);else for(ue=Y;ue<=J;ue++)if(yt[ue-Y]===0&&yi(je,y[ue])){Ae=ue;break}Ae===void 0?he(je,C,O,!0):(yt[Ae-Y]=L+1,Ae>=Be?Be=Ae:Ve=!0,A(je,y[Ae],S,null,C,O,q,$,H),Oe++)}const $t=Ve?Tf(yt):zn;for(ue=$t.length-1,L=Ue-1;L>=0;L--){const je=Y+L,Ae=y[je],nn=y[je+1],ft=je+1<X?nn.el||nn.placeholder:P;yt[L]===0?A(null,Ae,S,ft,C,O,q,$,H):Ve&&(ue<0||L!==$t[ue]?mt(Ae,S,ft,2):ue--)}}},mt=(g,y,S,P,C=null)=>{const{el:O,type:q,transition:$,children:H,shapeFlag:L}=g;if(L&6){mt(g.component.subTree,y,S,P);return}if(L&128){g.suspense.move(y,S,P);return}if(L&64){q.move(g,y,S,ze);return}if(q===We){r(O,y,S);for(let z=0;z<H.length;z++)mt(H[z],y,S,P);r(g.anchor,y,S);return}if(q===_s){G(g,y,S);return}if(P!==2&&L&1&&$)if(P===0)$.beforeEnter(O),r(O,y,S),pt(()=>$.enter(O),C);else{const{leave:z,delayLeave:J,afterLeave:ee}=$,Y=()=>{g.ctx.isUnmounted?s(O):r(O,y,S)},re=()=>{z(O,()=>{Y(),ee&&ee()})};J?J(O,Y,re):re()}else r(O,y,S)},he=(g,y,S,P=!1,C=!1)=>{const{type:O,props:q,ref:$,children:H,dynamicChildren:L,shapeFlag:X,patchFlag:z,dirs:J,cacheIndex:ee}=g;if(z===-2&&(C=!1),$!=null&&(Jt(),Ei($,null,S,g,!0),Xt()),ee!=null&&(y.renderCache[ee]=void 0),X&256){y.ctx.deactivate(g);return}const Y=X&1&&J,re=!Kn(g);let ue;if(re&&(ue=q&&q.onVnodeBeforeUnmount)&&Ot(ue,y,g),X&6)qe(g.component,S,P);else{if(X&128){g.suspense.unmount(S,P);return}Y&&wn(g,null,y,"beforeUnmount"),X&64?g.type.remove(g,y,S,ze,P):L&&!L.hasOnce&&(O!==We||z>0&&z&64)?vt(L,y,S,!1,!0):(O===We&&z&384||!C&&X&16)&&vt(H,y,S),P&&Le(g)}(re&&(ue=q&&q.onVnodeUnmounted)||Y)&&pt(()=>{ue&&Ot(ue,y,g),Y&&wn(g,null,y,"unmounted")},S)},Le=g=>{const{type:y,el:S,anchor:P,transition:C}=g;if(y===We){On(S,P);return}if(y===_s){_(g);return}const O=()=>{s(S),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(g.shapeFlag&1&&C&&!C.persisted){const{leave:q,delayLeave:$}=C,H=()=>q(S,O);$?$(g.el,O,H):H()}else O()},On=(g,y)=>{let S;for(;g!==y;)S=x(g),s(g),g=S;s(y)},qe=(g,y,S)=>{const{bum:P,scope:C,job:O,subTree:q,um:$,m:H,a:L,parent:X,slots:{__:z}}=g;fl(H),fl(L),P&&Pr(P),X&&ne(z)&&z.forEach(J=>{X.renderCache[J]=void 0}),C.stop(),O&&(O.flags|=8,he(q,g,y,S)),$&&pt($,y),pt(()=>{g.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},vt=(g,y,S,P=!1,C=!1,O=0)=>{for(let q=O;q<g.length;q++)he(g[q],y,S,P,C)},ut=g=>{if(g.shapeFlag&6)return ut(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const y=x(g.anchor||g.el),S=y&&y[qu];return S?x(S):y};let wt=!1;const pn=(g,y,S)=>{g==null?y._vnode&&he(y._vnode,null,null,!0):A(y._vnode||null,g,y,null,null,null,S),y._vnode=g,wt||(wt=!0,rl(),Ha(),wt=!1)},ze={p:A,um:he,m:mt,r:Le,mt:oe,mc:Z,pc:le,pbc:K,n:ut,o:t};return{render:pn,hydrate:void 0,createApp:pf(pn)}}function ws({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function _n({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Sf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function nc(t,e,n=!1){const r=t.children,s=e.children;if(ne(r)&&ne(s))for(let l=0;l<r.length;l++){const o=r[l];let c=s[l];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[l]=un(s[l]),c.el=o.el),!n&&c.patchFlag!==-2&&nc(o,c)),c.type===ns&&(c.el=o.el),c.type===Yt&&!c.el&&(c.el=o.el)}}function Tf(t){const e=t.slice(),n=[0];let r,s,l,o,c;const f=t.length;for(r=0;r<f;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(l=0,o=n.length-1;l<o;)c=l+o>>1,t[n[c]]<h?l=c+1:o=c;h<t[n[l]]&&(l>0&&(e[r]=n[l-1]),n[l]=r)}}for(l=n.length,o=n[l-1];l-- >0;)n[l]=o,o=e[o];return n}function ic(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ic(e)}function fl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Cf=Symbol.for("v-scx"),Ef=()=>Lr(Cf);function Cn(t,e,n){return rc(t,e,n)}function rc(t,e,n=ke){const{immediate:r,deep:s,flush:l,once:o}=n,c=Fe({},n),f=e&&r||!e&&l!=="post";let h;if(Di){if(l==="sync"){const k=Ef();h=k.__watcherHandles||(k.__watcherHandles=[])}else if(!f){const k=()=>{};return k.stop=Lt,k.resume=Lt,k.pause=Lt,k}}const p=st;c.call=(k,w,A)=>Nt(k,p,w,A);let m=!1;l==="post"?c.scheduler=k=>{pt(k,p&&p.suspense)}:l!=="sync"&&(m=!0,c.scheduler=(k,w)=>{w?k():ao(k)}),c.augmentJob=k=>{e&&(k.flags|=4),m&&(k.flags|=2,p&&(k.id=p.uid,k.i=p))};const x=Hu(t,e,c);return Di&&(h?h.push(x):f&&x()),x}function If(t,e,n){const r=this.proxy,s=De(t)?t.includes(".")?sc(r,t):()=>r[t]:t.bind(r,r);let l;se(e)?l=e:(l=e.handler,n=e);const o=Ui(this),c=rc(s,l.bind(r),n);return o(),c}function sc(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Rf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Et(e)}Modifiers`]||t[`${bt(e)}Modifiers`];function Of(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ke;let s=n;const l=e.startsWith("update:"),o=l&&Rf(r,e.slice(7));o&&(o.trim&&(s=n.map(p=>De(p)?p.trim():p)),o.number&&(s=n.map(Ms)));let c,f=r[c=gs(e)]||r[c=gs(Et(e))];!f&&l&&(f=r[c=gs(bt(e))]),f&&Nt(f,t,6,s);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Nt(h,t,6,s)}}function oc(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const l=t.emits;let o={},c=!1;if(!se(t)){const f=h=>{const p=oc(h,e,!0);p&&(c=!0,Fe(o,p))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!l&&!c?(Re(t)&&r.set(t,null),null):(ne(l)?l.forEach(f=>o[f]=null):Fe(o,l),Re(t)&&r.set(t,o),o)}function ts(t,e){return!t||!Gr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ye(t,e[0].toLowerCase()+e.slice(1))||ye(t,bt(e))||ye(t,e))}function hl(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[l],slots:o,attrs:c,emit:f,render:h,renderCache:p,props:m,data:x,setupState:k,ctx:w,inheritAttrs:A}=t,N=jr(t);let M,R;try{if(n.shapeFlag&4){const _=s||r,D=_;M=Mt(h.call(D,_,p,m,k,x,w)),R=c}else{const _=e;M=Mt(_.length>1?_(m,{attrs:c,slots:o,emit:f}):_(m,null)),R=e.props?c:Af(c)}}catch(_){Ri.length=0,Qr(_,t,1),M=Rt(Yt)}let G=M;if(R&&A!==!1){const _=Object.keys(R),{shapeFlag:D}=G;_.length&&D&7&&(l&&_.some(Xs)&&(R=Pf(R,l)),G=Xn(G,R,!1,!0))}return n.dirs&&(G=Xn(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(n.dirs):n.dirs),n.transition&&co(G,n.transition),M=G,jr(N),M}const Af=t=>{let e;for(const n in t)(n==="class"||n==="style"||Gr(n))&&((e||(e={}))[n]=t[n]);return e},Pf=(t,e)=>{const n={};for(const r in t)(!Xs(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Mf(t,e,n){const{props:r,children:s,component:l}=t,{props:o,children:c,patchFlag:f}=e,h=l.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?dl(r,o,h):!!o;if(f&8){const p=e.dynamicProps;for(let m=0;m<p.length;m++){const x=p[m];if(o[x]!==r[x]&&!ts(h,x))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?dl(r,o,h):!0:!!o;return!1}function dl(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const l=r[s];if(e[l]!==t[l]&&!ts(n,l))return!0}return!1}function Lf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const lc=t=>t.__isSuspense;function Nf(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):Bu(t)}const We=Symbol.for("v-fgt"),ns=Symbol.for("v-txt"),Yt=Symbol.for("v-cmt"),_s=Symbol.for("v-stc"),Ri=[];let gt=null;function fe(t=!1){Ri.push(gt=t?null:[])}function Df(){Ri.pop(),gt=Ri[Ri.length-1]||null}let Ni=1;function pl(t,e=!1){Ni+=t,t<0&&gt&&e&&(gt.hasOnce=!0)}function ac(t){return t.dynamicChildren=Ni>0?gt||zn:null,Df(),Ni>0&&gt&&gt.push(t),t}function de(t,e,n,r,s,l){return ac(Te(t,e,n,r,s,l,!0))}function Fs(t,e,n,r,s){return ac(Rt(t,e,n,r,s,!0))}function go(t){return t?t.__v_isVNode===!0:!1}function yi(t,e){return t.type===e.type&&t.key===e.key}const cc=({key:t})=>t??null,Nr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?De(t)||Je(t)||se(t)?{i:et,r:t,k:e,f:!!n}:t:null);function Te(t,e=null,n=null,r=0,s=null,l=t===We?0:1,o=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cc(e),ref:e&&Nr(e),scopeId:Ua,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:et};return c?(mo(f,n),l&128&&t.normalize(f)):n&&(f.shapeFlag|=De(n)?8:16),Ni>0&&!o&&gt&&(f.patchFlag>0||l&6)&&f.patchFlag!==32&&gt.push(f),f}const Rt=Hf;function Hf(t,e=null,n=null,r=0,s=null,l=!1){if((!t||t===nf)&&(t=Yt),go(t)){const c=Xn(t,e,!0);return n&&mo(c,n),Ni>0&&!l&&gt&&(c.shapeFlag&6?gt[gt.indexOf(t)]=c:gt.push(c)),c.patchFlag=-2,c}if(Vf(t)&&(t=t.__vccOpts),e){e=$f(e);let{class:c,style:f}=e;c&&!De(c)&&(e.class=Ct(c)),Re(f)&&(lo(f)&&!ne(f)&&(f=Fe({},f)),e.style=eo(f))}const o=De(t)?1:lc(t)?128:zu(t)?64:Re(t)?4:se(t)?2:0;return Te(t,e,n,r,s,o,l,!0)}function $f(t){return t?lo(t)||Ja(t)?Fe({},t):t:null}function Xn(t,e,n=!1,r=!1){const{props:s,ref:l,patchFlag:o,children:c,transition:f}=t,h=e?Uf(s||{},e):s,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&cc(h),ref:e&&e.ref?n&&l?ne(l)?l.concat(Nr(e)):[l,Nr(e)]:Nr(e):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:f,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xn(t.ssContent),ssFallback:t.ssFallback&&Xn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return f&&r&&co(p,f.clone(p)),p}function qs(t=" ",e=0){return Rt(ns,null,t,e)}function $e(t="",e=!1){return e?(fe(),Fs(Yt,null,t)):Rt(Yt,null,t)}function Mt(t){return t==null||typeof t=="boolean"?Rt(Yt):ne(t)?Rt(We,null,t.slice()):go(t)?un(t):Rt(ns,null,String(t))}function un(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xn(t)}function mo(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),mo(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Ja(e)?e._ctx=et:s===3&&et&&(et.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else se(e)?(e={default:e,_ctx:et},n=32):(e=String(e),r&64?(n=16,e=[qs(e)]):n=8);t.children=e,t.shapeFlag|=n}function Uf(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ct([e.class,r.class]));else if(s==="style")e.style=eo([e.style,r.style]);else if(Gr(s)){const l=e[s],o=r[s];o&&l!==o&&!(ne(l)&&l.includes(o))&&(e[s]=l?[].concat(l,o):o)}else s!==""&&(e[s]=r[s])}return e}function Ot(t,e,n,r=null){Nt(t,e,7,[n,r])}const Bf=Ga();let jf=0;function Ff(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Bf,l={uid:jf++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ya(r,s),emitsOptions:oc(r,s),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:r.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=Of.bind(null,l),t.ce&&t.ce(l),l}let st=null;const vo=()=>st||et;let qr,zs;{const t=Xr(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),l=>{s.length>1?s.forEach(o=>o(l)):s[0](l)}};qr=e("__VUE_INSTANCE_SETTERS__",n=>st=n),zs=e("__VUE_SSR_SETTERS__",n=>Di=n)}const Ui=t=>{const e=st;return qr(t),t.scope.on(),()=>{t.scope.off(),qr(e)}},gl=()=>{st&&st.scope.off(),qr(null)};function uc(t){return t.vnode.shapeFlag&4}let Di=!1;function qf(t,e=!1,n=!1){e&&zs(e);const{props:r,children:s}=t.vnode,l=uc(t);mf(t,r,l,e),xf(t,s,n||e);const o=l?zf(t,e):void 0;return e&&zs(!1),o}function zf(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sf);const{setup:r}=n;if(r){Jt();const s=t.setupContext=r.length>1?hc(t):null,l=Ui(t),o=$i(r,t,0,[t.props,s]),c=ha(o);if(Xt(),l(),(c||t.sp)&&!Kn(t)&&ja(t),c){if(o.then(gl,gl),e)return o.then(f=>{ml(t,f)}).catch(f=>{Qr(f,t,0)});t.asyncDep=o}else ml(t,o)}else fc(t)}function ml(t,e,n){se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Re(e)&&(t.setupState=La(e)),fc(t)}function fc(t,e,n){const r=t.type;t.render||(t.render=r.render||Lt);{const s=Ui(t);Jt();try{af(t)}finally{Xt(),s()}}}const Wf={get(t,e){return Qe(t,"get",""),t[e]}};function hc(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Wf),slots:t.slots,emit:t.emit,expose:e}}function is(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(La(Ou(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ii)return Ii[n](t)},has(e,n){return n in e||n in Ii}})):t.proxy}function Vf(t){return se(t)&&"__vccOpts"in t}const zt=(t,e)=>Nu(t,e,Di),Gf="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ws;const vl=typeof window<"u"&&window.trustedTypes;if(vl)try{Ws=vl.createPolicy("vue",{createHTML:t=>t})}catch{}const dc=Ws?t=>Ws.createHTML(t):t=>t,Kf="http://www.w3.org/2000/svg",Zf="http://www.w3.org/1998/Math/MathML",Wt=typeof document<"u"?document:null,yl=Wt&&Wt.createElement("template"),Jf={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Wt.createElementNS(Kf,t):e==="mathml"?Wt.createElementNS(Zf,t):n?Wt.createElement(t,{is:n}):Wt.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Wt.createTextNode(t),createComment:t=>Wt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Wt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,l){const o=n?n.previousSibling:e.lastChild;if(s&&(s===l||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===l||!(s=s.nextSibling)););else{yl.innerHTML=dc(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=yl.content;if(r==="svg"||r==="mathml"){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Xf=Symbol("_vtc");function Yf(t,e,n){const r=t[Xf];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const bl=Symbol("_vod"),Qf=Symbol("_vsh"),eh=Symbol(""),th=/(^|;)\s*display\s*:/;function nh(t,e,n){const r=t.style,s=De(n);let l=!1;if(n&&!s){if(e)if(De(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&Dr(r,c,"")}else for(const o in e)n[o]==null&&Dr(r,o,"");for(const o in n)o==="display"&&(l=!0),Dr(r,o,n[o])}else if(s){if(e!==n){const o=r[eh];o&&(n+=";"+o),r.cssText=n,l=th.test(n)}}else e&&t.removeAttribute("style");bl in t&&(t[bl]=l?r.display:"",t[Qf]&&(r.display="none"))}const xl=/\s*!important$/;function Dr(t,e,n){if(ne(n))n.forEach(r=>Dr(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=ih(t,e);xl.test(n)?t.setProperty(bt(r),n.replace(xl,""),"important"):t[r]=n}}const wl=["Webkit","Moz","ms"],ks={};function ih(t,e){const n=ks[e];if(n)return n;let r=Et(e);if(r!=="filter"&&r in t)return ks[e]=r;r=pa(r);for(let s=0;s<wl.length;s++){const l=wl[s]+r;if(l in t)return ks[e]=l}return e}const _l="http://www.w3.org/1999/xlink";function kl(t,e,n,r,s,l=au(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(_l,e.slice(6,e.length)):t.setAttributeNS(_l,e,n):n==null||l&&!ga(n)?t.removeAttribute(e):t.setAttribute(e,l?"":Qt(n)?String(n):n)}function Sl(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?dc(n):n);return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const c=l==="OPTION"?t.getAttribute("value")||"":t.value,f=n==null?t.type==="checkbox"?"on":"":String(n);(c!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=ga(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function qn(t,e,n,r){t.addEventListener(e,n,r)}function rh(t,e,n,r){t.removeEventListener(e,n,r)}const Tl=Symbol("_vei");function sh(t,e,n,r,s=null){const l=t[Tl]||(t[Tl]={}),o=l[e];if(r&&o)o.value=r;else{const[c,f]=oh(e);if(r){const h=l[e]=ch(r,s);qn(t,c,h,f)}else o&&(rh(t,c,o,f),l[e]=void 0)}}const Cl=/(?:Once|Passive|Capture)$/;function oh(t){let e;if(Cl.test(t)){e={};let r;for(;r=t.match(Cl);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):bt(t.slice(2)),e]}let Ss=0;const lh=Promise.resolve(),ah=()=>Ss||(lh.then(()=>Ss=0),Ss=Date.now());function ch(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Nt(uh(r,n.value),e,5,[r])};return n.value=t,n.attached=ah(),n}function uh(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const El=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,fh=(t,e,n,r,s,l)=>{const o=s==="svg";e==="class"?Yf(t,r,o):e==="style"?nh(t,n,r):Gr(e)?Xs(e)||sh(t,e,n,r,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hh(t,e,r,o))?(Sl(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&kl(t,e,r,o,l,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!De(r))?Sl(t,Et(e),r,l,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),kl(t,e,r,o))};function hh(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&El(e)&&se(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return El(e)&&De(n)?!1:e in t}const Il={};/*! #__NO_SIDE_EFFECTS__ */function dh(t,e,n){const r=Ba(t,e);Zr(r)&&Fe(r,e);class s extends yo{constructor(o){super(r,o,n)}}return s.def=r,s}const ph=typeof HTMLElement<"u"?HTMLElement:class{};class yo extends ph{constructor(e,n={},r=Ml){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Ml?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof yo){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,Sn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:l,styles:o}=r;let c;if(l&&!ne(l))for(const f in l){const h=l[f];(h===Number||h&&h.type===Number)&&(f in this._props&&(this._props[f]=el(this._props[f])),(c||(c=Object.create(null)))[Et(f)]=!0)}this._numberProps=c,this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>{r.configureApp=this._def.configureApp,e(this._def=r,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)ye(this,r)||Object.defineProperty(this,r,{get:()=>Me(n[r])})}_resolveProps(e){const{props:n}=e,r=ne(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(Et))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(l){this._setProp(s,l,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):Il;const s=Et(e);n&&this._numberProps&&this._numberProps[s]&&(r=el(r)),this._setProp(s,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,s=!1){if(n!==this._props[e]&&(n===Il?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),s&&this._instance&&this._update(),r)){const l=this._ob;l&&l.disconnect(),n===!0?this.setAttribute(bt(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(bt(e),n+""):n||this.removeAttribute(bt(e)),l&&l.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),xh(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Rt(this._def,Fe(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(l,o)=>{this.dispatchEvent(new CustomEvent(l,Zr(o[0])?Fe({detail:o},o[0]):{detail:o}))};r.emit=(l,...o)=>{s(l,o),bt(l)!==l&&s(bt(l),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let s=e.length-1;s>=0;s--){const l=document.createElement("style");r&&l.setAttribute("nonce",r),l.textContent=e[s],this.shadowRoot.prepend(l)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const s=e[r],l=s.getAttribute("name")||"default",o=this._slots[l],c=s.parentNode;if(o)for(const f of o){if(n&&f.nodeType===1){const h=n+"-s",p=document.createTreeWalker(f,1);f.setAttribute(h,"");let m;for(;m=p.nextNode();)m.setAttribute(h,"")}c.insertBefore(f,s)}else for(;s.firstChild;)c.insertBefore(s.firstChild,s);c.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}const Rl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?n=>Pr(e,n):e};function gh(t){t.target.composing=!0}function Ol(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ts=Symbol("_assign"),mh={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Ts]=Rl(s);const l=r||s.props&&s.props.type==="number";qn(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;n&&(c=c.trim()),l&&(c=Ms(c)),t[Ts](c)}),n&&qn(t,"change",()=>{t.value=t.value.trim()}),e||(qn(t,"compositionstart",gh),qn(t,"compositionend",Ol),qn(t,"change",Ol))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:l}},o){if(t[Ts]=Rl(o),t.composing)return;const c=(l||t.type==="number")&&!/^0\d/.test(t.value)?Ms(t.value):t.value,f=e??"";c!==f&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===f)||(t.value=f))}},vh=["ctrl","shift","alt","meta"],yh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>vh.some(n=>t[`${n}Key`]&&!e.includes(n))},Al=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...l)=>{for(let o=0;o<e.length;o++){const c=yh[e[o]];if(c&&c(s,e))return}return t(s,...l)})},bh=Fe({patchProp:fh},Jf);let Pl;function pc(){return Pl||(Pl=_f(bh))}const xh=(...t)=>{pc().render(...t)},Ml=(...t)=>{const e=pc().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=_h(r);if(!s)return;const l=e._component;!se(l)&&!l.render&&!l.template&&(l.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,wh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function wh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _h(t){return De(t)?document.querySelector(t):t}var hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gc,mc;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,u){return i==Array.prototype||i==Object.prototype||(i[a]=u.value),i};function n(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof hr=="object"&&hr];for(var a=0;a<i.length;++a){var u=i[a];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var r=n(this);function s(i,a){if(a)e:{var u=r;i=i.split(".");for(var d=0;d<i.length-1;d++){var b=i[d];if(!(b in u))break e;u=u[b]}i=i[i.length-1],d=u[i],a=a(d),a!=d&&a!=null&&e(u,i,{configurable:!0,writable:!0,value:a})}}function l(i,a){i instanceof String&&(i+="");var u=0,d=!1,b={next:function(){if(!d&&u<i.length){var T=u++;return{value:a(T,i[T]),done:!1}}return d=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}s("Array.prototype.values",function(i){return i||function(){return l(this,function(a,u){return u})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function f(i){var a=typeof i;return a=a!="object"?a:i?Array.isArray(i)?"array":a:"null",a=="array"||a=="object"&&typeof i.length=="number"}function h(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function p(i,a,u){return i.call.apply(i.bind,arguments)}function m(i,a,u){if(!i)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,d),i.apply(a,b)}}return function(){return i.apply(a,arguments)}}function x(i,a,u){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,x.apply(null,arguments)}function k(i,a){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),i.apply(this,d)}}function w(i,a){function u(){}u.prototype=a.prototype,i.aa=a.prototype,i.prototype=new u,i.prototype.constructor=i,i.Qb=function(d,b,T){for(var U=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)U[Se-2]=arguments[Se];return a.prototype[b].apply(d,U)}}function A(i){const a=i.length;if(0<a){const u=Array(a);for(let d=0;d<a;d++)u[d]=i[d];return u}return[]}function N(i,a){for(let u=1;u<arguments.length;u++){const d=arguments[u];if(f(d)){const b=i.length||0,T=d.length||0;i.length=b+T;for(let U=0;U<T;U++)i[b+U]=d[U]}else i.push(d)}}class M{constructor(a,u){this.i=a,this.j=u,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}function R(i){return/^[\s\xa0]*$/.test(i)}function G(){var i=c.navigator;return i&&(i=i.userAgent)?i:""}function _(i){return _[" "](i),i}_[" "]=function(){};var D=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function W(i,a,u){for(const d in i)a.call(u,i[d],d,i)}function ae(i,a){for(const u in i)a.call(void 0,i[u],u,i)}function Z(i){const a={};for(const u in i)a[u]=i[u];return a}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(i,a){let u,d;for(let b=1;b<arguments.length;b++){d=arguments[b];for(u in d)i[u]=d[u];for(let T=0;T<pe.length;T++)u=pe[T],Object.prototype.hasOwnProperty.call(d,u)&&(i[u]=d[u])}}function j(i){var a=1;i=i.split(":");const u=[];for(;0<a&&i.length;)u.push(i.shift()),a--;return i.length&&u.push(i.join(":")),u}function F(i){c.setTimeout(()=>{throw i},0)}function V(){var i=tt;let a=null;return i.g&&(a=i.g,i.g=i.g.next,i.g||(i.h=null),a.next=null),a}class oe{constructor(){this.h=this.g=null}add(a,u){const d=Ee.get();d.set(a,u),this.h?this.h.next=d:this.g=d,this.h=d}}var Ee=new M(()=>new ce,i=>i.reset());class ce{constructor(){this.next=this.g=this.h=null}set(a,u){this.h=a,this.g=u,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,le=!1,tt=new oe,Ht=()=>{const i=c.Promise.resolve(void 0);ie=()=>{i.then(mt)}};var mt=()=>{for(var i;i=V();){try{i.h.call(i.g)}catch(u){F(u)}var a=Ee;a.j(i),100>a.h&&(a.h++,i.next=a.g,a.g=i)}le=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(i,a){this.type=i,this.g=this.target=a,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var On=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const u=()=>{};c.addEventListener("test",u,a),c.removeEventListener("test",u,a)}catch{}return i}();function qe(i,a){if(Le.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var u=this.type=i.type,d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=a,a=i.relatedTarget){if(D){e:{try{_(a.nodeName);var b=!0;break e}catch{}b=!1}b||(a=null)}}else u=="mouseover"?a=i.fromElement:u=="mouseout"&&(a=i.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:vt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qe.aa.h.call(this)}}w(qe,Le);var vt={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),wt=0;function pn(i,a,u,d,b){this.listener=i,this.proxy=null,this.src=a,this.type=u,this.capture=!!d,this.ha=b,this.key=++wt,this.da=this.fa=!1}function ze(i){i.da=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function tn(i){this.src=i,this.g={},this.h=0}tn.prototype.add=function(i,a,u,d,b){var T=i.toString();i=this.g[T],i||(i=this.g[T]=[],this.h++);var U=y(i,a,d,b);return-1<U?(a=i[U],u||(a.fa=!1)):(a=new pn(a,this.src,T,!!d,b),a.fa=u,i.push(a)),a};function g(i,a){var u=a.type;if(u in i.g){var d=i.g[u],b=Array.prototype.indexOf.call(d,a,void 0),T;(T=0<=b)&&Array.prototype.splice.call(d,b,1),T&&(ze(a),i.g[u].length==0&&(delete i.g[u],i.h--))}}function y(i,a,u,d){for(var b=0;b<i.length;++b){var T=i[b];if(!T.da&&T.listener==a&&T.capture==!!u&&T.ha==d)return b}return-1}var S="closure_lm_"+(1e6*Math.random()|0),P={};function C(i,a,u,d,b){if(Array.isArray(a)){for(var T=0;T<a.length;T++)C(i,a[T],u,d,b);return null}return u=ee(u),i&&i[ut]?i.K(a,u,h(d)?!!d.capture:!1,b):O(i,a,u,!1,d,b)}function O(i,a,u,d,b,T){if(!a)throw Error("Invalid event type");var U=h(b)?!!b.capture:!!b,Se=z(i);if(Se||(i[S]=Se=new tn(i)),u=Se.add(a,u,d,U,T),u.proxy)return u;if(d=q(),u.proxy=d,d.src=i,d.listener=u,i.addEventListener)On||(b=U),b===void 0&&(b=!1),i.addEventListener(a.toString(),d,b);else if(i.attachEvent)i.attachEvent(L(a.toString()),d);else if(i.addListener&&i.removeListener)i.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function q(){function i(u){return a.call(i.src,i.listener,u)}const a=X;return i}function $(i,a,u,d,b){if(Array.isArray(a))for(var T=0;T<a.length;T++)$(i,a[T],u,d,b);else d=h(d)?!!d.capture:!!d,u=ee(u),i&&i[ut]?(i=i.i,a=String(a).toString(),a in i.g&&(T=i.g[a],u=y(T,u,d,b),-1<u&&(ze(T[u]),Array.prototype.splice.call(T,u,1),T.length==0&&(delete i.g[a],i.h--)))):i&&(i=z(i))&&(a=i.g[a.toString()],i=-1,a&&(i=y(a,u,d,b)),(u=-1<i?a[i]:null)&&H(u))}function H(i){if(typeof i!="number"&&i&&!i.da){var a=i.src;if(a&&a[ut])g(a.i,i);else{var u=i.type,d=i.proxy;a.removeEventListener?a.removeEventListener(u,d,i.capture):a.detachEvent?a.detachEvent(L(u),d):a.addListener&&a.removeListener&&a.removeListener(d),(u=z(a))?(g(u,i),u.h==0&&(u.src=null,a[S]=null)):ze(i)}}}function L(i){return i in P?P[i]:P[i]="on"+i}function X(i,a){if(i.da)i=!0;else{a=new qe(a,this);var u=i.listener,d=i.ha||i.src;i.fa&&H(i),i=u.call(d,a)}return i}function z(i){return i=i[S],i instanceof tn?i:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(i){return typeof i=="function"?i:(i[J]||(i[J]=function(a){return i.handleEvent(a)}),i[J])}function Y(){he.call(this),this.i=new tn(this),this.M=this,this.F=null}w(Y,he),Y.prototype[ut]=!0,Y.prototype.removeEventListener=function(i,a,u,d){$(this,i,a,u,d)};function re(i,a){var u,d=i.F;if(d)for(u=[];d;d=d.F)u.push(d);if(i=i.M,d=a.type||a,typeof a=="string")a=new Le(a,i);else if(a instanceof Le)a.target=a.target||i;else{var b=a;a=new Le(d,i),K(a,b)}if(b=!0,u)for(var T=u.length-1;0<=T;T--){var U=a.g=u[T];b=ue(U,d,!0,a)&&b}if(U=a.g=i,b=ue(U,d,!0,a)&&b,b=ue(U,d,!1,a)&&b,u)for(T=0;T<u.length;T++)U=a.g=u[T],b=ue(U,d,!1,a)&&b}Y.prototype.N=function(){if(Y.aa.N.call(this),this.i){var i=this.i,a;for(a in i.g){for(var u=i.g[a],d=0;d<u.length;d++)ze(u[d]);delete i.g[a],i.h--}}this.F=null},Y.prototype.K=function(i,a,u,d){return this.i.add(String(i),a,!1,u,d)},Y.prototype.L=function(i,a,u,d){return this.i.add(String(i),a,!0,u,d)};function ue(i,a,u,d){if(a=i.i.g[String(a)],!a)return!0;a=a.concat();for(var b=!0,T=0;T<a.length;++T){var U=a[T];if(U&&!U.da&&U.capture==u){var Se=U.listener,Ke=U.ha||U.src;U.fa&&g(i.i,U),b=Se.call(Ke,d)!==!1&&b}}return b&&!d.defaultPrevented}function Oe(i,a,u){if(typeof i=="function")u&&(i=x(i,u));else if(i&&typeof i.handleEvent=="function")i=x(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:c.setTimeout(i,a||0)}function Ue(i){i.g=Oe(()=>{i.g=null,i.i&&(i.i=!1,Ue(i))},i.l);const a=i.h;i.h=null,i.m.apply(null,a)}class Ve extends he{constructor(a,u){super(),this.m=a,this.l=u,this.h=null,this.i=!1,this.g=null}j(a){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(i){he.call(this),this.h=i,this.g={}}w(Be,he);var yt=[];function $t(i){W(i.g,function(a,u){this.g.hasOwnProperty(u)&&H(a)},i),i.g={}}Be.prototype.N=function(){Be.aa.N.call(this),$t(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=c.JSON.stringify,Ae=c.JSON.parse,nn=class{stringify(i){return c.JSON.stringify(i,void 0)}parse(i){return c.JSON.parse(i,void 0)}};function ft(){}ft.prototype.h=null;function An(i){return i.h||(i.h=i.i())}function Fi(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nt(){Le.call(this,"d")}w(nt,Le);function Qn(){Le.call(this,"c")}w(Qn,Le);var rn={},qi=null;function ei(){return qi=qi||new Y}rn.La="serverreachability";function zi(i){Le.call(this,rn.La,i)}w(zi,Le);function _t(i){const a=ei();re(a,new zi(a))}rn.STAT_EVENT="statevent";function mn(i,a){Le.call(this,rn.STAT_EVENT,i),this.stat=a}w(mn,Le);function Ge(i){const a=ei();re(a,new mn(a,i))}rn.Ma="timingevent";function Wi(i,a){Le.call(this,rn.Ma,i),this.size=a}w(Wi,Le);function sn(i,a){if(typeof i!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){i()},a)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function os(i,a,u,d,b,T){i.info(function(){if(i.g)if(T)for(var U="",Se=T.split("&"),Ke=0;Ke<Se.length;Ke++){var ge=Se[Ke].split("=");if(1<ge.length){var Xe=ge[0];ge=ge[1];var Ye=Xe.split("_");U=2<=Ye.length&&Ye[1]=="type"?U+(Xe+"="+ge+"&"):U+(Xe+"=redacted&")}}else U=null;else U=T;return"XMLHTTP REQ ("+d+") [attempt "+b+"]: "+a+`
`+u+`
`+U})}function Vi(i,a,u,d,b,T,U){i.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+b+"]: "+a+`
`+u+`
`+T+" "+U})}function Ut(i,a,u,d){i.info(function(){return"XMLHTTP TEXT ("+a+"): "+ls(i,u)+(d?" "+d:"")})}function Gi(i,a){i.info(function(){return"TIMEOUT: "+a})}vn.prototype.info=function(){};function ls(i,a){if(!i.g)return a;if(!a)return null;try{var u=JSON.parse(a);if(u){for(i=0;i<u.length;i++)if(Array.isArray(u[i])){var d=u[i];if(!(2>d.length)){var b=d[1];if(Array.isArray(b)&&!(1>b.length)){var T=b[0];if(T!="noop"&&T!="stop"&&T!="close")for(var U=1;U<b.length;U++)b[U]=""}}}}return je(u)}catch{return a}}var ti={NO_ERROR:0,TIMEOUT:8},as={},ni;function Pn(){}w(Pn,ft),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},ni=new Pn;function ht(i,a,u,d){this.j=i,this.i=a,this.l=u,this.R=d||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ki}function Ki(){this.i=null,this.g="",this.h=!1}var Zi={},Mn={};function on(i,a,u){i.L=1,i.v=ai(He(a)),i.m=u,i.P=!0,Ji(i,null)}function Ji(i,a){i.F=Date.now(),yn(i),i.A=He(i.v);var u=i.A,d=i.R;Array.isArray(d)||(d=[String(d)]),Po(u.i,"t",d),i.C=0,u=i.j.J,i.h=new Ki,i.g=Jo(i.j,u?a:null,!i.m),0<i.O&&(i.M=new Ve(x(i.Y,i,i.g),i.O)),a=i.U,u=i.g,d=i.ca;var b="readystatechange";Array.isArray(b)||(b&&(yt[0]=b.toString()),b=yt);for(var T=0;T<b.length;T++){var U=C(u,b[T],d||a.handleEvent,!1,a.h||a);if(!U)break;a.g[U.key]=U}a=i.H?Z(i.H):{},i.m?(i.u||(i.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.m,a)):(i.u="GET",i.g.ea(i.A,i.u,null,a)),_t(),os(i.i,i.u,i.A,i.l,i.R,i.m)}ht.prototype.ca=function(i){i=i.target;const a=this.M;a&&jt(i)==3?a.j():this.Y(i)},ht.prototype.Y=function(i){try{if(i==this.g)e:{const Ye=jt(this.g);var a=this.g.Ba();const $n=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||Ye!=4||a==7||(a==8||0>=$n?_t(3):_t(2)),ri(this);var u=this.g.Z();this.X=u;t:if(ii(this)){var d=Uo(this.g);i="";var b=d.length,T=jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),kt(this);var U="";break t}this.h.i=new c.TextDecoder}for(a=0;a<b;a++)this.h.h=!0,i+=this.h.i.decode(d[a],{stream:!(T&&a==b-1)});d.length=0,this.h.g+=i,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=u==200,Vi(this.i,this.u,this.A,this.l,this.R,Ye,u),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,Ke=this.g;if((Se=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Se)){var ge=Se;break t}}ge=null}if(u=ge)Ut(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,u);else{this.o=!1,this.s=3,Ge(12),Bt(this),kt(this);break e}}if(this.P){u=!0;let St;for(;!this.J&&this.C<U.length;)if(St=cs(this,U),St==Mn){Ye==4&&(this.s=4,Ge(14),u=!1),Ut(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Zi){this.s=4,Ge(15),Ut(this.i,this.l,U,"[Invalid Chunk]"),u=!1;break}else Ut(this.i,this.l,St,null),Nn(this,St);if(ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||U.length!=0||this.h.h||(this.s=1,Ge(16),u=!1),this.o=this.o&&u,!u)Ut(this.i,this.l,U,"[Invalid Chunked Response]"),Bt(this),kt(this);else if(0<U.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ds(Xe),Xe.M=!0,Ge(11))}}else Ut(this.i,this.l,U,null),Nn(this,U);Ye==4&&Bt(this),this.o&&!this.J&&(Ye==4?Vo(this.j,this):(this.o=!1,yn(this)))}else Jc(this.g),u==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),Bt(this),kt(this)}}}catch{}finally{}};function ii(i){return i.g?i.u=="GET"&&i.L!=2&&i.j.Ca:!1}function cs(i,a){var u=i.C,d=a.indexOf(`
`,u);return d==-1?Mn:(u=Number(a.substring(u,d)),isNaN(u)?Zi:(d+=1,d+u>a.length?Mn:(a=a.slice(d,d+u),i.C=d+u,a)))}ht.prototype.cancel=function(){this.J=!0,Bt(this)};function yn(i){i.S=Date.now()+i.I,Ln(i,i.I)}function Ln(i,a){if(i.B!=null)throw Error("WatchDog timer not null");i.B=sn(x(i.ba,i),a)}function ri(i){i.B&&(c.clearTimeout(i.B),i.B=null)}ht.prototype.ba=function(){this.B=null;const i=Date.now();0<=i-this.S?(Gi(this.i,this.A),this.L!=2&&(_t(),Ge(17)),Bt(this),this.s=2,kt(this)):Ln(this,this.S-i)};function kt(i){i.j.G==0||i.J||Vo(i.j,i)}function Bt(i){ri(i);var a=i.M;a&&typeof a.ma=="function"&&a.ma(),i.M=null,$t(i.U),i.g&&(a=i.g,i.g=null,a.abort(),a.ma())}function Nn(i,a){try{var u=i.j;if(u.G!=0&&(u.g==i||oi(u.h,i))){if(!i.K&&oi(u.h,i)&&u.G==3){try{var d=u.Da.g.parse(a)}catch{d=null}if(Array.isArray(d)&&d.length==3){var b=d;if(b[0]==0){e:if(!u.u){if(u.g)if(u.g.F+3e3<i.F)or(u),rr(u);else break e;hs(u),Ge(18)}}else u.za=b[1],0<u.za-u.T&&37500>b[2]&&u.F&&u.v==0&&!u.C&&(u.C=sn(x(u.Za,u),6e3));if(1>=bn(u.h)&&u.ca){try{u.ca()}catch{}u.ca=void 0}}else xn(u,11)}else if((i.K||u.g==i)&&or(u),!R(a))for(b=u.Da.g.parse(a),a=0;a<b.length;a++){let ge=b[a];if(u.T=ge[0],ge=ge[1],u.G==2)if(ge[0]=="c"){u.K=ge[1],u.ia=ge[2];const Xe=ge[3];Xe!=null&&(u.la=Xe,u.j.info("VER="+u.la));const Ye=ge[4];Ye!=null&&(u.Aa=Ye,u.j.info("SVER="+u.Aa));const $n=ge[5];$n!=null&&typeof $n=="number"&&0<$n&&(d=1.5*$n,u.L=d,u.j.info("backChannelRequestTimeoutMs_="+d)),d=u;const St=i.g;if(St){const ar=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ar){var T=d.h;T.g||ar.indexOf("spdy")==-1&&ar.indexOf("quic")==-1&&ar.indexOf("h2")==-1||(T.j=T.l,T.g=new Set,T.h&&(li(T,T.h),T.h=null))}if(d.D){const ps=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(d.ya=ps,be(d.I,d.D,ps))}}u.G=3,u.l&&u.l.ua(),u.ba&&(u.R=Date.now()-i.F,u.j.info("Handshake RTT: "+u.R+"ms")),d=u;var U=i;if(d.qa=Zo(d,d.J?d.ia:null,d.W),U.K){Qi(d.h,U);var Se=U,Ke=d.L;Ke&&(Se.I=Ke),Se.B&&(ri(Se),yn(Se)),d.g=U}else zo(d);0<u.i.length&&sr(u)}else ge[0]!="stop"&&ge[0]!="close"||xn(u,7);else u.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?xn(u,7):fs(u):ge[0]!="noop"&&u.l&&u.l.ta(ge),u.v=0)}}_t(4)}catch{}}var Xi=class{constructor(i,a){this.g=i,this.map=a}};function si(i){this.l=i||10,c.PerformanceNavigationTiming?(i=c.performance.getEntriesByType("navigation"),i=0<i.length&&(i[0].nextHopProtocol=="hq"||i[0].nextHopProtocol=="h2")):i=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yi(i){return i.h?!0:i.g?i.g.size>=i.j:!1}function bn(i){return i.h?1:i.g?i.g.size:0}function oi(i,a){return i.h?i.h==a:i.g?i.g.has(a):!1}function li(i,a){i.g?i.g.add(a):i.h=a}function Qi(i,a){i.h&&i.h==a?i.h=null:i.g&&i.g.has(a)&&i.g.delete(a)}si.prototype.cancel=function(){if(this.i=er(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const i of this.g.values())i.cancel();this.g.clear()}};function er(i){if(i.h!=null)return i.i.concat(i.h.D);if(i.g!=null&&i.g.size!==0){let a=i.i;for(const u of i.g.values())a=a.concat(u.D);return a}return A(i.i)}function v(i){if(i.V&&typeof i.V=="function")return i.V();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if(typeof i=="string")return i.split("");if(f(i)){for(var a=[],u=i.length,d=0;d<u;d++)a.push(i[d]);return a}a=[],u=0;for(d in i)a[u++]=i[d];return a}function E(i){if(i.na&&typeof i.na=="function")return i.na();if(!i.V||typeof i.V!="function"){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(f(i)||typeof i=="string"){var a=[];i=i.length;for(var u=0;u<i;u++)a.push(u);return a}a=[],u=0;for(const d in i)a[u++]=d;return a}}}function I(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(f(i)||typeof i=="string")Array.prototype.forEach.call(i,a,void 0);else for(var u=E(i),d=v(i),b=d.length,T=0;T<b;T++)a.call(void 0,d[T],u&&u[T],i)}var te=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q(i,a){if(i){i=i.split("&");for(var u=0;u<i.length;u++){var d=i[u].indexOf("="),b=null;if(0<=d){var T=i[u].substring(0,d);b=i[u].substring(d+1)}else T=i[u];a(T,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Ie(i){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,i instanceof Ie){this.h=i.h,ve(this,i.j),this.o=i.o,this.g=i.g,Pe(this,i.s),this.l=i.l;var a=i.i,u=new fi;u.i=a.i,a.g&&(u.g=new Map(a.g),u.h=a.h),lt(this,u),this.m=i.m}else i&&(a=String(i).match(te))?(this.h=!1,ve(this,a[1]||"",!0),this.o=ci(a[2]||""),this.g=ci(a[3]||"",!0),Pe(this,a[4]),this.l=ci(a[5]||"",!0),lt(this,a[6]||"",!0),this.m=ci(a[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Ie.prototype.toString=function(){var i=[],a=this.j;a&&i.push(ui(a,Ro,!0),":");var u=this.g;return(u||a=="file")&&(i.push("//"),(a=this.o)&&i.push(ui(a,Ro,!0),"@"),i.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.s,u!=null&&i.push(":",String(u))),(u=this.l)&&(this.g&&u.charAt(0)!="/"&&i.push("/"),i.push(ui(u,u.charAt(0)=="/"?Bc:Uc,!0))),(u=this.i.toString())&&i.push("?",u),(u=this.m)&&i.push("#",ui(u,Fc)),i.join("")};function He(i){return new Ie(i)}function ve(i,a,u){i.j=u?ci(a,!0):a,i.j&&(i.j=i.j.replace(/:$/,""))}function Pe(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.s=a}else i.s=null}function lt(i,a,u){a instanceof fi?(i.i=a,qc(i.i,i.h)):(u||(a=ui(a,jc)),i.i=new fi(a,i.h))}function be(i,a,u){i.i.set(a,u)}function ai(i){return be(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ci(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ui(i,a,u){return typeof i=="string"?(i=encodeURI(i).replace(a,$c),u&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function $c(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var Ro=/[#\/\?@]/g,Uc=/[#\?:]/g,Bc=/[#\?]/g,jc=/[#\?@]/g,Fc=/#/g;function fi(i,a){this.h=this.g=null,this.i=i||null,this.j=!!a}function ln(i){i.g||(i.g=new Map,i.h=0,i.i&&Q(i.i,function(a,u){i.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=fi.prototype,t.add=function(i,a){ln(this),this.i=null,i=Dn(this,i);var u=this.g.get(i);return u||this.g.set(i,u=[]),u.push(a),this.h+=1,this};function Oo(i,a){ln(i),a=Dn(i,a),i.g.has(a)&&(i.i=null,i.h-=i.g.get(a).length,i.g.delete(a))}function Ao(i,a){return ln(i),a=Dn(i,a),i.g.has(a)}t.forEach=function(i,a){ln(this),this.g.forEach(function(u,d){u.forEach(function(b){i.call(a,b,d,this)},this)},this)},t.na=function(){ln(this);const i=Array.from(this.g.values()),a=Array.from(this.g.keys()),u=[];for(let d=0;d<a.length;d++){const b=i[d];for(let T=0;T<b.length;T++)u.push(a[d])}return u},t.V=function(i){ln(this);let a=[];if(typeof i=="string")Ao(this,i)&&(a=a.concat(this.g.get(Dn(this,i))));else{i=Array.from(this.g.values());for(let u=0;u<i.length;u++)a=a.concat(i[u])}return a},t.set=function(i,a){return ln(this),this.i=null,i=Dn(this,i),Ao(this,i)&&(this.h-=this.g.get(i).length),this.g.set(i,[a]),this.h+=1,this},t.get=function(i,a){return i?(i=this.V(i),0<i.length?String(i[0]):a):a};function Po(i,a,u){Oo(i,a),0<u.length&&(i.i=null,i.g.set(Dn(i,a),A(u)),i.h+=u.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],a=Array.from(this.g.keys());for(var u=0;u<a.length;u++){var d=a[u];const T=encodeURIComponent(String(d)),U=this.V(d);for(d=0;d<U.length;d++){var b=T;U[d]!==""&&(b+="="+encodeURIComponent(String(U[d]))),i.push(b)}}return this.i=i.join("&")};function Dn(i,a){return a=String(a),i.j&&(a=a.toLowerCase()),a}function qc(i,a){a&&!i.j&&(ln(i),i.i=null,i.g.forEach(function(u,d){var b=d.toLowerCase();d!=b&&(Oo(this,d),Po(this,b,u))},i)),i.j=a}function zc(i,a){const u=new vn;if(c.Image){const d=new Image;d.onload=k(an,u,"TestLoadImage: loaded",!0,a,d),d.onerror=k(an,u,"TestLoadImage: error",!1,a,d),d.onabort=k(an,u,"TestLoadImage: abort",!1,a,d),d.ontimeout=k(an,u,"TestLoadImage: timeout",!1,a,d),c.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=i}else a(!1)}function Wc(i,a){const u=new vn,d=new AbortController,b=setTimeout(()=>{d.abort(),an(u,"TestPingServer: timeout",!1,a)},1e4);fetch(i,{signal:d.signal}).then(T=>{clearTimeout(b),T.ok?an(u,"TestPingServer: ok",!0,a):an(u,"TestPingServer: server error",!1,a)}).catch(()=>{clearTimeout(b),an(u,"TestPingServer: error",!1,a)})}function an(i,a,u,d,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),d(u)}catch{}}function Vc(){this.g=new nn}function Gc(i,a,u){const d=u||"";try{I(i,function(b,T){let U=b;h(b)&&(U=je(b)),a.push(d+T+"="+encodeURIComponent(U))})}catch(b){throw a.push(d+"type="+encodeURIComponent("_badmap")),b}}function tr(i){this.l=i.Ub||null,this.j=i.eb||!1}w(tr,ft),tr.prototype.g=function(){return new nr(this.l,this.j)},tr.prototype.i=function(i){return function(){return i}}({});function nr(i,a){Y.call(this),this.D=i,this.o=a,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(nr,Y),t=nr.prototype,t.open=function(i,a){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=i,this.A=a,this.readyState=1,di(this)},t.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const a={headers:this.u,method:this.B,credentials:this.m,cache:void 0};i&&(a.body=i),(this.D||c).fetch(new Request(this.A,a)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},t.Sa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")i.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mo(this)}else i.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mo(i){i.j.read().then(i.Pa.bind(i)).catch(i.ga.bind(i))}t.Pa=function(i){if(this.g){if(this.o&&i.value)this.response.push(i.value);else if(!this.o){var a=i.value?i.value:new Uint8Array(0);(a=this.v.decode(a,{stream:!i.done}))&&(this.response=this.responseText+=a)}i.done?hi(this):di(this),this.readyState==3&&Mo(this)}},t.Ra=function(i){this.g&&(this.response=this.responseText=i,hi(this))},t.Qa=function(i){this.g&&(this.response=i,hi(this))},t.ga=function(){this.g&&hi(this)};function hi(i){i.readyState=4,i.l=null,i.j=null,i.v=null,di(i)}t.setRequestHeader=function(i,a){this.u.append(i,a)},t.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],a=this.h.entries();for(var u=a.next();!u.done;)u=u.value,i.push(u[0]+": "+u[1]),u=a.next();return i.join(`\r
`)};function di(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(i){this.m=i?"include":"same-origin"}});function Lo(i){let a="";return W(i,function(u,d){a+=d,a+=":",a+=u,a+=`\r
`}),a}function us(i,a,u){e:{for(d in u){var d=!1;break e}d=!0}d||(u=Lo(u),typeof i=="string"?u!=null&&encodeURIComponent(String(u)):be(i,a,u))}function Ne(i){Y.call(this),this.headers=new Map,this.o=i||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ne,Y);var Kc=/^https?$/i,Zc=["POST","PUT"];t=Ne.prototype,t.Ha=function(i){this.J=i},t.ea=function(i,a,u,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+i);a=a?a.toUpperCase():"GET",this.D=i,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?An(this.o):An(ni),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(a,String(i),!0),this.B=!1}catch(T){No(this,T);return}if(i=u||"",u=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var b in d)u.set(b,d[b]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(const T of d.keys())u.set(T,d.get(T));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(u.keys()).find(T=>T.toLowerCase()=="content-type"),b=c.FormData&&i instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Zc,a,void 0))||d||b||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[T,U]of u)this.g.setRequestHeader(T,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$o(this),this.u=!0,this.g.send(i),this.u=!1}catch(T){No(this,T)}};function No(i,a){i.h=!1,i.g&&(i.j=!0,i.g.abort(),i.j=!1),i.l=a,i.m=5,Do(i),ir(i)}function Do(i){i.A||(i.A=!0,re(i,"complete"),re(i,"error"))}t.abort=function(i){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=i||7,re(this,"complete"),re(this,"abort"),ir(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ho(this):this.bb())},t.bb=function(){Ho(this)};function Ho(i){if(i.h&&typeof o<"u"&&(!i.v[1]||jt(i)!=4||i.Z()!=2)){if(i.u&&jt(i)==4)Oe(i.Ea,0,i);else if(re(i,"readystatechange"),jt(i)==4){i.h=!1;try{const U=i.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var u;if(!(u=a)){var d;if(d=U===0){var b=String(i.D).match(te)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),d=!Kc.test(b?b.toLowerCase():"")}u=d}if(u)re(i,"complete"),re(i,"success");else{i.m=6;try{var T=2<jt(i)?i.g.statusText:""}catch{T=""}i.l=T+" ["+i.Z()+"]",Do(i)}}finally{ir(i)}}}}function ir(i,a){if(i.g){$o(i);const u=i.g,d=i.v[0]?()=>{}:null;i.g=null,i.v=null,a||re(i,"ready");try{u.onreadystatechange=d}catch{}}}function $o(i){i.I&&(c.clearTimeout(i.I),i.I=null)}t.isActive=function(){return!!this.g};function jt(i){return i.g?i.g.readyState:0}t.Z=function(){try{return 2<jt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(i){if(this.g){var a=this.g.responseText;return i&&a.indexOf(i)==0&&(a=a.substring(i.length)),Ae(a)}};function Uo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.H){case"":case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Jc(i){const a={};i=(i.g&&2<=jt(i)&&i.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<i.length;d++){if(R(i[d]))continue;var u=j(i[d]);const b=u[0];if(u=u[1],typeof u!="string")continue;u=u.trim();const T=a[b]||[];a[b]=T,T.push(u)}ae(a,function(d){return d.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(i,a,u){return u&&u.internalChannelParams&&u.internalChannelParams[i]||a}function Bo(i){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pi("failFast",!1,i),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pi("baseRetryDelayMs",5e3,i),this.cb=pi("retryDelaySeedMs",1e4,i),this.Wa=pi("forwardChannelMaxRetries",2,i),this.wa=pi("forwardChannelRequestTimeoutMs",2e4,i),this.pa=i&&i.xmlHttpFactory||void 0,this.Xa=i&&i.Tb||void 0,this.Ca=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.h=new si(i&&i.concurrentRequestLimit),this.Da=new Vc,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=i&&i.Rb||!1,i&&i.xa&&this.j.xa(),i&&i.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&i&&i.detectBufferingProxy||!1,this.ja=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.ja=i.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bo.prototype,t.la=8,t.G=1,t.connect=function(i,a,u,d){Ge(0),this.W=i,this.H=a||{},u&&d!==void 0&&(this.H.OSID=u,this.H.OAID=d),this.F=this.X,this.I=Zo(this,null,this.W),sr(this)};function fs(i){if(jo(i),i.G==3){var a=i.U++,u=He(i.I);if(be(u,"SID",i.K),be(u,"RID",a),be(u,"TYPE","terminate"),gi(i,u),a=new ht(i,i.j,a),a.L=2,a.v=ai(He(u)),u=!1,c.navigator&&c.navigator.sendBeacon)try{u=c.navigator.sendBeacon(a.v.toString(),"")}catch{}!u&&c.Image&&(new Image().src=a.v,u=!0),u||(a.g=Jo(a.j,null),a.g.ea(a.v)),a.F=Date.now(),yn(a)}Ko(i)}function rr(i){i.g&&(ds(i),i.g.cancel(),i.g=null)}function jo(i){rr(i),i.u&&(c.clearTimeout(i.u),i.u=null),or(i),i.h.cancel(),i.s&&(typeof i.s=="number"&&c.clearTimeout(i.s),i.s=null)}function sr(i){if(!Yi(i.h)&&!i.s){i.s=!0;var a=i.Ga;ie||Ht(),le||(ie(),le=!0),tt.add(a,i),i.B=0}}function Xc(i,a){return bn(i.h)>=i.h.j-(i.s?1:0)?!1:i.s?(i.i=a.D.concat(i.i),!0):i.G==1||i.G==2||i.B>=(i.Va?0:i.Wa)?!1:(i.s=sn(x(i.Ga,i,a),Go(i,i.B)),i.B++,!0)}t.Ga=function(i){if(this.s)if(this.s=null,this.G==1){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const b=new ht(this,this.j,i);let T=this.o;if(this.S&&(T?(T=Z(T),K(T,this.S)):T=this.S),this.m!==null||this.O||(b.H=T,T=null),this.P)e:{for(var a=0,u=0;u<this.i.length;u++){t:{var d=this.i[u];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break t}d=void 0}if(d===void 0)break;if(a+=d,4096<a){a=u;break e}if(a===4096||u===this.i.length-1){a=u+1;break e}}a=1e3}else a=1e3;a=qo(this,b,a),u=He(this.I),be(u,"RID",i),be(u,"CVER",22),this.D&&be(u,"X-HTTP-Session-Id",this.D),gi(this,u),T&&(this.O?a="headers="+encodeURIComponent(String(Lo(T)))+"&"+a:this.m&&us(u,this.m,T)),li(this.h,b),this.Ua&&be(u,"TYPE","init"),this.P?(be(u,"$req",a),be(u,"SID","null"),b.T=!0,on(b,u,null)):on(b,u,a),this.G=2}}else this.G==3&&(i?Fo(this,i):this.i.length==0||Yi(this.h)||Fo(this))};function Fo(i,a){var u;a?u=a.l:u=i.U++;const d=He(i.I);be(d,"SID",i.K),be(d,"RID",u),be(d,"AID",i.T),gi(i,d),i.m&&i.o&&us(d,i.m,i.o),u=new ht(i,i.j,u,i.B+1),i.m===null&&(u.H=i.o),a&&(i.i=a.D.concat(i.i)),a=qo(i,u,1e3),u.I=Math.round(.5*i.wa)+Math.round(.5*i.wa*Math.random()),li(i.h,u),on(u,d,a)}function gi(i,a){i.H&&W(i.H,function(u,d){be(a,d,u)}),i.l&&I({},function(u,d){be(a,d,u)})}function qo(i,a,u){u=Math.min(i.i.length,u);var d=i.l?x(i.l.Na,i.l,i):null;e:{var b=i.i;let T=-1;for(;;){const U=["count="+u];T==-1?0<u?(T=b[0].g,U.push("ofs="+T)):T=0:U.push("ofs="+T);let Se=!0;for(let Ke=0;Ke<u;Ke++){let ge=b[Ke].g;const Xe=b[Ke].map;if(ge-=T,0>ge)T=Math.max(0,b[Ke].g-100),Se=!1;else try{Gc(Xe,U,"req"+ge+"_")}catch{d&&d(Xe)}}if(Se){d=U.join("&");break e}}}return i=i.i.splice(0,u),a.D=i,d}function zo(i){if(!i.g&&!i.u){i.Y=1;var a=i.Fa;ie||Ht(),le||(ie(),le=!0),tt.add(a,i),i.v=0}}function hs(i){return i.g||i.u||3<=i.v?!1:(i.Y++,i.u=sn(x(i.Fa,i),Go(i,i.v)),i.v++,!0)}t.Fa=function(){if(this.u=null,Wo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var i=2*this.R;this.j.info("BP detection timer enabled: "+i),this.A=sn(x(this.ab,this),i)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),rr(this),Wo(this))};function ds(i){i.A!=null&&(c.clearTimeout(i.A),i.A=null)}function Wo(i){i.g=new ht(i,i.j,"rpc",i.Y),i.m===null&&(i.g.H=i.o),i.g.O=0;var a=He(i.qa);be(a,"RID","rpc"),be(a,"SID",i.K),be(a,"AID",i.T),be(a,"CI",i.F?"0":"1"),!i.F&&i.ja&&be(a,"TO",i.ja),be(a,"TYPE","xmlhttp"),gi(i,a),i.m&&i.o&&us(a,i.m,i.o),i.L&&(i.g.I=i.L);var u=i.g;i=i.ia,u.L=1,u.v=ai(He(a)),u.m=null,u.P=!0,Ji(u,i)}t.Za=function(){this.C!=null&&(this.C=null,rr(this),hs(this),Ge(19))};function or(i){i.C!=null&&(c.clearTimeout(i.C),i.C=null)}function Vo(i,a){var u=null;if(i.g==a){or(i),ds(i),i.g=null;var d=2}else if(oi(i.h,a))u=a.D,Qi(i.h,a),d=1;else return;if(i.G!=0){if(a.o)if(d==1){u=a.m?a.m.length:0,a=Date.now()-a.F;var b=i.B;d=ei(),re(d,new Wi(d,u)),sr(i)}else zo(i);else if(b=a.s,b==3||b==0&&0<a.X||!(d==1&&Xc(i,a)||d==2&&hs(i)))switch(u&&0<u.length&&(a=i.h,a.i=a.i.concat(u)),b){case 1:xn(i,5);break;case 4:xn(i,10);break;case 3:xn(i,6);break;default:xn(i,2)}}}function Go(i,a){let u=i.Ta+Math.floor(Math.random()*i.cb);return i.isActive()||(u*=2),u*a}function xn(i,a){if(i.j.info("Error code "+a),a==2){var u=x(i.fb,i),d=i.Xa;const b=!d;d=new Ie(d||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ve(d,"https"),ai(d),b?zc(d.toString(),u):Wc(d.toString(),u)}else Ge(2);i.G=0,i.l&&i.l.sa(a),Ko(i),jo(i)}t.fb=function(i){i?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Ko(i){if(i.G=0,i.ka=[],i.l){const a=er(i.h);(a.length!=0||i.i.length!=0)&&(N(i.ka,a),N(i.ka,i.i),i.h.i.length=0,A(i.i),i.i.length=0),i.l.ra()}}function Zo(i,a,u){var d=u instanceof Ie?He(u):new Ie(u);if(d.g!="")a&&(d.g=a+"."+d.g),Pe(d,d.s);else{var b=c.location;d=b.protocol,a=a?a+"."+b.hostname:b.hostname,b=+b.port;var T=new Ie(null);d&&ve(T,d),a&&(T.g=a),b&&Pe(T,b),u&&(T.l=u),d=T}return u=i.D,a=i.ya,u&&a&&be(d,u,a),be(d,"VER",i.la),gi(i,d),d}function Jo(i,a,u){if(a&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return a=i.Ca&&!i.pa?new Ne(new tr({eb:u})):new Ne(i.pa),a.Ha(i.J),a}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xo(){}t=Xo.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lr(){}lr.prototype.g=function(i,a){return new dt(i,a)};function dt(i,a){Y.call(this),this.g=new Bo(a),this.l=i,this.h=a&&a.messageUrlParams||null,i=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.o=i,i=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(i?i["X-WebChannel-Content-Type"]=a.messageContentType:i={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.va&&(i?i["X-WebChannel-Client-Profile"]=a.va:i={"X-WebChannel-Client-Profile":a.va}),this.g.S=i,(i=a&&a.Sb)&&!R(i)&&(this.g.m=i),this.v=a&&a.supportsCrossDomainXhr||!1,this.u=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!R(a)&&(this.g.D=a,i=this.h,i!==null&&a in i&&(i=this.h,a in i&&delete i[a])),this.j=new Hn(this)}w(dt,Y),dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dt.prototype.close=function(){fs(this.g)},dt.prototype.o=function(i){var a=this.g;if(typeof i=="string"){var u={};u.__data__=i,i=u}else this.u&&(u={},u.__data__=je(i),i=u);a.i.push(new Xi(a.Ya++,i)),a.G==3&&sr(a)},dt.prototype.N=function(){this.g.l=null,delete this.j,fs(this.g),delete this.g,dt.aa.N.call(this)};function Yo(i){nt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var a=i.__sm__;if(a){e:{for(const u in a){i=u;break e}i=void 0}(this.i=i)&&(i=this.i,a=a!==null&&i in a?a[i]:void 0),this.data=a}else this.data=i}w(Yo,nt);function Qo(){Qn.call(this),this.status=1}w(Qo,Qn);function Hn(i){this.g=i}w(Hn,Xo),Hn.prototype.ua=function(){re(this.g,"a")},Hn.prototype.ta=function(i){re(this.g,new Yo(i))},Hn.prototype.sa=function(i){re(this.g,new Qo)},Hn.prototype.ra=function(){re(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,dt.prototype.send=dt.prototype.o,dt.prototype.open=dt.prototype.m,dt.prototype.close=dt.prototype.close,mc=function(){return new lr},ti.NO_ERROR=0,ti.TIMEOUT=8,ti.HTTP_ERROR=6,as.COMPLETE="complete",Fi.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",Y.prototype.listen=Y.prototype.K,gc=Fi,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha}).apply(typeof hr<"u"?hr:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B{constructor(){this.logs=me([]),this.enableDebugger=!1,window.cesMessengerLogs=this.logs.value}_add(e){if(this.enableDebugger){const n=e.message?.event;if(n==="audio sent"||n==="audio received"){const r=this.logs.value.length>0?this.logs.value[this.logs.value.length-1]:null;if(r&&r.message?.event===n){r.count=(r.count||1)+1,r.timestamp=new Date,Array.isArray(r.message.payload)||(r.message.payload=[r.message.payload]),r.message.payload.push(e.message.payload);return}}e.timestamp=new Date,this.logs.value.push(e),B.log(e)}}info(e,n="system",r={}){this._add({message:e,type:"info",event:n,payload:r})}warn(e,n="system",r={}){this._add({message:e,type:"warn",event:n,payload:r})}error(e,n="system",r={}){this._add({message:e,type:"error",event:n,payload:r})}static log(...e){console.log(...e)}static warn(...e){console.warn(...e)}static error(...e){console.error(...e)}static debug(...e){console.debug(...e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kh="20251021.1725",Sh="autopush-ces-webchannel-googleapis.sandbox.google.com",Th="autopush-ces.sandbox.googleapis.com",Ch=/projects\/(?<project_id>[^/]+)\/locations\/(?<location>[^/]+)\/(?<agent_type>agents|apps)\/(?<agent_id>[^/]+)/,vc={prod:"ces-webchannel.googleapis.com"},yc={prod:"ces.googleapis.com"};vc.dev=Sh;yc.dev=Th;const Eh=500,Ih=2,Rh=5,dr={apiUri:{type:String},audioInputMode:{type:String},audioOutputMode:{type:String},autoOpenChat:{type:[Boolean,String]},bidiSize:{type:String},size:{type:String},bidiStyleId:{type:String},modality:{type:String},bidiThemeId:{type:String},themeId:{type:String},cesUrl:{type:String},chatTitle:{type:String},customConfigJson:{type:String},deploymentId:{type:String},disableImageUploads:{type:[Boolean,String]},enableDebugger:{type:[Boolean,String]},enableLiveTranscription:{type:[Boolean,String]},environment:{type:String,required:!1},hideInitialMessage:{type:[Boolean,String]},imageUploadMaxWidth:{type:[Number,String]},imageUploadMaxHeight:{type:[Number,String]},imageUploadMaxNumber:{type:[Number,String]},initialMessage:{type:String},inputPlaceholderText:{type:String},languageCode:{type:String},oauthClientId:{type:String},showErrorMessages:{type:[Boolean,String]},streamingMode:{type:String},streamingTts:{type:[Boolean,String]},tokenBrokerUrl:{type:String},voice:{type:String},websocketProxy:{type:String}},Bn={audioInputMode:"DEFAULT_OFF",audioOutputMode:"DEFAULT_ON",autoOpenChat:!1,chatTitle:"",disableImageUploads:!1,enableDebugger:!1,enableLiveTranscription:!1,hideInitialMessage:!0,imageUploadMaxWidth:800,imageUploadMaxHeight:800,imageUploadMaxNumber:4,inputPlaceholderText:"What do you need help with?",languageCode:"en-US",modality:"chat",showErrorMessages:!1,streamingMode:"STREAMING_MODE_PROACTIVE",streamingTts:!0,themeId:"light",size:"large",voice:"en-US-Chirp3-HD-Aoede"};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oh{constructor(e,n,r){if(!n)throw new Error("Agent ID is required for WebchannelBidiStream.");if(typeof r!="function")throw new Error("listenerProvider function is required for WebchannelBidiStream.");this.agentId=n,this.connectionless=!1,this.listenerProvider=r,this.channel=null,this.transportFactory=mc(),this.accessToken=null,this.listeners=null;const s=this.agentId.match(/projects\/([^/]+)\/locations\/([^/]+)\/(agents|apps)\/([^/]+)/);if(!s||s.length<5)throw new Error(`Invalid Agent ID format: ${this.agentId}. Expected: projects/<PROJECT_ID>/locations/<REGION_ID>/(agents|apps)/<AGENT_ID>`);this.projectId=s[1],this.gcpRegion=s[2],s[3]==="agents"?this.serverWebChannelUrl=`https://${this.gcpRegion}-dialogflow.googleapis.com/ws/google.cloud.dialogflow.v3alpha1.Sessions/BidiStreamingDetectIntent`:this.serverWebChannelUrl=`https://${vc[e]}/ws/google.cloud.ces.v1.SessionService/BidiRunSession/locations/${this.gcpRegion}`}_ensureListeners(){this.listeners||(this.listeners=this.listenerProvider(),(typeof this.listeners!="object"||this.listeners===null)&&(B.warn("WebchannelBidiStream: listenerProvider did not return a valid listeners object. Using empty object."),this.listeners={}))}_setupEventListeners(){if(!this.channel)return;this._ensureListeners();const e=gc.EventType;this.channel.listen(e.OPEN,()=>{B.log("WebchannelBidiStream: WebChannel OPENED!"),this.listeners.onOpen&&this.listeners.onOpen()}),this.channel.listen(e.CLOSE,()=>{B.log("WebchannelBidiStream: WebChannel CLOSED."),this.listeners.onClose&&this.listeners.onClose(),this.channel=null}),this.channel.listen(e.ERROR,n=>{B.error("WebchannelBidiStream: WebChannel ERROR:",n),this.listeners.onError&&this.listeners.onError(n)}),this.channel.listen(e.MESSAGE,n=>{this.listeners.onMessage&&this.listeners.onMessage(n.data[0])})}connect(e){if(!e){B.error("WebchannelBidiStream: Access Token is required to connect."),this._ensureListeners(),this.listeners.onError&&this.listeners.onError({status:"AUTH_ERROR",message:"Access Token is required."});return}if(this.accessToken=e,this.isConnected()){B.warn("WebchannelBidiStream: Channel is already open."),this._ensureListeners(),this.listeners.onOpen&&this.listeners.onOpen();return}if(this.channel){try{this.channel.close()}catch(r){B.warn("WebchannelBidiStream: Error closing existing channel before reconnect:",r)}this.channel=null}this._ensureListeners(),B.log(`WebchannelBidiStream: Creating WebChannel to ${this.serverWebChannelUrl}...`);const n={initMessageHeaders:{Authorization:`Bearer ${this.accessToken}`,"X-Goog-User-Project":this.projectId},messageContentType:"application/json",sendRawJson:!0,supportsCrossDomainXhr:!0,httpSessionIdParam:"gsessionid"};try{this.channel=this.transportFactory.createWebChannel(this.serverWebChannelUrl,n),this._setupEventListeners(),B.log("WebchannelBidiStream: Attempting to open WebChannel..."),this.listeners.onConnecting&&this.listeners.onConnecting(),this.channel.open()}catch(r){B.error("WebchannelBidiStream: Error creating or opening WebChannel:",r),this.listeners.onError&&this.listeners.onError({status:"CREATE_ERROR",message:"Failed to create or open WebChannel",originalError:r}),this.channel=null}}disconnect(){this.channel?(B.log("WebchannelBidiStream: Attempting to close WebChannel..."),this.channel.close()):B.warn("WebchannelBidiStream: No active channel to disconnect.")}sendMessage(e){if(this._ensureListeners(),this.isConnected())try{this.channel.send(e),this.listeners.onMessageSent&&this.listeners.onMessageSent(e)}catch(n){B.error("WebchannelBidiStream: Failed to send message:",n),this.listeners.onError&&this.listeners.onError({status:"SEND_ERROR",message:"Failed to send message",originalError:n})}else B.warn("WebchannelBidiStream: Cannot send message, channel is not open."),this.listeners.onError&&this.listeners.onError({status:"NOT_CONNECTED",message:"Cannot send: Not connected"})}isConnected(){return!!(this.channel&&this.channel.g&&this.channel.g.G===3)}}class Cs{constructor(e,n,r){if(!n)throw new Error("Agent ID is required for WebsocketBidiStream.");if(typeof r!="function")throw new Error("listenerProvider function is required for WebsocketBidiStream.");this.agentId=n,this.connectionless=!1,this.listenerProvider=r,this.websocket=null,this.listeners=null;const s=this.agentId.match(/projects\/([^/]+)\/locations\/([^/]+)\/(agents|apps)\/([^/]+)/);if(!s||s.length<5)throw new Error(`Invalid Agent ID format: ${this.agentId}. Expected: projects/<PROJECT_ID>/locations/<REGION_ID>/(agents|apps)/<AGENT_ID>`);this.projectId=s[1],this.gcpRegion=s[2],this.serverWebsocketUri=e}_ensureListeners(){this.listeners||(this.listeners=this.listenerProvider(),(typeof this.listeners!="object"||this.listeners===null)&&(B.warn("WebsocketBidiStream: listenerProvider did not return a valid listeners object. Using empty object."),this.listeners={}))}_setupEventListeners(){this.websocket&&(this._ensureListeners(),this.websocket.onopen=this.listeners.onOpen,this.websocket.onclose=e=>{B.log("WebsocketBidiStream: Websocket CLOSED."),this.websocket=null,this.listeners.onClose&&this.listeners.onClose(e)},this.websocket.onerror=this.listeners.onError,this.websocket.onmessage=async e=>{const n=e.data;let r;n instanceof Blob?r=await new Promise((l,o)=>{const c=new FileReader;c.onload=()=>l(c.result),c.onerror=o,c.readAsText(n)}):r=n;const s=JSON.parse(r);s.connection_closed&&B.log("Received connection_closed message: ",s),this.listeners.onMessage(s)})}connect(){if(B.log("WebsocketBidiStream: Attempting to open websocket..."),this.isConnected()){B.warn("WebsocketBidiStream: websocket is already open."),this._ensureListeners(),this.listeners.onOpen&&this.listeners.onOpen();return}if(this.websocket!==null){B.log("WebsocketBidiStream: Closing existing websocket...");try{this.websocket.close()}catch(e){B.warn("WebsocketBidiStream: Error closing existing websocket before reconnect:",e)}this.websocket=null}this._ensureListeners();try{B.log(`WebsocketBidiStream: Creating websocket to ${this.serverWebsocketUri}...`),this.websocket=new WebSocket(this.serverWebsocketUri),this._setupEventListeners(),this.listeners.onConnecting&&this.listeners.onConnecting()}catch(e){B.error("WebsocketBidiStream: Error creating or opening websocket:",e),this.listeners.onError&&this.listeners.onError({status:"CREATE_ERROR",message:"Failed to create or open websocket",originalError:e}),this.websocket=null}}disconnect(){this.websocket?(B.log("WebsocketBidiStream: Attempting to close websocket..."),this.websocket.close(),this.websocket=null):B.warn("WebsocketBidiStream: No active websocket to disconnect.")}sendMessage(e){if(this._ensureListeners(),this.isConnected())try{var n=e;typeof e!="string"&&(n=JSON.stringify(e)),this.websocket.send(n),this.listeners.onMessageSent&&this.listeners.onMessageSent(e)}catch(r){B.error("WebsocketBidiStream: Failed to send message:",r),this.listeners.onError&&this.listeners.onError({status:"SEND_ERROR",message:"Failed to send message",originalError:r})}else B.warn("WebsocketBidiStream: Cannot send message, websocket is not open."),this.listeners.onError&&this.listeners.onError({status:"NOT_CONNECTED",message:"Cannot send: Not connected"})}isConnected(){return!!(this.websocket&&this.websocket.readyState===WebSocket.OPEN)}}class Es{constructor(e,n,r,s,l){if(!n)throw new Error("Agent ID is required for HttpRequestResponseStream.");if(typeof r!="function")throw new Error("listenerProvider function is required for HttpRequestResponseStream.");this.agentId=n,this.connectionless=!0,this.listenerProvider=r,this.accessToken=null,this.listeners=null,this.sessionId=s;const o=this.agentId.match(/projects\/([^/]+)\/locations\/([^/]+)\/(agents|apps)\/([^/]+)/);if(!o||o.length<5)throw new Error(`Invalid Agent ID format: ${this.agentId}. Expected: projects/<PROJECT_ID>/locations/<REGION_ID>/(agents|apps)/<AGENT_ID>`);if(this.projectId=o[1],this.gcpRegion=o[2],o[3]==="agents")throw new Error(`Invalid Agent ID type: ${this.agentId}. Text-only mode not supported for DialogFlow agents. Use df-messenger instead (https://cloud.google.com/dialogflow/cx/docs/concept/integration/dialogflow-messenger).`);l?.match(/^https:\/\//)?this.sessionUrl=`${l}/${this.agentId}/sessions/${this.sessionId}:runSession`:this.sessionUrl=`https://${yc[e]}/v1beta/${this.agentId}/sessions/${this.sessionId}:runSession`}_ensureListeners(){this.listeners||(this.listeners=this.listenerProvider(),(typeof this.listeners!="object"||this.listeners===null)&&(B.warn("HttpRequestResponseStream: listenerProvider did not return a valid listeners object. Using empty object."),this.listeners={}))}connect(e){this._ensureListeners(),this.accessToken=e,this.listeners.onOpen&&this.listeners.onOpen()}disconnect(){this.accessToken=null}sendMessage(e){if(this._ensureListeners(),typeof e!="string"&&(e=JSON.stringify(e)),this.isConnected()){const n={"Content-Type":"application/json"};this.accessToken&&(n.Authorization=`Bearer ${this.accessToken}`),fetch(this.sessionUrl,{method:"POST",headers:n,body:e}).then(r=>r.ok?r.json():r.text().then(s=>{throw new Error(`HTTP error! status: ${r.status}, message: ${s}`)})).then(r=>{this.listeners.onMessage&&this.listeners.onMessage(r),this.listeners.onMessageSent&&this.listeners.onMessageSent(e)}).catch(r=>{B.error("HttpRequestResponseStream: Failed to send message:",r),this.listeners.onError&&(r.status===401?this.listeners.onError({status:"AUTH_ERROR",message:r.message?r.message:"Authentication error."}):r.status===403?this.listeners.onError({status:"AUTH_ERROR",message:r.message?r.message:"Authorization error."}):this.listeners.onError({status:"SEND_ERROR",message:r.message?r.message:"Failed to send message."}))})}else B.warn("HttpRequestResponseStream: Cannot send message, access token is required."),this.listeners.onError&&this.listeners.onError({status:"NOT_CONNECTED",message:"Cannot send: Not connected"})}isConnected(){return this.accessToken!==null}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ah(t){const e=t.trim().match(Ch);if(e)return{projectId:e.groups.project_id,location:e.groups.location,agentId:e.groups.agent_id,agentType:e.groups.agent_type};if(t.trim().match("^wss?://"))return{projectId:null,location:null,agentId:null,agentType:"adk"}}function Is(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}function Ph(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer}async function Mh({sampleRate:t}){const e=new(window.AudioContext||window.webkitAudioContext)({sampleRate:t});return await e.resume(),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lh=.05;class Ll{static createStreamer(e,n="DEFAULT"){return n==="SILENT"?new Nh:new Hh(e)}}class Nh{constructor(){this.onComplete=()=>{}}addChunk(e){}play(){}stop(){}complete(){}}class Dh{constructor(e){this.context=e,this.playbackRate=1,this.chunkCounter=0,this.fadeIn=!1,this.stickyHeaderSize=-1,this.headersSearched=0,this.headersLegthSum=0,this.onComplete=()=>{}}processChunk(e){let n=null;if(e instanceof Uint8Array)n=e;else if(typeof e=="string"){const c=Ph(e);if(!c)return B.error("ArrayBuffer is null after base64 decoding!"),null;n=new Uint8Array(c)}const r=this.headerLegth(n);if(r>0&&n.length>r&&(n=n.slice(r)),n.length===0)return B.debug("[addPCM16] Chunk length is 0, skipping."),null;this.chunkCounter++;const s=new Float32Array(n.length/2),l=new DataView(n.buffer,n.byteOffset,n.byteLength);let o=0;for(let c=0;c<n.length/2;c++){o++;try{const f=l.getInt16(c*2,!0);s[c]=f/32768}catch(f){B.error(`[addPCM16] Error reading Int16 at index ${c}:`,f),s[c]=0}}return o===0&&n.length>0?(B.error("[addPCM16] Loop finished but processed 0 samples, despite non-empty chunk!"),null):(this.chunkCounter===1&&this.context.sampleRate!==this.sampleRate&&B.warn("[addPCM16] SAMPLE RATE MISMATCH DETECTED!"),s.length===0&&n.length>0?(B.error("[addPCM16] Failed to convert chunk to Float32Array, length is 0."),null):s.length===0&&n.length===0?null:s)}headerLegth(e){if(this.stickyHeaderSize>-1)return this.stickyHeaderSize;const n=[100,97,116,97];let r=0;for(let s=0;s<e.length-3;s++)if(e[s]===n[0]&&e[s+1]===n[1]&&e[s+2]===n[2]&&e[s+3]===n[3]){r=s+n.length+4;break}return this.stickyHeaderSize==-1&&(this.headersSearched+=1,this.headersLegthSum+=r,r!=this.headersLegthSum/this.headersSearched?this.stickyHeaderSize=-2:this.headersSearched>5&&(this.stickyHeaderSize=r)),r}}class Hh extends Dh{constructor(e){super(e),this.sampleRate=this.context.sampleRate,this.numChannels=1,this.audioQueue=[],this.isPlaying=!1,this.nextPlayTime=0,this.schedulingInterval=null,this.currentSource=null,this.gainNode=this.context.createGain(),this.gainNode.connect(this.context.destination),this.startTimes=[],this.chunksPlayed=0,this.clipsPlayed=0,this.scheduleAheadTime=.3,this.chunkProcessInterval=100}addChunk(e){const n=this.processChunk(e);n!=null&&this.audioQueue.push(n)}async play(){this.isPlaying||(this.context.state==="suspended"&&await this.context.resume(),this.isPlaying=!0,this.nextPlayTime==0&&(this.nextPlayTime=this.context.currentTime+.2),setTimeout(()=>{this.schedulingInterval=setInterval(()=>this._schedulePlayback(),this.chunkProcessInterval)},0))}stop(){if(this.currentSource)try{this.currentSource.stop(),this.currentSource.disconnect()}catch{}this.isPlaying=!1,clearInterval(this.schedulingInterval),this.schedulingInterval=null,this.audioQueue=[],this.nextPlayTime=0,this.chunksPlayed=0,this.clipsPlayed=0}_schedulePlayback(){if(this.audioQueue.length!=0)for(;this.audioQueue.length>0&&this.nextPlayTime<this.context.currentTime+this.scheduleAheadTime;){const e=this.audioQueue;this.audioQueue=[];let n=0;for(const f of e)n+=f.length;if(n===0)continue;const r=new Float32Array(n);let s=0;for(const f of e)r.set(f,s),s+=f.length,this.chunksPlayed++;const l=this.context.createBuffer(this.numChannels,r.length,this.sampleRate);l.copyToChannel(r,0);let o=l.duration/this.playbackRate;const c=this.context.createBufferSource();c.playbackRate.value=this.playbackRate,this.clipsPlayed++,c.onended=()=>{let f=this.startTimes.shift();B.debug(`[${this.context.currentTime}] audio clip ended playing with actual duration: ${this.context.currentTime-f}`),this.startTimes.length==0&&(this.nextPlayTime=0,this.audioQueue.length==0&&(this.stop(),this.onComplete()))},this.fadeIn&&(this.startTimes.length==0||this.clipsPlayed==this.chunksPlayed)?(this.gainNode.gain.setValueAtTime(1e-4,this.nextPlayTime),this.gainNode.gain.exponentialRampToValueAtTime(1,this.nextPlayTime+Lh)):this.gainNode.gain.setValueAtTime(1,this.nextPlayTime),c.buffer=l,c.connect(this.gainNode),B.debug(`[${this.context.currentTime}] playing audio clip (${e.length} chunks) at time ${this.nextPlayTime} with expected duration ${o}`),c.start(this.nextPlayTime),this.startTimes.push(this.nextPlayTime),this.currentSource=c,this.nextPlayTime+=o}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rs=new Map;function $h(t,e){const n=new Blob([`${e}`],{type:"application/javascript"});return URL.createObjectURL(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uh=`
class AudioProcessingWorklet extends AudioWorkletProcessor {
  // send and clear buffer every 2048 samples, 
  // which at 16khz is about 8 times a second
  buffer = new Int16Array(2048);

  // current write index
  bufferWriteIndex = 0;

  constructor() {
    super();
  }

  process(inputs) {
    if (inputs[0].length) {
      const channel0 = inputs[0][0];
      this.processChunk(channel0);
    }
    return true;
  }

  sendAndClearBuffer() {
    this.port.postMessage({
      event: "chunk",
      data: {
        int16arrayBuffer: this.buffer.slice(0, this.bufferWriteIndex).buffer,
      },
    });
    this.bufferWriteIndex = 0;
  }

  processChunk(float32Array) {
    const l = float32Array.length;
    
    for (let i = 0; i < l; i++) {
      // convert float32 -1 to 1 to int16 -32768 to 32767
      const int16Value = float32Array[i] * 32768;
      this.buffer[this.bufferWriteIndex++] = int16Value;
      if(this.bufferWriteIndex >= this.buffer.length) {
        this.sendAndClearBuffer();
      }
    }

    if(this.bufferWriteIndex >= this.buffer.length) {
      this.sendAndClearBuffer();
    }
  }
}

registerProcessor('audio-recorder-worklet', AudioProcessingWorklet);
`;function bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Os={exports:{}},Nl;function Bh(){return Nl||(Nl=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function l(f,h,p,m,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var k=new s(p,m||f,x),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],k]:f._events[w].push(k):(f._events[w]=k,f._eventsCount++),f}function o(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,k=m.length,w=new Array(k);x<k;x++)w[x]=m[x].fn;return w},c.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,x,k,w){var A=n?n+h:h;if(!this._events[A])return!1;var N=this._events[A],M=arguments.length,R,G;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),M){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,m),!0;case 4:return N.fn.call(N.context,p,m,x),!0;case 5:return N.fn.call(N.context,p,m,x,k),!0;case 6:return N.fn.call(N.context,p,m,x,k,w),!0}for(G=1,R=new Array(M-1);G<M;G++)R[G-1]=arguments[G];N.fn.apply(N.context,R)}else{var _=N.length,D;for(G=0;G<_;G++)switch(N[G].once&&this.removeListener(h,N[G].fn,void 0,!0),M){case 1:N[G].fn.call(N[G].context);break;case 2:N[G].fn.call(N[G].context,p);break;case 3:N[G].fn.call(N[G].context,p,m);break;case 4:N[G].fn.call(N[G].context,p,m,x);break;default:if(!R)for(D=1,R=new Array(M-1);D<M;D++)R[D-1]=arguments[D];N[G].fn.apply(N[G].context,R)}}return!0},c.prototype.on=function(h,p,m){return l(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return l(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,x){var k=n?n+h:h;if(!this._events[k])return this;if(!p)return o(this,k),this;var w=this._events[k];if(w.fn)w.fn===p&&(!x||w.once)&&(!m||w.context===m)&&o(this,k);else{for(var A=0,N=[],M=w.length;A<M;A++)(w[A].fn!==p||x&&!w[A].once||m&&w[A].context!==m)&&N.push(w[A]);N.length?this._events[k]=N.length===1?N[0]:N:o(this,k)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(Os)),Os.exports}var jh=Bh();const Fh=bc(jh);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qh(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,s=0;s<r;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}class zh extends Fh{constructor(){super(),this.sampleRate=16e3,this.stream=void 0,this.audioContext=void 0,this.source=void 0,this.recording=!1,this.recordingWorklet=void 0,this.starting=null,this.isMuted=!1}async start(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Could not request user media");this.starting=new Promise((e,n)=>{(async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.audioContext=await Mh({sampleRate:this.sampleRate}),this.source=this.audioContext.createMediaStreamSource(this.stream);const r="audio-recorder-worklet",s=Uh;Rs.has(this.audioContext)||Rs.set(this.audioContext,{});const l=Rs.get(this.audioContext);if(!l[r]){const o=$h(r,s);await this.audioContext.audioWorklet.addModule(o),l[r]={node:new AudioWorkletNode(this.audioContext,r),handlers:[]}}this.recordingWorklet=l[r].node,this.recordingWorklet.port.onmessage=async o=>{const c=o.data.data.int16arrayBuffer;if(c){const f=qh(c);this.emit("data",f)}},this.source.connect(this.recordingWorklet),this.recording=!0,e(),this.starting=null}catch(r){n(r)}})()})}stop(){const e=()=>{this.source?.disconnect(),this.stream?.getTracks().forEach(n=>n.stop()),this.stream=void 0,this.recordingWorklet=void 0,this.recording=!1};if(this.starting){this.starting.then(e);return}e()}mute(){this.source&&this.recordingWorklet&&!this.isMuted&&(this.source.disconnect(this.recordingWorklet),this.isMuted=!0)}unmute(){this.source&&this.recordingWorklet&&this.isMuted&&(this.source.connect(this.recordingWorklet),this.isMuted=!1)}}const Wh={configMessage:{session:"<FROM SETTINGS>",inputAudioConfig:{audioEncoding:"AUDIO_ENCODING_LINEAR_16",sampleRateHertz:16e3,languageCode:"<FROM SETTINGS>",singleUtterance:!0},outputAudioConfig:{audioEncoding:"OUTPUT_AUDIO_ENCODING_LINEAR_16",sample_rate_hertz:24e3,synthesizeSpeechConfig:{voice:{name:"<FROM SETTINGS>"}}},languageCode:"<FROM SETTINGS>",enableProactiveProcessing:!0,enableStreamingSynthesize:"<FROM SETTINGS>",enablePartialResponse:!0,streamingMode:"<FROM SETTINGS>"}},Vh={config:{session:"<FROM SETTINGS>",inputAudioConfig:{audioEncoding:"LINEAR16",sampleRateHertz:16e3},outputAudioConfig:{audioEncoding:"LINEAR16",sampleRateHertz:16e3}}},xc={BIDI_SDI:Wh,BIDI_RS:Vh};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gh{static createAdaptor(e){const{projectId:n,agentId:r,agentType:s,location:l}=Ah(e.cesUrl);if(s==="agents")return new wc(n,r,l);if(s==="apps")if(e.audioInputMode==="NONE"){const o=new _c(n,r,l);return o.agentConfig=e,o}else return new Vs(n,r,l);else if(s==="adk"){const o=new Vs(null,null,null);return o.appId="BIDI_ADK",o}}}class bo{constructor(e,n,r){this.apiId="UNDEFINED",this.projectId=e,this.agentId=n,this.location=r,this.sessionId=Is(),this.lastTranscript=null,this.recentTranscripts=0,this.bargeInTranscriptsTrigger=3,this.bargeInMaxGapMs=300}newSession(){this.sessionId=Is()}endSession(){return this.sessionId=Is(),null}detectBargeIn(e,n=!1){if(this.bargeInTranscriptsTrigger==-1)return!1;if(n)return!0;const r=Date.now(),s=this.lastTranscript?r-this.lastTranscript:1/0;return this.lastTranscript=r,s<this.bargeInMaxGapMs?this.recentTranscripts++:this.recentTranscripts=0,B.log("barge-in detected:",this.recentTranscripts>=this.bargeInTranscriptsTrigger),this.recentTranscripts>=this.bargeInTranscriptsTrigger}mergeConfig(e,n){if(!e)return n;let r=e;if(typeof e=="string")try{r=JSON.parse(e)}catch(s){return B.log(s),n}if(typeof e!="object")return n;for(const s of Object.keys(r)){const l=r[s],o=n[s];Object.hasOwn(n,s)?typeof n[s]!=typeof l?n[s]=l:Array.isArray(l)?o.push(...l):typeof l=="object"&&l!==null?this.mergeConfig(l,o):n[s]=l:n[s]=l}return n}}class wc extends bo{constructor(e,n,r){super(e,n,r),this.apiId="BIDI_SDI",this.appString=`projects/${this.projectId}/locations/${this.location}/agents/${this.agentId}`}getConfigMessage(e,n){let r=JSON.parse(JSON.stringify(xc[this.apiId]));return r.configMessage.session=`${this.appString}/sessions/${this.sessionId}`,r.configMessage.inputAudioConfig.languageCode=e.languageCode,r.configMessage.languageCode=e.languageCode,r.configMessage.outputAudioConfig.synthesizeSpeechConfig.voice.name=e.voice,r.configMessage.streamingMode=e.streamingMode,r.configMessage.enableStreamingSynthesize=e.streamingTts,e.currentPlaybook&&(r.configMessage.query_params=r.configMessage.query_params||{},r.configMessage.query_params.current_playbook=e.currentPlaybook),n&&(r.configMessage.accessToken=n),this.mergeConfig(e.customConfigJson,r)}marshallMessage(e){if(e.type.toUpperCase()==="SESSION_INPUT")return{inputData:{text:e.payload}};if(e.type.toUpperCase()==="AUDIO")return{inputData:e.payload}}unmarshallMessage(e){let n=[];if(e.audioOutput&&e.audioOutput.audio){var r={};r.type="AUDIO",r.audio=e.audioOutput.audio,e.audioOutput.outputAudioConfig&&(r.sampleRateHertz=e.audioOutput.outputAudioConfig.sampleRateHertz,r.audioEncoding=e.audioOutput.outputAudioConfig.audioEncoding),n.push(r)}if(e.detectIntentResponse&&e.detectIntentResponse.queryResult){const s=e.detectIntentResponse.queryResult.responseMessages;s&&s.map(f=>f.text?.text).flat().forEach(f=>{if(f){var h={};h.type="TEXT",h.text=f,h.responseType=e.detectIntentResponse.responseType,n.push(h)}});const l=s?.find(c=>c.toolCall);if(l){let c={};c.type="TOOL_CALL",c.toolCall=l,n.push(c)}if(e.detectIntentResponse.responseType==="FINAL"){let c={};c.type="CONTROL_SIGNAL",c.turnCompleted=!0,n.push(c)}if(s?.find(c=>c.endInteraction)||["END_SESSION","flow.cancelled"].includes(e.detectIntentResponse.queryResult.match?.event)){let c={};c.type="CONTROL_SIGNAL",c.agentDisconnect=!0,e.detectIntentResponse.queryResult.match?.event==="flow.failed.human-escalation"?c.disconnectReason="HARD_HANDOVER":c.disconnectReason="AGENT_REQUESTED",n.push(c)}}if(e.recognitionResult){let s={};s.type="TRANSCRIPT",s.transcript=e.recognitionResult.transcript,e.recognitionResult.isFinal&&(s.isFinal=!0),this.detectBargeIn(e.recognitionResult.transcript,s.isFinal)&&(s.interruptionSignal=!0),n.push(s)}return n}}class Vs extends bo{constructor(e,n,r){super(e,n,r),this.apiId="BIDI_RS",this.appString=`projects/${this.projectId}/locations/${this.location}/apps/${this.agentId}`}endSession(){return super.endSession(),null}getConfigMessage(e,n){let r=JSON.parse(JSON.stringify(xc[this.apiId]));return r.config.session=`${this.appString}/sessions/${this.sessionId}`,e.deploymentId&&(r.config.deployment=e.deploymentId),n&&(r.config.accessToken=n),e.environment&&e.environment==="dev"&&e.apiUri&&(r.config.environment="dev"),this.mergeConfig(e.customConfigJson,r)}marshallMessage(e){if(e.type.toUpperCase()==="SESSION_INPUT"){const n=[];if(e.payload.vars&&Object.keys(e.payload.vars).length>0&&n.push({realtimeInput:{variables:e.payload.vars}}),e.payload.images&&e.payload.images.length>0)for(const r of e.payload.images){const s={};r.startsWith("data:image/")&&(s.data=r.split(",")[1],s.mime_type=r.split(";")[0].split(":")[1]),n.push({realtimeInput:{image:s}})}return e.payload.text&&e.payload.text.length>0&&n.push({realtimeInput:{text:e.payload.text}}),n}else{if(e.type.toUpperCase()==="AUDIO")return{realtimeInput:e.payload};if(e.type.toUpperCase()==="VARS")return{realtimeInput:{variables:e.payload}};if(e.type.toUpperCase()==="TOOL_RESPONSE")return{realtimeInput:{toolResponses:{toolResponses:[e.payload]}}}}}unmarshallMessage(e){let n=[];if(e.sessionOutput){const r={};if(e.sessionOutput.turnIndex&&(r.turnIndex=e.sessionOutput.turnIndex),e.sessionOutput.turnCompleted&&(r.turnCompleted=e.sessionOutput.turnCompleted),e.sessionOutput.partial!=null&&(r.partial=e.sessionOutput.partial),e.sessionOutput.text){let s={...r};s.type="TEXT",s.text=e.sessionOutput.text,n.push(s)}else if(e.sessionOutput.audio){let s={...r};s.type="AUDIO",s.audio=e.sessionOutput.audio,n.push(s)}else if(e.sessionOutput.toolCalls)for(const s of e.sessionOutput.toolCalls.toolCalls){let l={...r};l.type="TOOL_CALL",l.toolCall=s,n.push(l)}}if(e.recognitionResult){let r={};r.type="TRANSCRIPT",r.transcript=e.recognitionResult.transcript,e.recognitionResult.partial!=null&&(r.partial=e.recognitionResult.partial),n.push(r)}if(e.interruptionSignal){let r={};r.type="CONTROL_SIGNAL",r.interruptionSignal=!0,n.push(r)}if(e.turnCompleted||e.sessionOutput&&e.sessionOutput.turnCompleted){let r={};r.type="CONTROL_SIGNAL",r.turnCompleted=!0,n.push(r)}if(e.endSession){let r={};r.type="CONTROL_SIGNAL",r.agentDisconnect=!0,n.push(r)}if(e.goAway){let r={};r.type="CONTROL_SIGNAL",r.goAway=!0,n.push(r)}return n}}class _c extends bo{constructor(e,n,r){super(e,n,r),this.apiId="RS",this.appString=`projects/${this.projectId}/locations/${this.location}/apps/${this.agentId}`,this.agentConfig=null}endSession(){return super.endSession(),null}getConfigMessage(e,n){let r={config:{}};return r.config.session=`${this.appString}/sessions/${this.sessionId}`,e.deploymentId&&(r.config.deployment=e.deploymentId),r}marshallMessage(e){const n={inputs:[]},r=this.getConfigMessage(this.agentConfig,null);if(n.config=r.config,e.type.toUpperCase()==="SESSION_INPUT"){if(e.payload.vars&&Object.keys(e.payload.vars).length>0&&n.inputs.push({variables:e.payload.vars}),e.payload.images&&e.payload.images.length>0)for(const s of e.payload.images){const l={};s.startsWith("data:image/")&&(l.data=s.split(",")[1],l.mime_type=s.split(";")[0].split(":")[1]),n.inputs.push({image:l})}e.payload.text&&e.payload.text.length>0&&n.inputs.push({text:e.payload.text})}return e.type.toUpperCase()==="TOOL_RESPONSE"&&n.inputs.push({toolResponses:{toolResponses:[e.payload]}}),n}unmarshallMessage(e){const n=[];if(e.outputs){const r=Array.isArray(e.outputs)?e.outputs:[e.outputs];for(const s of r){if(s.text){let l={};l.type="TEXT",l.text=s.text,s.turnIndex&&(l.turnIndex=s.turnIndex),s.turnCompleted&&(l.turnCompleted=s.turnCompleted),n.push(l),e.outputs.partial!=null&&(l.partial=e.outputs.partial)}if(s.toolCalls)for(const l of s.toolCalls.toolCalls){const o={};o.type="TOOL_CALL",o.toolCall=l,n.push(o)}}}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kh{constructor(e,n,r,s,l,o){this.location=e,this.projectId=n,this.agentId=r,this.sessionId=s,this.accessToken=l,this.router=o,this.registeredFunctions=[],this.functionResponseOk={status:"OK"}}#e(e){return this.registeredFunctions.find(n=>n.toolId.toolName===e.toolName&&n.toolId.toolDisplayName===e.toolDisplayName)}registerClientSideFunction(e,n){this.registeredFunctions.push({toolId:e,functionRef:n}),B.log("Registered function",{toolId:e,functionRef:n})}isRegisteredFunction(e){return this.#e(e)!==void 0}async runFunctionTool(e,n,r){const s=this.#e(n);if(s){const l=s.functionRef;try{const o=await l(r,this);return{id:e,tool:s.toolId.toolName,displayName:n.toolDisplayName,response:o}}catch(o){const c=n.toolDisplayName||n.toolName;return B.error(`An error occurred while running tool '${c}':`,o),{error:`An error occurred while running ${c}. The function returned ${o.message}`}}}return B.log("Error: could not find registered function",{toolId:n}),{error:`Function tool '${n.toolDisplayName||n.toolName}' not registered.`}}}var pr={exports:{}},Tt={},at={},Dl;function Dt(){if(Dl)return at;Dl=1,at.__esModule=!0,at.extend=s,at.indexOf=f,at.escapeExpression=h,at.isEmpty=p,at.createFrame=m,at.blockParams=x,at.appendContextPath=k;var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},e=/[&<>"'`=]/g,n=/[&<>"'`=]/;function r(w){return t[w]}function s(w){for(var A=1;A<arguments.length;A++)for(var N in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],N)&&(w[N]=arguments[A][N]);return w}var l=Object.prototype.toString;at.toString=l;var o=function(A){return typeof A=="function"};o(/x/)&&(at.isFunction=o=function(w){return typeof w=="function"&&l.call(w)==="[object Function]"}),at.isFunction=o;var c=Array.isArray||function(w){return w&&typeof w=="object"?l.call(w)==="[object Array]":!1};at.isArray=c;function f(w,A){for(var N=0,M=w.length;N<M;N++)if(w[N]===A)return N;return-1}function h(w){if(typeof w!="string"){if(w&&w.toHTML)return w.toHTML();if(w==null)return"";if(!w)return w+"";w=""+w}return n.test(w)?w.replace(e,r):w}function p(w){return!w&&w!==0?!0:!!(c(w)&&w.length===0)}function m(w){var A=s({},w);return A._parent=w,A}function x(w,A){return w.path=A,w}function k(w,A){return(w?w+".":"")+A}return at}var gr={exports:{}},Hl;function In(){return Hl||(Hl=1,function(t,e){e.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(s,l){var o=l&&l.loc,c=void 0,f=void 0,h=void 0,p=void 0;o&&(c=o.start.line,f=o.end.line,h=o.start.column,p=o.end.column,s+=" - "+c+":"+h);for(var m=Error.prototype.constructor.call(this,s),x=0;x<n.length;x++)this[n[x]]=m[n[x]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{o&&(this.lineNumber=c,this.endLineNumber=f,Object.defineProperty?(Object.defineProperty(this,"column",{value:h,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:p,enumerable:!0})):(this.column=h,this.endColumn=p))}catch{}}r.prototype=new Error,e.default=r,t.exports=e.default}(gr,gr.exports)),gr.exports}var bi={},mr={exports:{}},$l;function Zh(){return $l||($l=1,function(t,e){e.__esModule=!0;var n=Dt();e.default=function(r){r.registerHelper("blockHelperMissing",function(s,l){var o=l.inverse,c=l.fn;if(s===!0)return c(this);if(s===!1||s==null)return o(this);if(n.isArray(s))return s.length>0?(l.ids&&(l.ids=[l.name]),r.helpers.each(s,l)):o(this);if(l.data&&l.ids){var f=n.createFrame(l.data);f.contextPath=n.appendContextPath(l.data.contextPath,l.name),l={data:f}}return c(s,l)})},t.exports=e.default}(mr,mr.exports)),mr.exports}var vr={exports:{}},Ul;function Jh(){return Ul||(Ul=1,function(t,e){e.__esModule=!0;function n(o){return o&&o.__esModule?o:{default:o}}var r=Dt(),s=In(),l=n(s);e.default=function(o){o.registerHelper("each",function(c,f){if(!f)throw new l.default("Must pass iterator to #each");var h=f.fn,p=f.inverse,m=0,x="",k=void 0,w=void 0;f.data&&f.ids&&(w=r.appendContextPath(f.data.contextPath,f.ids[0])+"."),r.isFunction(c)&&(c=c.call(this)),f.data&&(k=r.createFrame(f.data));function A(_,D,W){k&&(k.key=_,k.index=D,k.first=D===0,k.last=!!W,w&&(k.contextPath=w+_)),x=x+h(c[_],{data:k,blockParams:r.blockParams([c[_],_],[w+_,null])})}if(c&&typeof c=="object")if(r.isArray(c))for(var N=c.length;m<N;m++)m in c&&A(m,m,m===c.length-1);else if(typeof Symbol=="function"&&c[Symbol.iterator]){for(var M=[],R=c[Symbol.iterator](),G=R.next();!G.done;G=R.next())M.push(G.value);c=M;for(var N=c.length;m<N;m++)A(m,m,m===c.length-1)}else(function(){var _=void 0;Object.keys(c).forEach(function(D){_!==void 0&&A(_,m-1),_=D,m++}),_!==void 0&&A(_,m-1,!0)})();return m===0&&(x=p(this)),x})},t.exports=e.default}(vr,vr.exports)),vr.exports}var yr={exports:{}},Bl;function Xh(){return Bl||(Bl=1,function(t,e){e.__esModule=!0;function n(l){return l&&l.__esModule?l:{default:l}}var r=In(),s=n(r);e.default=function(l){l.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new s.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default}(yr,yr.exports)),yr.exports}var br={exports:{}},jl;function Yh(){return jl||(jl=1,function(t,e){e.__esModule=!0;function n(o){return o&&o.__esModule?o:{default:o}}var r=Dt(),s=In(),l=n(s);e.default=function(o){o.registerHelper("if",function(c,f){if(arguments.length!=2)throw new l.default("#if requires exactly one argument");return r.isFunction(c)&&(c=c.call(this)),!f.hash.includeZero&&!c||r.isEmpty(c)?f.inverse(this):f.fn(this)}),o.registerHelper("unless",function(c,f){if(arguments.length!=2)throw new l.default("#unless requires exactly one argument");return o.helpers.if.call(this,c,{fn:f.inverse,inverse:f.fn,hash:f.hash})})},t.exports=e.default}(br,br.exports)),br.exports}var xr={exports:{}},Fl;function Qh(){return Fl||(Fl=1,function(t,e){e.__esModule=!0,e.default=function(n){n.registerHelper("log",function(){for(var r=[void 0],s=arguments[arguments.length-1],l=0;l<arguments.length-1;l++)r.push(arguments[l]);var o=1;s.hash.level!=null?o=s.hash.level:s.data&&s.data.level!=null&&(o=s.data.level),r[0]=o,n.log.apply(n,r)})},t.exports=e.default}(xr,xr.exports)),xr.exports}var wr={exports:{}},ql;function ed(){return ql||(ql=1,function(t,e){e.__esModule=!0,e.default=function(n){n.registerHelper("lookup",function(r,s,l){return r&&l.lookupProperty(r,s)})},t.exports=e.default}(wr,wr.exports)),wr.exports}var _r={exports:{}},zl;function td(){return zl||(zl=1,function(t,e){e.__esModule=!0;function n(o){return o&&o.__esModule?o:{default:o}}var r=Dt(),s=In(),l=n(s);e.default=function(o){o.registerHelper("with",function(c,f){if(arguments.length!=2)throw new l.default("#with requires exactly one argument");r.isFunction(c)&&(c=c.call(this));var h=f.fn;if(r.isEmpty(c))return f.inverse(this);var p=f.data;return f.data&&f.ids&&(p=r.createFrame(f.data),p.contextPath=r.appendContextPath(f.data.contextPath,f.ids[0])),h(c,{data:p,blockParams:r.blockParams([c],[p&&p.contextPath])})})},t.exports=e.default}(_r,_r.exports)),_r.exports}var Wl;function kc(){if(Wl)return bi;Wl=1,bi.__esModule=!0,bi.registerDefaultHelpers=A,bi.moveHelperToHooks=N;function t(M){return M&&M.__esModule?M:{default:M}}var e=Zh(),n=t(e),r=Jh(),s=t(r),l=Xh(),o=t(l),c=Yh(),f=t(c),h=Qh(),p=t(h),m=ed(),x=t(m),k=td(),w=t(k);function A(M){n.default(M),s.default(M),o.default(M),f.default(M),p.default(M),x.default(M),w.default(M)}function N(M,R,G){M.helpers[R]&&(M.hooks[R]=M.helpers[R],G||delete M.helpers[R])}return bi}var kr={},Sr={exports:{}},Vl;function nd(){return Vl||(Vl=1,function(t,e){e.__esModule=!0;var n=Dt();e.default=function(r){r.registerDecorator("inline",function(s,l,o,c){var f=s;return l.partials||(l.partials={},f=function(h,p){var m=o.partials;o.partials=n.extend({},m,l.partials);var x=s(h,p);return o.partials=m,x}),l.partials[c.args[0]]=c.fn,f})},t.exports=e.default}(Sr,Sr.exports)),Sr.exports}var Gl;function id(){if(Gl)return kr;Gl=1,kr.__esModule=!0,kr.registerDefaultDecorators=r;function t(s){return s&&s.__esModule?s:{default:s}}var e=nd(),n=t(e);function r(s){n.default(s)}return kr}var Tr={exports:{}},Kl;function Sc(){return Kl||(Kl=1,function(t,e){e.__esModule=!0;var n=Dt(),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(l){if(typeof l=="string"){var o=n.indexOf(r.methodMap,l.toLowerCase());o>=0?l=o:l=parseInt(l,10)}return l},log:function(l){if(l=r.lookupLevel(l),typeof console<"u"&&r.lookupLevel(r.level)<=l){var o=r.methodMap[l];console[o]||(o="log");for(var c=arguments.length,f=Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];console[o].apply(console,f)}}};e.default=r,t.exports=e.default}(Tr,Tr.exports)),Tr.exports}var jn={},Cr={},Zl;function rd(){if(Zl)return Cr;Zl=1,Cr.__esModule=!0,Cr.createNewLookupObject=e;var t=Dt();function e(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.extend.apply(void 0,[Object.create(null)].concat(r))}return Cr}var Jl;function Tc(){if(Jl)return jn;Jl=1,jn.__esModule=!0,jn.createProtoAccessControl=l,jn.resultIsAllowed=o,jn.resetLoggedProperties=h;function t(p){return p&&p.__esModule?p:{default:p}}var e=rd(),n=Sc(),r=t(n),s=Object.create(null);function l(p){var m=Object.create(null);m.constructor=!1,m.__defineGetter__=!1,m.__defineSetter__=!1,m.__lookupGetter__=!1;var x=Object.create(null);return x.__proto__=!1,{properties:{whitelist:e.createNewLookupObject(x,p.allowedProtoProperties),defaultValue:p.allowProtoPropertiesByDefault},methods:{whitelist:e.createNewLookupObject(m,p.allowedProtoMethods),defaultValue:p.allowProtoMethodsByDefault}}}function o(p,m,x){return c(typeof p=="function"?m.methods:m.properties,x)}function c(p,m){return p.whitelist[m]!==void 0?p.whitelist[m]===!0:p.defaultValue!==void 0?p.defaultValue:(f(m),!1)}function f(p){s[p]!==!0&&(s[p]=!0,r.default.log("error",'Handlebars: Access has been denied to resolve the property "'+p+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function h(){Object.keys(s).forEach(function(p){delete s[p]})}return jn}var Xl;function Cc(){if(Xl)return Tt;Xl=1,Tt.__esModule=!0,Tt.HandlebarsEnvironment=w;function t(N){return N&&N.__esModule?N:{default:N}}var e=Dt(),n=In(),r=t(n),s=kc(),l=id(),o=Sc(),c=t(o),f=Tc(),h="4.7.8";Tt.VERSION=h;var p=8;Tt.COMPILER_REVISION=p;var m=7;Tt.LAST_COMPATIBLE_COMPILER_REVISION=m;var x={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};Tt.REVISION_CHANGES=x;var k="[object Object]";function w(N,M,R){this.helpers=N||{},this.partials=M||{},this.decorators=R||{},s.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}w.prototype={constructor:w,logger:c.default,log:c.default.log,registerHelper:function(M,R){if(e.toString.call(M)===k){if(R)throw new r.default("Arg not supported with multiple helpers");e.extend(this.helpers,M)}else this.helpers[M]=R},unregisterHelper:function(M){delete this.helpers[M]},registerPartial:function(M,R){if(e.toString.call(M)===k)e.extend(this.partials,M);else{if(typeof R>"u")throw new r.default('Attempting to register a partial called "'+M+'" as undefined');this.partials[M]=R}},unregisterPartial:function(M){delete this.partials[M]},registerDecorator:function(M,R){if(e.toString.call(M)===k){if(R)throw new r.default("Arg not supported with multiple decorators");e.extend(this.decorators,M)}else this.decorators[M]=R},unregisterDecorator:function(M){delete this.decorators[M]},resetLoggedPropertyAccesses:function(){f.resetLoggedProperties()}};var A=c.default.log;return Tt.log=A,Tt.createFrame=e.createFrame,Tt.logger=c.default,Tt}var Er={exports:{}},Yl;function sd(){return Yl||(Yl=1,function(t,e){e.__esModule=!0;function n(r){this.string=r}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default}(Er,Er.exports)),Er.exports}var qt={},Ir={},Ql;function od(){if(Ql)return Ir;Ql=1,Ir.__esModule=!0,Ir.wrapHelper=t;function t(e,n){if(typeof e!="function")return e;var r=function(){var l=arguments[arguments.length-1];return arguments[arguments.length-1]=n(l),e.apply(this,arguments)};return r}return Ir}var ea;function ld(){if(ea)return qt;ea=1,qt.__esModule=!0,qt.checkRevision=p,qt.template=m,qt.wrapProgram=x,qt.resolvePartial=k,qt.invokePartial=w,qt.noop=A;function t(_){return _&&_.__esModule?_:{default:_}}function e(_){if(_&&_.__esModule)return _;var D={};if(_!=null)for(var W in _)Object.prototype.hasOwnProperty.call(_,W)&&(D[W]=_[W]);return D.default=_,D}var n=Dt(),r=e(n),s=In(),l=t(s),o=Cc(),c=kc(),f=od(),h=Tc();function p(_){var D=_&&_[0]||1,W=o.COMPILER_REVISION;if(!(D>=o.LAST_COMPATIBLE_COMPILER_REVISION&&D<=o.COMPILER_REVISION))if(D<o.LAST_COMPATIBLE_COMPILER_REVISION){var ae=o.REVISION_CHANGES[W],Z=o.REVISION_CHANGES[D];throw new l.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+ae+") or downgrade your runtime to an older version ("+Z+").")}else throw new l.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+_[1]+").")}function m(_,D){if(!D)throw new l.default("No environment passed to template");if(!_||!_.main)throw new l.default("Unknown template object: "+typeof _);_.main.decorator=_.main_d,D.VM.checkRevision(_.compiler);var W=_.compiler&&_.compiler[0]===7;function ae(K,j,F){F.hash&&(j=r.extend({},j,F.hash),F.ids&&(F.ids[0]=!0)),K=D.VM.resolvePartial.call(this,K,j,F);var V=r.extend({},F,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),oe=D.VM.invokePartial.call(this,K,j,V);if(oe==null&&D.compile&&(F.partials[F.name]=D.compile(K,_.compilerOptions,D),oe=F.partials[F.name](j,V)),oe!=null){if(F.indent){for(var Ee=oe.split(`
`),ce=0,ie=Ee.length;ce<ie&&!(!Ee[ce]&&ce+1===ie);ce++)Ee[ce]=F.indent+Ee[ce];oe=Ee.join(`
`)}return oe}else throw new l.default("The partial "+F.name+" could not be compiled when running in runtime-only mode")}var Z={strict:function(j,F,V){if(!j||!(F in j))throw new l.default('"'+F+'" not defined in '+j,{loc:V});return Z.lookupProperty(j,F)},lookupProperty:function(j,F){var V=j[F];if(V==null||Object.prototype.hasOwnProperty.call(j,F)||h.resultIsAllowed(V,Z.protoAccessControl,F))return V},lookup:function(j,F){for(var V=j.length,oe=0;oe<V;oe++){var Ee=j[oe]&&Z.lookupProperty(j[oe],F);if(Ee!=null)return j[oe][F]}},lambda:function(j,F){return typeof j=="function"?j.call(F):j},escapeExpression:r.escapeExpression,invokePartial:ae,fn:function(j){var F=_[j];return F.decorator=_[j+"_d"],F},programs:[],program:function(j,F,V,oe,Ee){var ce=this.programs[j],ie=this.fn(j);return F||Ee||oe||V?ce=x(this,j,ie,F,V,oe,Ee):ce||(ce=this.programs[j]=x(this,j,ie)),ce},data:function(j,F){for(;j&&F--;)j=j._parent;return j},mergeIfNeeded:function(j,F){var V=j||F;return j&&F&&j!==F&&(V=r.extend({},F,j)),V},nullContext:Object.seal({}),noop:D.VM.noop,compilerInfo:_.compiler};function pe(K){var j=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],F=j.data;pe._setup(j),!j.partial&&_.useData&&(F=N(K,F));var V=void 0,oe=_.useBlockParams?[]:void 0;_.useDepths&&(j.depths?V=K!=j.depths[0]?[K].concat(j.depths):j.depths:V=[K]);function Ee(ce){return""+_.main(Z,ce,Z.helpers,Z.partials,F,oe,V)}return Ee=M(_.main,Ee,Z,j.depths||[],F,oe),Ee(K,j)}return pe.isTop=!0,pe._setup=function(K){if(K.partial)Z.protoAccessControl=K.protoAccessControl,Z.helpers=K.helpers,Z.partials=K.partials,Z.decorators=K.decorators,Z.hooks=K.hooks;else{var j=r.extend({},D.helpers,K.helpers);R(j,Z),Z.helpers=j,_.usePartial&&(Z.partials=Z.mergeIfNeeded(K.partials,D.partials)),(_.usePartial||_.useDecorators)&&(Z.decorators=r.extend({},D.decorators,K.decorators)),Z.hooks={},Z.protoAccessControl=h.createProtoAccessControl(K);var F=K.allowCallsToHelperMissing||W;c.moveHelperToHooks(Z,"helperMissing",F),c.moveHelperToHooks(Z,"blockHelperMissing",F)}},pe._child=function(K,j,F,V){if(_.useBlockParams&&!F)throw new l.default("must pass block params");if(_.useDepths&&!V)throw new l.default("must pass parent depths");return x(Z,K,_[K],j,0,F,V)},pe}function x(_,D,W,ae,Z,pe,K){function j(F){var V=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],oe=K;return K&&F!=K[0]&&!(F===_.nullContext&&K[0]===null)&&(oe=[F].concat(K)),W(_,F,_.helpers,_.partials,V.data||ae,pe&&[V.blockParams].concat(pe),oe)}return j=M(W,j,_,K,ae,pe),j.program=D,j.depth=K?K.length:0,j.blockParams=Z||0,j}function k(_,D,W){return _?!_.call&&!W.name&&(W.name=_,_=W.partials[_]):W.name==="@partial-block"?_=W.data["partial-block"]:_=W.partials[W.name],_}function w(_,D,W){var ae=W.data&&W.data["partial-block"];W.partial=!0,W.ids&&(W.data.contextPath=W.ids[0]||W.data.contextPath);var Z=void 0;if(W.fn&&W.fn!==A&&function(){W.data=o.createFrame(W.data);var pe=W.fn;Z=W.data["partial-block"]=function(j){var F=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return F.data=o.createFrame(F.data),F.data["partial-block"]=ae,pe(j,F)},pe.partials&&(W.partials=r.extend({},W.partials,pe.partials))}(),_===void 0&&Z&&(_=Z),_===void 0)throw new l.default("The partial "+W.name+" could not be found");if(_ instanceof Function)return _(D,W)}function A(){return""}function N(_,D){return(!D||!("root"in D))&&(D=D?o.createFrame(D):{},D.root=_),D}function M(_,D,W,ae,Z,pe){if(_.decorator){var K={};D=_.decorator(D,K,W,ae&&ae[0],Z,pe,ae),r.extend(D,K)}return D}function R(_,D){Object.keys(_).forEach(function(W){var ae=_[W];_[W]=G(ae,D)})}function G(_,D){var W=D.lookupProperty;return f.wrapHelper(_,function(ae){return r.extend({lookupProperty:W},ae)})}return qt}var Rr={exports:{}},ta;function ad(){return ta||(ta=1,function(t,e){e.__esModule=!0,e.default=function(n){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var r=globalThis.Handlebars;n.noConflict=function(){return globalThis.Handlebars===n&&(globalThis.Handlebars=r),n}},t.exports=e.default}(Rr,Rr.exports)),Rr.exports}var na;function cd(){return na||(na=1,function(t,e){e.__esModule=!0;function n(R){return R&&R.__esModule?R:{default:R}}function r(R){if(R&&R.__esModule)return R;var G={};if(R!=null)for(var _ in R)Object.prototype.hasOwnProperty.call(R,_)&&(G[_]=R[_]);return G.default=R,G}var s=Cc(),l=r(s),o=sd(),c=n(o),f=In(),h=n(f),p=Dt(),m=r(p),x=ld(),k=r(x),w=ad(),A=n(w);function N(){var R=new l.HandlebarsEnvironment;return m.extend(R,l),R.SafeString=c.default,R.Exception=h.default,R.Utils=m,R.escapeExpression=m.escapeExpression,R.VM=k,R.template=function(G){return k.template(G,R)},R}var M=N();M.create=N,A.default(M),M.default=M,e.default=M,t.exports=e.default}(pr,pr.exports)),pr.exports}var As,ia;function ud(){return ia||(ia=1,As=cd().default),As}var fd=ud();const Oi=bc(fd);Oi&&(window.Handlebars=Oi);(function(){var t=Oi.template,e=Oi.templates=Oi.templates||{};e.cesm_button=t({1:function(n,r,s,l,o){var c,f=n.lookupProperty||function(h,p){if(Object.prototype.hasOwnProperty.call(h,p))return h[p]};return"    background-image: url('"+n.escapeExpression((c=(c=f(s,"image")||(r!=null?f(r,"image"):r))!=null?c:n.hooks.helperMissing,typeof c=="function"?c.call(r??(n.nullContext||{}),{name:"image",hash:{},data:o,loc:{start:{line:14,column:27},end:{line:14,column:36}}}):c))+`');
    padding-left: 65px;
    background-size: 32px;
    background-repeat: no-repeat;
    background-position-x: 20px;
    background-position-y: 50%;
`},compiler:[8,">= 4.3.0"],main:function(n,r,s,l,o){var c,f,h=r??(n.nullContext||{}),p=n.hooks.helperMissing,m="function",x=n.escapeExpression,k=n.lookupProperty||function(w,A){if(Object.prototype.hasOwnProperty.call(w,A))return w[A]};return`<style>
  .cesm-button {
    position: relative;
    justify-content: center;
    width: 100%;
  }

  .cesm-button button {
    border-radius: 10px;
    border: 1px solid #ddd;
    padding: 15px;
    font-size: 16px;
`+((c=k(s,"if").call(h,r!=null?k(r,"image"):r,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.noop,data:o,loc:{start:{line:13,column:4},end:{line:20,column:11}}}))!=null?c:"")+`    background-color: #fff;
    color: #666666;
    font-family: 'Google Sans';
    cursor: pointer;
  }

  .cesm-button button:hover {
    background-color: #eee;
  }
</style>
<div class="cesm-button"><button onclick="`+x((f=(f=k(s,"onclick")||(r!=null?k(r,"onclick"):r))!=null?f:p,typeof f===m?f.call(h,{name:"onclick",hash:{},data:o,loc:{start:{line:31,column:42},end:{line:31,column:53}}}):f))+'">'+x((f=(f=k(s,"text")||(r!=null?k(r,"text"):r))!=null?f:p,typeof f===m?f.call(h,{name:"text",hash:{},data:o,loc:{start:{line:31,column:55},end:{line:31,column:63}}}):f))+`</button></div>
`},useData:!0}),e.cesm_mcq=t({1:function(n,r,s,l,o){var c,f=n.lookupProperty||function(h,p){if(Object.prototype.hasOwnProperty.call(h,p))return h[p]};return n.escapeExpression((c=(c=f(s,"agentMessage")||(r!=null?f(r,"agentMessage"):r))!=null?c:n.hooks.helperMissing,typeof c=="function"?c.call(r??(n.nullContext||{}),{name:"agentMessage",hash:{},data:o,loc:{start:{line:102,column:20},end:{line:102,column:36}}}):c))},3:function(n,r,s,l,o){var c,f=n.lookupProperty||function(h,p){if(Object.prototype.hasOwnProperty.call(h,p))return h[p]};return'  <div class="mcq-header mcq-title">'+n.escapeExpression((c=(c=f(s,"header")||(r!=null?f(r,"header"):r))!=null?c:n.hooks.helperMissing,typeof c=="function"?c.call(r??(n.nullContext||{}),{name:"header",hash:{},data:o,loc:{start:{line:105,column:36},end:{line:105,column:46}}}):c))+`</div>
`},5:function(n,r,s,l,o){var c,f=r??(n.nullContext||{}),h=n.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return`    <div class="card option-item"
`+((c=h(s,"if").call(f,r!=null?h(r,"onclick"):r,{name:"if",hash:{},fn:n.program(6,o,0),inverse:n.program(8,o,0),data:o,loc:{start:{line:110,column:6},end:{line:118,column:13}}}))!=null?c:"")+`      > 
      <div class="option-info">
`+((c=h(s,"if").call(f,r!=null?h(r,"image"):r,{name:"if",hash:{},fn:n.program(13,o,0),inverse:n.noop,data:o,loc:{start:{line:121,column:8},end:{line:123,column:15}}}))!=null?c:"")+`        <div class="option-details">
          <p class="option-title">`+n.escapeExpression(n.lambda(r!=null?h(r,"title"):r,r))+`</p>
`+((c=h(s,"if").call(f,r!=null?h(r,"subtitle"):r,{name:"if",hash:{},fn:n.program(15,o,0),inverse:n.noop,data:o,loc:{start:{line:126,column:10},end:{line:128,column:17}}}))!=null?c:"")+`        </div>
      </div>
    </div>
`},6:function(n,r,s,l,o){var c=n.lookupProperty||function(f,h){if(Object.prototype.hasOwnProperty.call(f,h))return f[h]};return'        onclick="'+n.escapeExpression(n.lambda(r!=null?c(r,"onclick"):r,r))+`"
`},8:function(n,r,s,l,o){var c,f=n.lookupProperty||function(h,p){if(Object.prototype.hasOwnProperty.call(h,p))return h[p]};return(c=f(s,"if").call(r??(n.nullContext||{}),r!=null?f(r,"userMessage"):r,{name:"if",hash:{},fn:n.program(9,o,0),inverse:n.program(11,o,0),data:o,loc:{start:{line:113,column:8},end:{line:117,column:15}}}))!=null?c:""},9:function(n,r,s,l,o){var c=n.lookupProperty||function(f,h){if(Object.prototype.hasOwnProperty.call(f,h))return f[h]};return`          onclick="window.kite.sessionInput('`+n.escapeExpression(n.lambda(r!=null?c(r,"userMessage"):r,r))+`')"
`},11:function(n,r,s,l,o){var c=n.lookupProperty||function(f,h){if(Object.prototype.hasOwnProperty.call(f,h))return f[h]};return`          onclick="window.kite.sessionInput('`+n.escapeExpression(n.lambda(r!=null?c(r,"title"):r,r))+`')"
`},13:function(n,r,s,l,o){var c=n.lookupProperty||function(f,h){if(Object.prototype.hasOwnProperty.call(f,h))return f[h]};return'        <div class="option-image" style="background-image: url(&quot;'+n.escapeExpression(n.lambda(r!=null?c(r,"image"):r,r))+`&quot;);"></div>
`},15:function(n,r,s,l,o){var c=n.lookupProperty||function(f,h){if(Object.prototype.hasOwnProperty.call(f,h))return f[h]};return'          <p class="option-subtitle">'+n.escapeExpression(n.lambda(r!=null?c(r,"subtitle"):r,r))+`</p>
`},compiler:[8,">= 4.3.0"],main:function(n,r,s,l,o){var c,f=r??(n.nullContext||{}),h=n.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return`<style>
  .cesm-mcq {
    font-family: "Work Sans", "Noto Sans", sans-serif;
    border-radius: 0.5rem;
    position: relative;
    width: 100%;
    background-color: #F5F5F5;
    overflow-x: hidden;
    margin-block-start: 10px;
    margin-block-end: 10px;
  }

  .cesm-mcq .card {
    background-color: #fff;
    border-radius: 0.5rem;
    padding: 0.25rem 1rem 0.25rem;
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    cursor: pointer;
  }

 .cesm-mcq .card:hover {
    background-color: #eee;
  }

  .cesm-mcq .mcq-header {
    padding: 0.5rem 1rem 0rem;
  }

  .cesm-mcq .mcq-title {
    color: #111418;
    font-size: 1.125rem;
    line-height: 1.25;
    font-weight: 700;
    letter-spacing: -0.015em;
  }

  .cesm-mcq .options-list {
    flex: 1 1 0%;
    overflow-y: auto;
    padding: 0.5rem;
  }

  .cesm-mcq .option-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    margin-top: 0.75rem;
  }

  .cesm-mcq .option-item:first-child {
    margin-top: 0;
  }

  .cesm-mcq .option-info {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .cesm-mcq .option-image {
    width: 4rem;
    height: 4rem;
    aspect-ratio: 1 / 1;
    border-radius: 0.5rem;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .cesm-mcq .option-details {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

.cesm-mcq .option-details p {
    margin-block-start: 5px;
    margin-block-end: 5px;
}

.cesm-mcq .option-title {
    color: #111418;
    font-weight: 500;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .cesm-mcq .option-subtitle {
    color: #6b7280;
    font-size: 0.875rem;
    line-height: 1.5;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
</style>

`+((c=h(s,"if").call(f,r!=null?h(r,"agentMessage"):r,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.noop,data:o,loc:{start:{line:102,column:0},end:{line:102,column:43}}}))!=null?c:"")+`
<div class="cesm-mcq">
`+((c=h(s,"if").call(f,r!=null?h(r,"header"):r,{name:"if",hash:{},fn:n.program(3,o,0),inverse:n.noop,data:o,loc:{start:{line:104,column:2},end:{line:106,column:9}}}))!=null?c:"")+`  <div class="options-list">
`+((c=h(s,"each").call(f,r!=null?h(r,"options"):r,{name:"each",hash:{},fn:n.program(5,o,0),inverse:n.noop,data:o,loc:{start:{line:108,column:4},end:{line:132,column:13}}}))!=null?c:"")+`  </div>
</div>`},useData:!0})})();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hd(t,e){const n=Handlebars.templates[t];if(n)return n(e);console.log(`Template '${t}' not found.`)}function dd(t,e){Handlebars.templates||(Handlebars.templates={}),Handlebars.templates[t]=e}const Or=new B;class pd{constructor(e={}){const{setQueryParameters:n,varName:r="current_user_html",selector:s,element:l}=e;if(typeof n!="function")throw new Error("DomHintTracker: A valid setQueryParameters function must be provided.");this.setQueryParameters=n,this.varName=r,this.selector=s||(l?void 0:"body"),this.element=l,this.element?Or.info(`DomHintTracker initialized to track a DOM element into variable "${this.varName}".`):Or.info(`DomHintTracker initialized to track selector "${this.selector}" into variable "${this.varName}".`)}update(e={}){const{selector:n,element:r}=e,s=r||this.element,l=n||this.selector,o=s||l&&document.querySelector(l);let c="";o?(c=o.innerHTML,Or.info(`DomHintTracker.update: Successfully updated variable "${this.varName}" from selector "${l}".`)):Or.warn(`DomHintTracker.update: Cannot update DOM hints. Element not found for: "${l}".`),this.setQueryParameters({[this.varName]:c})}}var Yn={library:"https://accounts.google.com/gsi/client",defaultButtonConfig:{theme:"outline",size:"large"},scopes:"email profile openid",ssrError:"vue3-google-login cannot be executed on the server side. See here for more info https://devbaji.github.io/vue3-google-login/#no-ssr-support"};const hn=Hi({clientId:null,popupType:"CODE",prompt:!1,autoLogin:!1,idConfiguration:null,buttonConfig:Yn.defaultButtonConfig,callback:()=>{},error:null}),Jn=Hi({apiLoaded:!1,apiLoadIntitited:!1}),gd=()=>new Promise((t,e)=>{if(typeof window<"u"){if(!Jn.apiLoadIntitited){const n=document.createElement("script");Jn.apiLoadIntitited=!0,n.addEventListener("load",()=>{Jn.apiLoaded=!0,t(window.google)}),n.addEventListener("error",()=>{e("Failed to load the Google 3P Authorization JavaScript Library.")}),n.src=Yn.library,n.async=!0,n.defer=!0,document.head.appendChild(n)}}else e(Yn.ssrError)}),Bi=t=>{Jn.apiLoadIntitited?Jn.apiLoaded?t(window.google):Cn(()=>Jn.apiLoaded,e=>{e&&t(window.google)}):gd().then(e=>{t(e)})},md=(t,e,n,r)=>{if(!t.client_id)throw new Error("Prop client id required since plugin is not initialized with a client id");Bi(()=>{((s,l,o,c,f)=>{if(f){const p=s.callback;s.callback=m=>{m.credential?p&&p(m):f(m)}}window.google.accounts.id.initialize(s);const h=l.value;h&&!c&&window.google.accounts.id.renderButton(h,o)})(t,e,n.buttonConfig,r,n.error),n.prompt&&bd({clientId:n.clientId,callback:n.callback,error:n.error,autoLogin:n.autoLogin})})},vd=t=>new Promise((e,n)=>{Bi(r=>{if(!(t&&t.clientId||hn.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");r.accounts.oauth2.initCodeClient({client_id:t&&t.clientId||hn.clientId||"",scope:Yn.scopes,ux_mode:"popup",callback:s=>{s.code?e(s):n(s)},error_callback:s=>{n(s)}}).requestCode()})}),yd=t=>new Promise((e,n)=>{Bi(r=>{if(!(t&&t.clientId||hn.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");r.accounts.oauth2.initTokenClient({client_id:t&&t.clientId||hn.clientId||"",scope:Yn.scopes,callback:s=>{s.access_token?e(s):n(s)},error_callback:s=>{n(s)}}).requestAccessToken()})}),bd=t=>{if(!t&&(t={}),!t.clientId&&!hn.clientId)throw new Error("clientId is required");const e={use_fedcm_for_prompt:!0};return t.clientId&&(e.client_id=t.clientId),!t.clientId&&hn.clientId&&(e.client_id=hn.clientId),t.context&&(e.context=t.context),t.autoLogin!=null&&(e.auto_select=t.autoLogin),t.cancelOnTapOutside!=null&&(e.cancel_on_tap_outside=t.cancelOnTapOutside),new Promise((n,r)=>{e.callback=s=>{t&&t.callback&&t.callback(s),s.credential?n(s):r(s)},Bi(s=>{s.accounts.id.initialize(e),s.accounts.id.prompt()})})};var ra=Ba({__name:"GoogleLogin",props:{clientId:{type:String,required:!1},prompt:{type:Boolean,required:!1,default:!1},autoLogin:{type:Boolean,required:!1,default:!1},popupType:{type:String,required:!1},idConfiguration:{type:Object,required:!1},buttonConfig:{type:Object,required:!1},callback:{type:Function,required:!1},error:{type:Function,required:!1}},setup(t){if(!(typeof window<"u"))throw new Error(Yn.ssrError);const e=!!of().default,n=t,r=((o,c)=>{const f={...o};for(const h in c)c[h]!==void 0&&c[h]!==null&&(f[h]=c[h]);return f})(hn,n),s={client_id:r.clientId||null,auto_select:r.autoLogin||!1,callback:r.callback,...r.idConfiguration},l=me();return uo(()=>{md(s,l,r,e),n.popupType&&!e&&console.warn("Option 'popupType' is ignored since a slot which act as a custom login button was not found!!!")}),(o,c)=>(fe(),de("div",{class:"g-btn-wrapper",onClick:c[0]||(c[0]=f=>Me(e)&&void(Me(r).popupType==="TOKEN"?yd({clientId:r.clientId}).then(h=>{r.callback&&r.callback(h)}).catch(h=>{r.error&&r.error(h)}):vd({clientId:r.clientId}).then(h=>{r.callback&&r.callback(h)}).catch(h=>{r.error&&r.error(h)})))},[Me(e)?$e("v-if",!0):(fe(),de("span",{key:0,ref_key:"buttonRef",ref:l,class:"g-btn"},null,512)),rf(o.$slots,"default")]))}});(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}})(`
.g-btn-wrapper[data-v-5e610566] {
  display: inline-block;
}
`),ra.__scopeId="data-v-5e610566",ra.__file="src/plugin/GoogleLogin.vue";function xo(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Rn=xo();function Ec(t){Rn=t}var Ai={exec:()=>null};function we(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,l)=>{let o=typeof l=="string"?l:l.source;return o=o.replace(ot.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,e)};return r}var ot={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},xd=/^(?:[ \t]*(?:\n|$))+/,wd=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,_d=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ji=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,kd=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,wo=/(?:[*+-]|\d{1,9}[.)])/,Ic=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Rc=we(Ic).replace(/bull/g,wo).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Sd=we(Ic).replace(/bull/g,wo).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),_o=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Td=/^[^\n]+/,ko=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Cd=we(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ko).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ed=we(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,wo).getRegex(),rs="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",So=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Id=we("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",So).replace("tag",rs).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Oc=we(_o).replace("hr",ji).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rs).getRegex(),Rd=we(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Oc).getRegex(),To={blockquote:Rd,code:wd,def:Cd,fences:_d,heading:kd,hr:ji,html:Id,lheading:Rc,list:Ed,newline:xd,paragraph:Oc,table:Ai,text:Td},sa=we("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ji).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rs).getRegex(),Od={...To,lheading:Sd,table:sa,paragraph:we(_o).replace("hr",ji).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",sa).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rs).getRegex()},Ad={...To,html:we(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",So).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ai,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:we(_o).replace("hr",ji).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Rc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Pd=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Md=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ac=/^( {2,}|\\)\n(?!\s*$)/,Ld=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ss=/[\p{P}\p{S}]/u,Co=/[\s\p{P}\p{S}]/u,Pc=/[^\s\p{P}\p{S}]/u,Nd=we(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Co).getRegex(),Mc=/(?!~)[\p{P}\p{S}]/u,Dd=/(?!~)[\s\p{P}\p{S}]/u,Hd=/(?:[^\s\p{P}\p{S}]|~)/u,$d=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,Lc=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Ud=we(Lc,"u").replace(/punct/g,ss).getRegex(),Bd=we(Lc,"u").replace(/punct/g,Mc).getRegex(),Nc="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",jd=we(Nc,"gu").replace(/notPunctSpace/g,Pc).replace(/punctSpace/g,Co).replace(/punct/g,ss).getRegex(),Fd=we(Nc,"gu").replace(/notPunctSpace/g,Hd).replace(/punctSpace/g,Dd).replace(/punct/g,Mc).getRegex(),qd=we("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Pc).replace(/punctSpace/g,Co).replace(/punct/g,ss).getRegex(),zd=we(/\\(punct)/,"gu").replace(/punct/g,ss).getRegex(),Wd=we(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Vd=we(So).replace("(?:-->|$)","-->").getRegex(),Gd=we("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Vd).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),zr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Kd=we(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",zr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Dc=we(/^!?\[(label)\]\[(ref)\]/).replace("label",zr).replace("ref",ko).getRegex(),Hc=we(/^!?\[(ref)\](?:\[\])?/).replace("ref",ko).getRegex(),Zd=we("reflink|nolink(?!\\()","g").replace("reflink",Dc).replace("nolink",Hc).getRegex(),Eo={_backpedal:Ai,anyPunctuation:zd,autolink:Wd,blockSkip:$d,br:Ac,code:Md,del:Ai,emStrongLDelim:Ud,emStrongRDelimAst:jd,emStrongRDelimUnd:qd,escape:Pd,link:Kd,nolink:Hc,punctuation:Nd,reflink:Dc,reflinkSearch:Zd,tag:Gd,text:Ld,url:Ai},Jd={...Eo,link:we(/^!?\[(label)\]\((.*?)\)/).replace("label",zr).getRegex(),reflink:we(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zr).getRegex()},Gs={...Eo,emStrongRDelimAst:Fd,emStrongLDelim:Bd,url:we(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Xd={...Gs,br:we(Ac).replace("{2,}","*").getRegex(),text:we(Gs.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ar={normal:To,gfm:Od,pedantic:Ad},xi={normal:Eo,gfm:Gs,breaks:Xd,pedantic:Jd},Yd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oa=t=>Yd[t];function At(t,e){if(e){if(ot.escapeTest.test(t))return t.replace(ot.escapeReplace,oa)}else if(ot.escapeTestNoEncode.test(t))return t.replace(ot.escapeReplaceNoEncode,oa);return t}function la(t){try{t=encodeURI(t).replace(ot.percentDecode,"%")}catch{return null}return t}function aa(t,e){let n=t.replace(ot.findPipe,(l,o,c)=>{let f=!1,h=o;for(;--h>=0&&c[h]==="\\";)f=!f;return f?"|":" |"}),r=n.split(ot.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(ot.slashPipe,"|");return r}function wi(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function Qd(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function ca(t,e,n,r,s){let l=e.href,o=e.title||null,c=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let f={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:l,title:o,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,f}function ep(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(l=>{let o=l.match(n.other.beginningSpace);if(o===null)return l;let[c]=o;return c.length>=s.length?l.slice(s.length):l}).join(`
`)}var Wr=class{options;rules;lexer;constructor(t){this.options=t||Rn}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:wi(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=ep(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=wi(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:wi(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=wi(e[0],`
`).split(`
`),r="",s="",l=[];for(;n.length>0;){let o=!1,c=[],f;for(f=0;f<n.length;f++)if(this.rules.other.blockquoteStart.test(n[f]))c.push(n[f]),o=!0;else if(!o)c.push(n[f]);else break;n=n.slice(f);let h=c.join(`
`),p=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${h}`:h,s=s?`${s}
${p}`:p;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,l,!0),this.lexer.state.top=m,n.length===0)break;let x=l.at(-1);if(x?.type==="code")break;if(x?.type==="blockquote"){let k=x,w=k.raw+`
`+n.join(`
`),A=this.blockquote(w);l[l.length-1]=A,r=r.substring(0,r.length-k.raw.length)+A.raw,s=s.substring(0,s.length-k.text.length)+A.text;break}else if(x?.type==="list"){let k=x,w=k.raw+`
`+n.join(`
`),A=this.list(w);l[l.length-1]=A,r=r.substring(0,r.length-x.raw.length)+A.raw,s=s.substring(0,s.length-k.raw.length)+A.raw,n=w.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:l,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let l=this.rules.other.listItemRegex(n),o=!1;for(;t;){let f=!1,h="",p="";if(!(e=l.exec(t))||this.rules.block.hr.test(t))break;h=e[0],t=t.substring(h.length);let m=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,M=>" ".repeat(3*M.length)),x=t.split(`
`,1)[0],k=!m.trim(),w=0;if(this.options.pedantic?(w=2,p=m.trimStart()):k?w=e[1].length+1:(w=e[2].search(this.rules.other.nonSpaceChar),w=w>4?1:w,p=m.slice(w),w+=e[1].length),k&&this.rules.other.blankLine.test(x)&&(h+=x+`
`,t=t.substring(x.length+1),f=!0),!f){let M=this.rules.other.nextBulletRegex(w),R=this.rules.other.hrRegex(w),G=this.rules.other.fencesBeginRegex(w),_=this.rules.other.headingBeginRegex(w),D=this.rules.other.htmlBeginRegex(w);for(;t;){let W=t.split(`
`,1)[0],ae;if(x=W,this.options.pedantic?(x=x.replace(this.rules.other.listReplaceNesting,"  "),ae=x):ae=x.replace(this.rules.other.tabCharGlobal,"    "),G.test(x)||_.test(x)||D.test(x)||M.test(x)||R.test(x))break;if(ae.search(this.rules.other.nonSpaceChar)>=w||!x.trim())p+=`
`+ae.slice(w);else{if(k||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||G.test(m)||_.test(m)||R.test(m))break;p+=`
`+x}!k&&!x.trim()&&(k=!0),h+=W+`
`,t=t.substring(W.length+1),m=ae.slice(w)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(o=!0));let A=null,N;this.options.gfm&&(A=this.rules.other.listIsTask.exec(p),A&&(N=A[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:h,task:!!A,checked:N,loose:!1,text:p,tokens:[]}),s.raw+=h}let c=s.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let f=0;f<s.items.length;f++)if(this.lexer.state.top=!1,s.items[f].tokens=this.lexer.blockTokens(s.items[f].text,[]),!s.loose){let h=s.items[f].tokens.filter(m=>m.type==="space"),p=h.length>0&&h.some(m=>this.rules.other.anyLine.test(m.raw));s.loose=p}if(s.loose)for(let f=0;f<s.items.length;f++)s.items[f].loose=!0;return s}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=aa(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?l.align.push("right"):this.rules.other.tableAlignCenter.test(o)?l.align.push("center"):this.rules.other.tableAlignLeft.test(o)?l.align.push("left"):l.align.push(null);for(let o=0;o<n.length;o++)l.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:l.align[o]});for(let o of s)l.rows.push(aa(o,l.header.length).map((c,f)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:l.align[f]})));return l}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let l=wi(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{let l=Qd(e[2],"()");if(l===-2)return;if(l>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+l;e[2]=e[2].substring(0,l),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let l=this.rules.other.pedanticHrefTitle.exec(r);l&&(r=l[1],s=l[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),ca(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let l=n[0].charAt(0);return{type:"text",raw:l,text:l}}return ca(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,l,o,c=s,f=0,h=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+s);(r=h.exec(e))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(o=[...l].length,r[3]||r[4]){c+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){f+=o;continue}if(c-=o,c>0)continue;o=Math.min(o,o+c+f);let p=[...r[0]][0].length,m=t.slice(0,s+r.index+p+o);if(Math.min(s,o)%2){let k=m.slice(1,-1);return{type:"em",raw:m,text:k,tokens:this.lexer.inlineTokens(k)}}let x=m.slice(2,-2);return{type:"strong",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let n,r;if(e[2]==="@")n=e[0],r="mailto:"+n;else{let s;do s=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(s!==e[0]);n=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},Kt=class Ks{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Rn,this.options.tokenizer=this.options.tokenizer||new Wr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:ot,block:Ar.normal,inline:xi.normal};this.options.pedantic?(n.block=Ar.pedantic,n.inline=xi.pedantic):this.options.gfm&&(n.block=Ar.gfm,this.options.breaks?n.inline=xi.breaks:n.inline=xi.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ar,inline:xi}}static lex(e,n){return new Ks(n).lex(e)}static lexInline(e,n){return new Ks(n).inlineTokens(e)}lex(e){e=e.replace(ot.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(ot.tabCharGlobal,"    ").replace(ot.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(o=>(s=o.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let o=n.at(-1);s.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}let l=e;if(this.options.extensions?.startBlock){let o=1/0,c=e.slice(1),f;this.options.extensions.startBlock.forEach(h=>{f=h.call({lexer:this},c),typeof f=="number"&&f>=0&&(o=Math.min(o,f))}),o<1/0&&o>=0&&(l=e.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(l))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s),r=l.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,s=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)c.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,o="";for(;e;){l||(o=""),l=!1;let c;if(this.options.extensions?.inline?.some(h=>(c=h.call({lexer:this},e,n))?(e=e.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);let h=n.at(-1);c.type==="text"&&h?.type==="text"?(h.raw+=c.raw,h.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(e,r,o)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),n.push(c);continue}let f=e;if(this.options.extensions?.startInline){let h=1/0,p=e.slice(1),m;this.options.extensions.startInline.forEach(x=>{m=x.call({lexer:this},p),typeof m=="number"&&m>=0&&(h=Math.min(h,m))}),h<1/0&&h>=0&&(f=e.substring(0,h+1))}if(c=this.tokenizer.inlineText(f)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(o=c.raw.slice(-1)),l=!0;let h=n.at(-1);h?.type==="text"?(h.raw+=c.raw,h.text+=c.text):n.push(c);continue}if(e){let h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return n}},Vr=class{options;parser;constructor(t){this.options=t||Rn}space(t){return""}code({text:t,lang:e,escaped:n}){let r=(e||"").match(ot.notSpaceStart)?.[0],s=t.replace(ot.endingNewline,"")+`
`;return r?'<pre><code class="language-'+At(r)+'">'+(n?s:At(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:At(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let c=t.items[o];r+=this.listitem(c)}let s=e?"ol":"ul",l=e&&n!==1?' start="'+n+'"':"";return"<"+s+l+`>
`+r+"</"+s+`>
`}listitem(t){let e="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+At(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let l=t.rows[s];n="";for(let o=0;o<l.length;o++)n+=this.tablecell(l[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${At(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=la(t);if(s===null)return r;t=s;let l='<a href="'+t+'"';return e&&(l+=' title="'+At(e)+'"'),l+=">"+r+"</a>",l}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=la(t);if(s===null)return At(n);t=s;let l=`<img src="${t}" alt="${n}"`;return e&&(l+=` title="${At(e)}"`),l+=">",l}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:At(t.text)}},Io=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Zt=class Zs{options;renderer;textRenderer;constructor(e){this.options=e||Rn,this.options.renderer=this.options.renderer||new Vr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Io}static parse(e,n){return new Zs(n).parse(e)}static parseInline(e,n){return new Zs(n).parseInline(e)}parse(e,n=!0){let r="";for(let s=0;s<e.length;s++){let l=e[s];if(this.options.extensions?.renderers?.[l.type]){let c=l,f=this.options.extensions.renderers[c.type].call({parser:this},c);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){r+=f||"";continue}}let o=l;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let c=o,f=this.renderer.text(c);for(;s+1<e.length&&e[s+1].type==="text";)c=e[++s],f+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:f,text:f,tokens:[{type:"text",raw:f,text:f,escaped:!0}]}):r+=f;continue}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){let r="";for(let s=0;s<e.length;s++){let l=e[s];if(this.options.extensions?.renderers?.[l.type]){let c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=c||"";continue}}let o=l;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Hr=class{options;block;constructor(t){this.options=t||Rn}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Kt.lex:Kt.lexInline}provideParser(){return this.block?Zt.parse:Zt.parseInline}},tp=class{defaults=xo();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Zt;Renderer=Vr;TextRenderer=Io;Lexer=Kt;Tokenizer=Wr;Hooks=Hr;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(let r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{let s=r;for(let l of s.header)n=n.concat(this.walkTokens(l.tokens,e));for(let l of s.rows)for(let o of l)n=n.concat(this.walkTokens(o.tokens,e));break}case"list":{let s=r;n=n.concat(this.walkTokens(s.items,e));break}default:{let s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(l=>{let o=s[l].flat(1/0);n=n.concat(this.walkTokens(o,e))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let l=e.renderers[s.name];l?e.renderers[s.name]=function(...o){let c=s.renderer.apply(this,o);return c===!1&&(c=l.apply(this,o)),c}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let l=e[s.level];l?l.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new Vr(this.defaults);for(let l in n.renderer){if(!(l in s))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;let o=l,c=n.renderer[o],f=s[o];s[o]=(...h)=>{let p=c.apply(s,h);return p===!1&&(p=f.apply(s,h)),p||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Wr(this.defaults);for(let l in n.tokenizer){if(!(l in s))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;let o=l,c=n.tokenizer[o],f=s[o];s[o]=(...h)=>{let p=c.apply(s,h);return p===!1&&(p=f.apply(s,h)),p}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new Hr;for(let l in n.hooks){if(!(l in s))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;let o=l,c=n.hooks[o],f=s[o];Hr.passThroughHooks.has(l)?s[o]=h=>{if(this.defaults.async)return Promise.resolve(c.call(s,h)).then(m=>f.call(s,m));let p=c.call(s,h);return f.call(s,p)}:s[o]=(...h)=>{let p=c.apply(s,h);return p===!1&&(p=f.apply(s,h)),p}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,l=n.walkTokens;r.walkTokens=function(o){let c=[];return c.push(l.call(this,o)),s&&(c=c.concat(s.call(this,o))),c}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Kt.lex(t,e??this.defaults)}parser(t,e){return Zt.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},l=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let o=s.hooks?s.hooks.provideLexer():t?Kt.lex:Kt.lexInline,c=s.hooks?s.hooks.provideParser():t?Zt.parse:Zt.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(e):e).then(f=>o(f,s)).then(f=>s.hooks?s.hooks.processAllTokens(f):f).then(f=>s.walkTokens?Promise.all(this.walkTokens(f,s.walkTokens)).then(()=>f):f).then(f=>c(f,s)).then(f=>s.hooks?s.hooks.postprocess(f):f).catch(l);try{s.hooks&&(e=s.hooks.preprocess(e));let f=o(e,s);s.hooks&&(f=s.hooks.processAllTokens(f)),s.walkTokens&&this.walkTokens(f,s.walkTokens);let h=c(f,s);return s.hooks&&(h=s.hooks.postprocess(h)),h}catch(f){return l(f)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+At(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},En=new tp;function _e(t,e){return En.parse(t,e)}_e.options=_e.setOptions=function(t){return En.setOptions(t),_e.defaults=En.defaults,Ec(_e.defaults),_e};_e.getDefaults=xo;_e.defaults=Rn;_e.use=function(...t){return En.use(...t),_e.defaults=En.defaults,Ec(_e.defaults),_e};_e.walkTokens=function(t,e){return En.walkTokens(t,e)};_e.parseInline=En.parseInline;_e.Parser=Zt;_e.parser=Zt.parse;_e.Renderer=Vr;_e.TextRenderer=Io;_e.Lexer=Kt;_e.lexer=Kt.lex;_e.Tokenizer=Wr;_e.Hooks=Hr;_e.parse=_e;_e.options;_e.setOptions;_e.use;_e.walkTokens;_e.parseInline;Zt.parse;Kt.lex;const np=`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_114_2569)">
<path d="M2 22V4C2 3.45 2.19167 2.98333 2.575 2.6C2.975 2.2 3.45 2 4 2H20C20.55 2 21.0167 2.2 21.4 2.6C21.8 2.98333 22 3.45 22 4V16C22 16.55 21.8 17.025 21.4 17.425C21.0167 17.8083 20.55 18 20 18H6L2 22Z" fill="black"/>
</g>
<defs>
<clipPath id="clip0_114_2569">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>
</svg>
`,ua=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="white"/>
</svg>
`,ip=`<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.99999 12.1665C9.30555 12.1665 8.71527 11.9234 8.22916 11.4373C7.74305 10.9512 7.49999 10.3609 7.49999 9.6665V4.6665C7.49999 3.97206 7.74305 3.38178 8.22916 2.89567C8.71527 2.40956 9.30555 2.1665 9.99999 2.1665C10.6944 2.1665 11.2847 2.40956 11.7708 2.89567C12.2569 3.38178 12.5 3.97206 12.5 4.6665V9.6665C12.5 10.3609 12.2569 10.9512 11.7708 11.4373C11.2847 11.9234 10.6944 12.1665 9.99999 12.1665ZM9.16666 17.1665V15.4373C7.88888 15.2568 6.79527 14.7151 5.88583 13.8123C4.97638 12.9096 4.42416 11.8123 4.22916 10.5207C4.20138 10.2846 4.26388 10.0832 4.41666 9.9165C4.56944 9.74984 4.76388 9.6665 4.99999 9.6665C5.2361 9.6665 5.43416 9.7465 5.59416 9.9065C5.75416 10.0665 5.86166 10.2643 5.91666 10.4998C6.1111 11.4721 6.59388 12.2707 7.36499 12.8957C8.1361 13.5207 9.01444 13.8332 9.99999 13.8332C11 13.8332 11.8819 13.5173 12.6458 12.8857C13.4097 12.254 13.8889 11.4587 14.0833 10.4998C14.1389 10.2637 14.2467 10.0659 14.4067 9.9065C14.5667 9.74706 14.7644 9.66706 15 9.6665C15.2355 9.66595 15.43 9.74928 15.5833 9.9165C15.7367 10.0837 15.7992 10.2851 15.7708 10.5207C15.5764 11.7846 15.0278 12.8748 14.125 13.7915C13.2222 14.7082 12.125 15.2568 10.8333 15.4373V17.1665C10.8333 17.4026 10.7533 17.6007 10.5933 17.7607C10.4333 17.9207 10.2355 18.0004 9.99999 17.9998C9.76444 17.9993 9.56666 17.9193 9.40666 17.7598C9.24666 17.6004 9.16666 17.4026 9.16666 17.1665ZM9.99999 10.4998C10.2361 10.4998 10.4342 10.4198 10.5942 10.2598C10.7542 10.0998 10.8339 9.90206 10.8333 9.6665V4.6665C10.8333 4.43039 10.7533 4.23262 10.5933 4.07317C10.4333 3.91373 10.2355 3.83373 9.99999 3.83317C9.76444 3.83262 9.56666 3.91262 9.40666 4.07317C9.24666 4.23373 9.16666 4.4315 9.16666 4.6665V9.6665C9.16666 9.90262 9.24666 10.1007 9.40666 10.2607C9.56666 10.4207 9.76444 10.5004 9.99999 10.4998Z" fill="#444746"/>
</svg>
`,rp=`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_10872_1792)">
<path d="M14.6042 12.4792L13.5 11.375C13.6528 11.0833 13.7708 10.7847 13.8542 10.4792C13.9514 10.1597 14 9.83333 14 9.5H15.5C15.5 10.0278 15.4236 10.5486 15.2708 11.0625C15.1181 11.5625 14.8958 12.0347 14.6042 12.4792ZM12.375 10.25L11 8.875V4.5C11 4.22222 10.9028 3.98611 10.7083 3.79167C10.5139 3.59722 10.2778 3.5 10 3.5C9.72222 3.5 9.48611 3.59722 9.29167 3.79167C9.09722 3.98611 9 4.22222 9 4.5V6.875L7.5 5.375V4.5C7.5 3.80556 7.74306 3.21528 8.22917 2.72917C8.71528 2.24305 9.30556 2 10 2C10.6944 2 11.2847 2.24305 11.7708 2.72917C12.2569 3.21528 12.5 3.80556 12.5 4.5V9.5C12.5 9.625 12.4861 9.75 12.4583 9.875C12.4444 10 12.4167 10.125 12.375 10.25ZM9.25 17V14.9375C7.875 14.7708 6.73611 14.1736 5.83333 13.1458C4.94444 12.1042 4.5 10.8889 4.5 9.5H6C6 10.6111 6.38889 11.5556 7.16667 12.3333C7.94444 13.1111 8.88889 13.5 10 13.5C10.4722 13.5 10.9167 13.4097 11.3333 13.2292C11.7639 13.0486 12.1597 12.8056 12.5208 12.5L13.6042 13.5833C13.2014 13.9306 12.7569 14.2292 12.2708 14.4792C11.7847 14.7153 11.2778 14.8681 10.75 14.9375V17H9.25ZM16 18.125L1.875 3.97917L2.9375 2.91667L17.0625 17.0625L16 18.125Z" fill="#1F1F1F"/>
</g>
<defs>
<clipPath id="clip0_10872_1792">
<rect width="20" height="20" fill="white"/>
</clipPath>
</defs>
</svg>
`,sp='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm40-80h480L570-480 450-320l-90-120-120 160Zm-40 80v-560 560Z"/></svg>',op='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M480-260q75 0 127.5-52.5T660-440q0-75-52.5-127.5T480-620q-75 0-127.5 52.5T300-440q0 75 52.5 127.5T480-260Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-120q-33 0-56.5-23.5T80-200v-480q0-33 23.5-56.5T160-760h126l74-80h240l74 80h126q33 0 56.5 23.5T880-680v480q0 33-23.5 56.5T800-120H160Zm0-80h640v-480H638l-73-80H395l-73 80H160v480Zm320-240Z"/></svg>',lp=`[data-v-2ea821ab]:host{display:block;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;color:#213547;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;--primary-color: var(--host-primary-color, #42b883)}[data-v-2ea821ab],[data-v-2ea821ab]:before,[data-v-2ea821ab]:after{box-sizing:inherit}h1[data-v-2ea821ab],h2[data-v-2ea821ab],h3[data-v-2ea821ab],h4[data-v-2ea821ab],h5[data-v-2ea821ab],h6[data-v-2ea821ab],p[data-v-2ea821ab],ul[data-v-2ea821ab],ol[data-v-2ea821ab],figure[data-v-2ea821ab],blockquote[data-v-2ea821ab]{margin:0;padding:0}img[data-v-2ea821ab],picture[data-v-2ea821ab],video[data-v-2ea821ab],canvas[data-v-2ea821ab],svg[data-v-2ea821ab]{display:block;max-width:100%}ul[data-v-2ea821ab],ol[data-v-2ea821ab]{list-style:none}button[data-v-2ea821ab],input[data-v-2ea821ab],textarea[data-v-2ea821ab],select[data-v-2ea821ab]{font:inherit;margin:0;appearance:none;border:1px solid #ccc;border-radius:4px;background-color:#fff}main[data-v-2ea821ab] *{font-family:Roboto;letter-spacing:.25px}main[data-v-2ea821ab]{font-family:Arial,Helvetica,sans-serif;font-size:16px;font-weight:400;line-height:1.5;text-size-adjust:0;box-shadow:0 2px 6px 2px #00000026;height:calc(100dvh - 30px);border-radius:30px;display:flex;justify-content:center;flex-direction:column;margin:70px 0 0;padding-bottom:10px}main header[data-v-2ea821ab]{display:flex;justify-content:space-between;align-items:center;background-repeat:no-repeat;background-size:20px;background-position:15px 37px;padding:15px 20px;font-style:normal;font-weight:600;font-size:14px;line-height:20px}main header h1[data-v-2ea821ab]{font-size:18px;flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}main header .mute-button[data-v-2ea821ab]{min-height:25px;height:35px;min-width:35px;border-radius:50%;border:1px solid #C4C7C5;padding:0;margin:-1px 30px;cursor:pointer;background-image:url("data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.5%2013.8333V12.2708C9.69445%2011.9514%2010.6597%2011.3056%2011.3958%2010.3333C12.1319%209.34722%2012.5%208.23611%2012.5%207C12.5%205.76389%2012.125%204.66667%2011.375%203.70833C10.6389%202.73611%209.68056%202.06944%208.5%201.70833V0.145833C10.1111%200.493055%2011.4306%201.30555%2012.4583%202.58333C13.4861%203.86111%2014%205.32639%2014%206.97917C14%208.63194%2013.4861%2010.1042%2012.4583%2011.3958C11.4444%2012.6736%2010.125%2013.4861%208.5%2013.8333ZM1.19209e-07%208.97917V4.97917H3L7%200.979166V12.9792L3%208.97917H1.19209e-07ZM8.5%2010.125V3.83333C9.125%204.11111%209.61111%204.53472%209.95833%205.10417C10.3194%205.67361%2010.5%206.29861%2010.5%206.97917C10.5%207.65972%2010.3194%208.28472%209.95833%208.85417C9.61111%209.40972%209.125%209.83333%208.5%2010.125ZM5.5%204.60417L3.625%206.47917H1.5V7.47917H3.625L5.5%209.35417V4.60417Z'%20fill='%23444746'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:50%;background-size:14px;background-color:#fff}main header .mute-button[data-v-2ea821ab]:hover{background-color:#f0f0f0}main header .mute-button.muted[data-v-2ea821ab]{background-image:url("data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15%2016.125L12.7708%2013.8958C12.4653%2014.0903%2012.0972%2014.2778%2011.6667%2014.4583C11.25%2014.625%2010.8611%2014.75%2010.5%2014.8333V13.2917C10.6667%2013.2222%2010.8611%2013.1458%2011.0833%2013.0625C11.3194%2012.9653%2011.5139%2012.875%2011.6667%2012.7917L9%2010.125V14.0208L5%2010.0208H2V6.02083H4.875L0.875%202L1.9375%200.937499L16.0625%2015.0625L15%2016.125ZM14.875%2011.7708L13.7917%2010.6875C14.0139%2010.2847%2014.1875%209.86111%2014.3125%209.41667C14.4375%208.95833%2014.5%208.49306%2014.5%208.02083C14.5%206.78472%2014.125%205.6875%2013.375%204.72917C12.6389%203.75694%2011.6806%203.09028%2010.5%202.72917V1.1875C12.125%201.50694%2013.4444%202.3125%2014.4583%203.60417C15.4861%204.89583%2016%206.36806%2016%208.02083C16%208.6875%2015.9028%209.34028%2015.7083%209.97917C15.5139%2010.6042%2015.2361%2011.2014%2014.875%2011.7708ZM12.2917%209.1875L10.5%207.39583V4.85417C11.125%205.13194%2011.6111%205.5625%2011.9583%206.14583C12.3194%206.71528%2012.5%207.34028%2012.5%208.02083C12.5%208.21528%2012.4861%208.40972%2012.4583%208.60417C12.4306%208.79861%2012.375%208.99306%2012.2917%209.1875ZM9%205.89583L7.0625%203.95833L9%202.02083V5.89583Z'%20fill='%23444746'/%3e%3c/svg%3e")}main ul[data-v-2ea821ab]{flex-grow:1}main ul li[data-v-2ea821ab]{font-size:16px}main footer[data-v-2ea821ab]{display:flex;justify-content:space-between}main footer .footer-container[data-v-2ea821ab]{display:flex;width:calc(100% - 20px);margin:0 10px}main footer .footer-container .input-container[data-v-2ea821ab]{display:flex;justify-content:space-between;align-items:flex-start;border:1px solid #C4C7C5;border-radius:20px;flex-grow:1}main footer .footer-container .footer-buttons[data-v-2ea821ab]{display:flex;margin:4px 0 4px 10px;max-height:36px}main footer .footer-container .footer-buttons button[data-v-2ea821ab]:not(:disabled){cursor:pointer}main footer .footer-container .footer-buttons button.send[data-v-2ea821ab]{background-image:url("data:image/svg+xml,%3csvg%20width='15'%20height='12'%20viewBox='0%200%2015%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.19209e-07%2012V8L6%206L1.19209e-07%204V-1.43051e-06L15%206L1.19209e-07%2012Z'%20fill='%231F1F1F'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:50%;background-size:18px;color:transparent;width:32px;background-color:#dde3ea;border-radius:30px;border:none;padding:0}main footer .footer-container .footer-buttons button.send[data-v-2ea821ab]:disabled{opacity:.4}main footer .footer-container .call-circle.icon[data-v-2ea821ab]{margin:0;width:50px}main footer .input-container textarea[data-v-2ea821ab]{background:transparent;border:none;padding:0 12px;margin:5px 0;font-size:14px;width:100%;resize:none;line-height:1.5;max-height:129px}main footer .input-container textarea[data-v-2ea821ab]:focus{outline:none}main footer .input-container .talk-button[data-v-2ea821ab]{display:flex;align-items:center;margin:0 10px 0 0;scale:.85;background-color:#e9eef7}main footer .input-container .talk-button.chat[data-v-2ea821ab]:not(.talking){background-color:transparent}main footer .input-container .talk-button .mic-container[data-v-2ea821ab]{margin:0;background-color:#dde3e9;border-radius:30px;min-width:41px}main footer .input-container .talk-button .mic-container.chat[data-v-2ea821ab]:not(.talking){background-color:transparent}main footer .input-container .talk-button .mic-container img[data-v-2ea821ab]{width:40px;scale:.7}main footer .input-container .talk-button .call-circle.icon[data-v-2ea821ab]{width:35px}main footer .input-container .talk-button .call-circle.icon .call-circle-inner[data-v-2ea821ab]{border:none}main footer .input-container .talk-button .call-circle.icon:hover[data-v-2ea821ab]{background-image:none;cursor:default}main footer .input-container .talk-button .call-circle.icon:hover .wave[data-v-2ea821ab]{display:block}main footer .input-container .upload-overlay[data-v-2ea821ab]{position:absolute;bottom:50px;left:0;background-color:#fff;border:1px solid #ccc;padding:0;box-shadow:0 2px 5px #0003;z-index:10;display:flex;min-width:160px;flex-direction:column}main footer .input-container .upload-overlay .upload-option[data-v-2ea821ab]{display:flex;align-items:center;min-height:48px;padding:0 10px;gap:8px;cursor:pointer}main footer .input-container .upload-overlay .upload-option[data-v-2ea821ab]:hover{background-color:#f0f0f0}main footer .input-container .plus-container[data-v-2ea821ab]{color:transparent;font-size:6px;border-radius:30px;display:flex;align-items:center;margin:12px 0 12px 15px;width:20px;cursor:pointer;background-image:url("data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20id='Layer_1'%20style='enable-background:new%200%200%20512%20512;'%20version='1.1'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23444746;}%20%3c/style%3e%3cpath%20class='st0'%20d='M381,236H276V131c0-11-9-20-20-20s-20,9-20,20v105H131c-11,0-20,9-20,20s9,20,20,20h105v105c0,11,9,20,20,20%20s20-9,20-20V276h105c11,0,20-9,20-20S392,236,381,236z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:50% 50%}main footer .input-container .input-wrapper[data-v-2ea821ab]{flex-grow:1;text-align:left;display:flex;align-items:center;height:100%}main footer .input-container .input-wrapper .upload-images[data-v-2ea821ab]{display:flex;gap:5px;padding:5px}main footer .input-container .input-wrapper .upload-images .image-preview-container[data-v-2ea821ab]{position:relative}main footer .input-container .input-wrapper .upload-images .image-preview-container img[data-v-2ea821ab]{width:60px;height:60px;border-radius:8px;object-fit:cover}main footer .input-container .input-wrapper .upload-images .remove-image-button[data-v-2ea821ab]{position:absolute;top:-5px;right:-5px;background-color:#f8f1f1b3;border:none;border-radius:50%;cursor:pointer;padding:2px;display:none;width:20px;height:20px}main footer .input-container .input-wrapper .upload-images .image-preview-container:hover .remove-image-button[data-v-2ea821ab]{display:flex;align-items:center;justify-content:center}main footer .input-container .input-wrapper .upload-images .remove-image-button img[data-v-2ea821ab]{width:10px;height:10px;filter:invert(1)}main.dark[data-v-2ea821ab]{--circle-border-target-color: #323333}main.dark .call-circle[data-v-2ea821ab]{border:1px solid #323333}main.dark .call-circle .call-circle-inner[data-v-2ea821ab]{border:1px solid #c3c7c5}main.dark .call-circle .call-circle-inner .wave[data-v-2ea821ab]{background:#c3c7c5}main.dark .call-circle.icon[data-v-2ea821ab]{border:none}main.dark .call-circle.icon[data-v-2ea821ab]:hover,main.dark .call-circle.icon.muted[data-v-2ea821ab]{filter:invert(100%);background-color:#ccc}main.dark footer .input-container .talk-button[data-v-2ea821ab]{background-color:#282a2c}main.dark footer .input-container .talk-button .mic-container[data-v-2ea821ab]{background-color:#333537}:is(main header .call-circle.icon,main footer .call-circle.icon)[data-v-2ea821ab]{min-height:25px;height:35px;width:35px;border-radius:50%;border:none;padding:0;margin:0 30px;cursor:pointer;box-sizing:border-box}:is(main header .call-circle.icon,main footer .call-circle.icon) .call-circle-inner[data-v-2ea821ab]{border:1px solid #C4C7C5;padding:10px;margin:0;height:100%;width:100%;min-width:35px}:is(main header .call-circle.icon,main footer .call-circle.icon) .call-circle-inner .wave[data-v-2ea821ab]{height:2px;border-radius:4px}:is(main header .call-circle.icon,main footer .call-circle.icon) .call-circle-inner .wave[data-v-2ea821ab]:nth-child(1){animation-delay:0s}:is(main header .call-circle.icon,main footer .call-circle.icon) .call-circle-inner .wave[data-v-2ea821ab]:nth-child(2){animation-delay:.1s}:is(main header .call-circle.icon,main footer .call-circle.icon) .call-circle-inner .wave[data-v-2ea821ab]:nth-child(3){animation-delay:.3s}:is(main header .call-circle.icon,main footer .call-circle.icon).moving[data-v-2ea821ab]{animation:none}:is(main header .call-circle.icon,main footer .call-circle.icon).moving .wave[data-v-2ea821ab]{animation:wave-animation-icon-2ea821ab 1.2s ease-in-out infinite}main.dark[data-v-2ea821ab]{background:#0e0e0e;border-radius:30px;border:1px solid #444746;box-shadow:0 2px 6px 2px #00000026}main.dark header[data-v-2ea821ab]{border-bottom:1px solid #444746}main.dark h1[data-v-2ea821ab]{color:#e3e3e3}main.dark header .mute-button[data-v-2ea821ab]{filter:invert(1)}main.dark ul[data-v-2ea821ab]{scrollbar-color:#E3E3E3 #000}main.dark ul li[data-v-2ea821ab]{color:#e3e3e3}main.dark ul li.from-user[data-v-2ea821ab]{background:#1e1f20}main.dark textarea[data-v-2ea821ab]{background:none;border:1px solid #444746;color:#e3e3e3}main.dark textarea[data-v-2ea821ab]::placeholder{color:#8e918f}main.dark .talk-button[data-v-2ea821ab]{background:none}main.dark .talk-button img[data-v-2ea821ab]{filter:invert(100%)}main.dark footer .footer-container .footer-buttons button.send[data-v-2ea821ab]{filter:invert(100%)}main.dark footer .footer-container .footer-buttons button.send[data-v-2ea821ab]:disabled{background-color:#fff}main.dark .plus-container[data-v-2ea821ab],main.dark .upload-overlay[data-v-2ea821ab]{filter:invert(1)}main.light[data-v-2ea821ab]{background:#fff;border-radius:30px;scrollbar-color:#999 #fff}main.light header[data-v-2ea821ab]{border-bottom:1px solid #C4C7C5}main.light h1[data-v-2ea821ab]{color:#1f1f1f}main.light ul li[data-v-2ea821ab]{color:#1f1f1f}main.light ul li.from-user[data-v-2ea821ab]{background:#f0f4f9}main.light ul li.from-user span[data-v-2ea821ab]{color:#1f1f1f}main.light textarea[data-v-2ea821ab]{background:#fff;border:1px solid #C4C7C5;color:#1f1f1f}main.light textarea[data-v-2ea821ab]::placeholder{color:#c4c7c5}main.light .close-button img[data-v-2ea821ab]{filter:invert(100%)}main.call li.from-bot[data-v-2ea821ab]{margin:0;padding-left:0}main.call li.from-user[data-v-2ea821ab],main.call li.from-bot[data-v-2ea821ab]:not(.is-displayed-in-call){display:none}main.call.small span[data-v-2ea821ab]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;font-size:14px}main.call li.from-bot.last-rich-content[data-v-2ea821ab]{position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;left:5%;top:5%;height:90vh;min-width:60%;background:#000000e6;padding:0 30px 30px 0;border:1px solid #666}main.call ul[data-v-2ea821ab]{width:100%;height:100%;padding:0;margin:0;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;scrollbar-width:thin}main.call ul li[data-v-2ea821ab]{font-family:Roboto;font-weight:400;font-style:Regular;font-size:16px;padding-left:40px}main.call ul li.is-displayed-in-call[data-v-2ea821ab]{overflow:auto}main.call .talk-button[data-v-2ea821ab]{display:none}main.call .call-circle[data-v-2ea821ab]{padding:10px}main.call footer .input-container[data-v-2ea821ab]{justify-content:center;border:none}main.call footer .input-container .talk-button[data-v-2ea821ab]{border:1px solid #747775;background-color:transparent}main.call footer .input-container .talk-button .mic-container[data-v-2ea821ab]{border:1px solid #747775;background-color:transparent}.call-circle[data-v-2ea821ab]{min-height:200px;height:200px;width:200px;border-radius:50%;border:1px solid #eee;margin:50px 0;box-sizing:border-box}.call-circle .call-circle-inner[data-v-2ea821ab]{border-radius:50%;height:100%;width:100%;border:1px solid #444746;display:flex;justify-content:space-between;align-items:center;padding:40px}.call-circle .call-circle-inner .wave[data-v-2ea821ab]{width:2px;height:3px;background:#1f1f1f}.call-circle.moving[data-v-2ea821ab]{animation:pulsate-outer-circle-animation-2ea821ab 1.2s ease-in-out infinite}.call-circle.moving .call-circle-inner[data-v-2ea821ab]{animation:pulsate-animation-2ea821ab 1.2s ease-in-out infinite}.call-circle.moving .wave[data-v-2ea821ab]{animation:wave-animation-2ea821ab 1.2s ease-in-out infinite}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(1){animation-delay:0s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(2){animation-delay:.1s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(3){animation-delay:.3s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(4){animation-delay:.12s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(5){animation-delay:.4s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(6){animation-delay:.8s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(7){animation-delay:.15s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(8){animation-delay:.26s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(9){animation-delay:.34s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(10){animation-delay:.65s}.call-circle.moving .wave[data-v-2ea821ab]:nth-child(11){animation-delay:1s}ul[data-v-2ea821ab]{display:flex;flex-direction:column;overflow:auto;margin-top:0;list-style:none;scroll-behavior:smooth;padding-inline-start:0;overflow-x:hidden}ul li[data-v-2ea821ab]{margin-bottom:1em;font-size:.9em}ul li.from-user[data-v-2ea821ab]{text-align:right;border-radius:16px 4px 16px 16px;margin-left:auto;margin-right:10px;margin-top:10px;padding:10px;max-width:365px}ul li.from-bot[data-v-2ea821ab]{text-align:left;border-radius:4px 16px 16px;margin-right:auto;margin-left:10px;margin-top:10px;padding:10px;max-width:390px}.assistant-collapsed[data-v-2ea821ab]{position:fixed;display:flex;bottom:20px;right:20px;height:65px;width:65px;border:2px solid #000;border-radius:100px;background:#fff;cursor:pointer}.assistant-collapsed img[data-v-2ea821ab]{margin:12px}.assistant-collapsed[data-v-2ea821ab]:hover{border:2px solid #ffF}.close-button[data-v-2ea821ab]{font-weight:700;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;cursor:pointer}.talk-button[data-v-2ea821ab]{-webkit-user-select:none;user-select:none;-webkit-user-drag:none;background:#d9ffdc21;border-radius:51px;z-index:999;cursor:pointer}.talk-button img[data-v-2ea821ab]{width:25px}.talk-button[data-v-2ea821ab] *{-webkit-user-drag:none}.talk-button:hover img[data-v-2ea821ab]{opacity:.7}.talk-button.talking img[data-v-2ea821ab]{opacity:1}.voice-assistant-container[data-v-2ea821ab]{width:450px;margin-left:calc(100% - 450px);position:fixed;top:-60px;right:40px}.voice-assistant-container.small[data-v-2ea821ab]{position:fixed;width:300px;bottom:80px;top:auto}.voice-assistant-container.small main[data-v-2ea821ab]{height:500px}.voice-assistant-container.small main h1[data-v-2ea821ab]{font-size:16px}.voice-assistant-container.small main li[data-v-2ea821ab]{max-width:245px}.voice-assistant-container.small main li.call-circle[data-v-2ea821ab]{min-height:120px;height:120px;width:120px;margin:10px 0}.voice-assistant-container.small main li.call-circle .call-circle-inner[data-v-2ea821ab]{padding:10px}.voice-assistant-container.small .reconnect-container[data-v-2ea821ab]{bottom:90px;right:-10px}.voice-assistant-container.small .talk-button[data-v-2ea821ab]{bottom:10px;right:15px}@media screen and (max-width: 768px){:is(.voice-assistant-container,.voice-assistant-container.small)[data-v-2ea821ab]{position:fixed;top:0;left:0;height:100dvh;right:inherit;width:100%;margin:0}:is(.voice-assistant-container,.voice-assistant-container.small) .assistant-container main[data-v-2ea821ab]{margin:0;height:calc(100dvh - 2px);border-radius:0}:is(.voice-assistant-container,.voice-assistant-container.small) .assistant-container main li.from-bot[data-v-2ea821ab]{max-width:none}:is(.voice-assistant-container,.voice-assistant-container.small) .assistant-container main.call li[data-v-2ea821ab]{text-align:center;max-width:none;margin-left:0}:is(.voice-assistant-container,.voice-assistant-container.small) .reconnect-container[data-v-2ea821ab]{bottom:20px;width:240px;right:calc((100% - 240px)/2)}}.inflight-handoff[data-v-2ea821ab]{height:100dvh;width:100%;position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;background-color:#0000001a;background-repeat:no-repeat;background-size:100px;background-position:50% 50%;z-index:9999}.reconnect-container[data-v-2ea821ab]{display:flex;justify-content:center;width:100%}.reconnect-button[data-v-2ea821ab]{border-radius:50px;padding:12px 24px;font-size:14px;cursor:pointer;font-family:Google Sans;width:100%}main.light .reconnect-button[data-v-2ea821ab]{background-color:#f0f0f0;color:#333}main.light .reconnect-button[data-v-2ea821ab]:hover{background-color:#e0e0e0}main.dark .reconnect-button[data-v-2ea821ab]{background-color:#333;color:#eee}main.dark .reconnect-button[data-v-2ea821ab]:hover{background-color:#444}@keyframes wave-animation-2ea821ab{0%,to{height:3px}50%{height:30px}}@keyframes wave-animation-icon-2ea821ab{0%,to{height:2px}50%{height:12px}}@keyframes pulsate-animation-2ea821ab{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes pulsate-outer-circle-animation-2ea821ab{0%,to{transform:scale(1);border-width:1px}50%{transform:scale(1.15);border-width:10px;border-color:var(--circle-border-target-color, #fefefe)}}`,ap=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},cp=["src"],up={key:1,class:"assistant-container"},fp={key:0},hp={class:"call-circle-inner"},dp=["src"],pp={ref:"message-box"},gp={key:0},mp=["innerHTML"],vp=["innerHTML"],yp={class:"call-circle-inner"},bp={key:0,class:"footer-container"},xp={class:"input-container"},wp={key:0,class:"upload-overlay"},_p=["src"],kp=["src"],Sp={key:1,class:"input-wrapper"},Tp={key:0,class:"upload-images"},Cp=["src"],Ep=["onClick"],Ip=["src"],Rp=["placeholder"],Op={class:"call-circle-inner"},Ap=["src"],Pp={key:0,class:"footer-buttons"},Mp=["disabled"],Lp={key:1,class:"footer-container reconnect-container"},Np={key:1,class:"inflight-handoff"},_i="bidi-widget-session",Dp=200,Hp=.01,$p=600,Up=1500,Bp={__name:"BidiWidget.ce",props:dr,setup(t,{expose:e}){const n={large:14,small:12,icon:3},r=new B;typeof window.kite>"u"&&(window.kite={});const s={},l=t,o={};for(let[v,E]of Object.entries(l)){if(E&&E!==""){if(Array.isArray(dr[v].type)&&(dr[v].type.includes(Boolean)&&typeof E!="boolean"&&(["yes","true","1"].includes(E.toLowerCase())?E=!0:["no","false","0"].includes(E.toLowerCase())&&(E=!1)),dr[v].type.includes(Number)&&typeof E!="number"))if(!isNaN(parseInt(E)))E=parseInt(E);else continue;o[v]=E}v==="audioInputMode"&&(o[v]==="OPEN_MIC"?o[v]="DEFAULT_ON":o[v]==="PUSH_TO_TALK_BUTTON"?o[v]="DEFAULT_OFF":o[v]==="PUSH_TO_TALK_DISCREET"&&(o[v]="SPACE_BAR_TO_TALK"))}for(let[v,E]of Object.entries(Bn))o[v]===void 0&&(o[v]=E);const c={bidiSize:"size",bidiStyleId:"modality",bidiThemeId:"themeId"};for(let[v,E]of Object.entries(c))o[v]!==void 0&&((o[E]===void 0||o[E]===Bn[E])&&(o[E]=o[v]),delete o[v]);o.websocketProxy&&!o.apiUri&&(o.apiUri=o.websocketProxy),typeof o.audioInputMode=="string"&&(o.audioInputMode=o.audioInputMode.toUpperCase());let f=me(""),h=me(o.autoOpenChat?"expanded":"collapsed"),p=me(!1),m=new Date(0),x;o.apiUri&&(o.apiUri.startsWith("wss://")||o.apiUri.startsWith("ws://"))&&(x=o.apiUri),r.enableDebugger=o.enableDebugger;let k={};function w(v){if(B.log("Setting query parameters:",v),!(typeof v!="object"||v===null)){for(let E in k)delete k[E];for(let[E,I]of Object.entries(v))k[E]=I}}if((o.cesUrl?.includes("console-dev")||o.deploymentId?.includes("console-dev"))&&(o.environment="dev"),o.deploymentId)if(o.deploymentId.match(/projects\/[^/]+\/locations\/[^/]+\/apps\/[^/]+\/deployments\/[^/]+$/))o.deploymentId=o.deploymentId.match(/projects\/[^/]+\/locations\/[^/]+\/apps\/[^/]+\/deployments\/[^/]+$/)[0],o.cesUrl=o.deploymentId;else if(!o.deploymentId.includes("/")&&o.cesUrl?.match(/projects\/[^/]+\/locations\/[^/]+\/apps\/[^/]+$/))o.cesUrl=o.deploymentId=`${o.cesUrl.match(/projects\/[^/]+\/locations\/[^/]+\/apps\/[^/]+$/)[0]}/deployments/${o.deploymentId}`;else throw new Error(`Invalid deployment ID: ${o.deploymentId}. Expected format: projects/<PROJECT_ID>/locations/<REGION_ID>/apps/<AGENT_ID>/deployments/<DEPLOYMENT_ID>.`);const A=!["DEFAULT_ON","NONE",void 0].includes(o.audioInputMode),N=me([o.themeId||Bn.themeId,o.modality||Bn.modality,o.size||Bn.size,o.deploymentId||Bn.deploymentIdD]);let M=me(!1);o.oauthClientId&&Bi(()=>{M.value=!0});const R=Gh.createAdaptor(o),G=me(!1);let _=null,D=null,W=null,ae=me(null);if(o.audioInputMode!=="NONE"){let v=16e3;const E=R.getConfigMessage(o,null);R.appId=="BIDI_ADK"?(v=24e3,x=o.cesUrl):E.configMessage?.outputAudioConfig?.sample_rate_hertz?v=E.configMessage.outputAudioConfig.sample_rate_hertz:E.config?.outputAudioConfig?.sampleRateHertz&&(v=E.config.outputAudioConfig.sampleRateHertz),_=new zh,D=new(window.AudioContext||window.webkitAudioContext)({sampleRate:v}),o.audioOutputMode==="NONE"?W=Ll.createStreamer(D,"SILENT"):(W=Ll.createStreamer(D),W.onComplete=()=>{qe.value=!1,he.value&&(B.log("Disconnecting with reason:",he.value),mn(),kt(he.value))}),R instanceof wc&&(W.fadeIn=!0,o.bargeInSensitivity||(o.bargeInSensitivity="MEDIUM"),o.bargeInSensitivity=="LOW"?(R.bargeInTranscriptsTrigger=5,R.bargeInMaxGapMs=300):o.bargeInSensitivity=="MEDIUM"?(R.bargeInTranscriptsTrigger=3,R.bargeInMaxGapMs=500):o.bargeInSensitivity=="HIGH"?(R.bargeInTranscriptsTrigger=1,R.bargeInMaxGapMs=1e3):o.bargeInSensitivity=="DISABLED"&&(R.bargeInTranscriptsTrigger=-1)),ae.value=D.state,D.onstatechange=()=>{ae.value=D.state}}const Z=me(null),pe=me(null),K=me(!1),j=me(!1),F=me(null),V=me([]),oe=me([]);let Ee=!1;const ce=me([]),ie=me(!A),le=me(""),tt=me(!1),Ht=me(Be());let mt=null;const he=me(null),Le=me(!1);let On=me(!1);const qe=me(!1),vt=me(!1),ut=me(!1),wt=me(!1),pn=me(!1);let ze=me(o.audioInputMode!=="NONE"&&o.audioOutputMode!=="DISABLED"&&o.audioOutputMode!=="DEFAULT_OFF");const tn=o.audioInputMode!=="NONE"&&o.audioOutputMode!=="DISABLED"&&o.audioOutputMode!=="ALWAYS_ON",g=me(o.modality==="call"),y=sl("message-box"),S=sl("user-input");let P="Start conversation",C=null,O=0,q=null,$=null;const H=zt(()=>{const v=o.audioInputMode==="NONE"||D&&ae.value==="running"||j.value;return K.value&&(Z.value||o.apiUri)&&v||["SERVER_DROP","DISCONNECT_WAITING"].includes(he.value)}),L=zt(()=>{if(!V.value)return-1;for(let v=V.value.length-1;v>=0;v--)if(V.value[v].payload?.html)return v;return-1}),X=zt(()=>{if(!V.value)return-1;for(let v=V.value.length-1;v>=0;v--)if(V.value[v].actor==="BOT"&&V.value[v].text)return v;return-1});function z(v){if(!V.value||V.value.length===0)return;const E=Object.keys(v);if(E.length===0)return V.value[V.value.length-1];for(let I=V.value.length-1;I>=0;I--)if(!(E.length>Object.keys(V.value[I]).length)){for(const te of E)!V.value[I].hasOwnProperty(te)||(v[te],V.value[I][te]);return V.value[I]}}const J=me(o.inputPlaceholderText||"What do you need help with?");Cn(h,v=>{v==="expanded"&&Sn(()=>{y.value&&(y.value.scrollTop=y.value.scrollHeight)})}),Cn([f,S],()=>{if(S.value){const v=y.value,E=v.scrollHeight-v.scrollTop<=v.clientHeight+1,I=S.value;I.style.height="auto",I.style.height=`${I.scrollHeight}px`;const te=I.scrollHeight>I.clientHeight;I.style.overflowY=te?"auto":"hidden",E&&(v.scrollTop=v.scrollHeight)}});const ee=zt(()=>H.value&&!Le.value&&!On.value),Y=zt(()=>(R instanceof Vs||R instanceof _c)&&ee.value&&!o.disableImageUploads&&oe.value.length<o.imageUploadMaxNumber),re=zt(()=>o.audioInputMode==="DEFAULT_ON"||o.audioInputMode==="DEFAULT_OFF");zt(()=>{switch(he.value){case"USER_REQUESTED":return"You ended the conversation.";case"AGENT_REQUESTED":return"The agent ended the conversation.";case"HARD_HANDOVER":return"The agent requested an escalation to a human representative. This ends the conversation from the virtual agent's perspective";default:return"The session ended unexpectedly."}});const ue=zt(()=>o.environment==="dev"?"dev":"prod"),Oe=new Kh(R.location,R.projectId,R.agentId,R.sessionId,Z.value,$),Ue=Oe.registerClientSideFunction.bind(Oe);function Ve(v){v&&D?.state!=="running"&&D.resume(),ie.value=v}function Be(){return o.audioInputMode==="NONE"&&o.modality==="call"?(ft('The web component was configured in call mode but does not allow audio input. Please correct the configuration and try again.<br/><span style="color: #747775;">See the <a href="https://cloud.google.com/customer-engagement-ai/conversational-agents/ps/deploy/web-widget" target="_blank" style="color: #747775;">documentation</a> for more information.</span>',!0),!1):!0}function yt(){!tt.value&&le.value&&(le.value="",tt.value=!0)}function $t(){F.value?.transcript&&Ae("USER",{text:F.value.transcript}),yt(),F.value=null,f.value=""}function je(){let v=le.value;F.value?.type==="TRANSCRIPT"?(v=F.value.transcript||"",o.enableLiveTranscription?f.value=v:le.value==null||!F.value.partial?le.value=v:le.value+=v,Sn().then(()=>{S.value&&(S.value.scrollLeft=S.value.scrollWidth)})):F.value?.payload?.messageType==="SPEECH_ACTIVITY_END"&&yt()}function Ae(v,E,I){const te=An();if(E.replace){const He=V.value.findIndex(ve=>ve.actor===v&&(ve.payload?.html===E.payload.html||ve.text===E.text));He>-1&&V.value.splice(He,1)}const Q={messageId:te,actor:v,...E};if(Q.text||Q.payload?.html)if(Q.actor==="BOT"){const He={actor:"BOT"};Q.turnIndex&&(He.turnIndex=Q.turnIndex);let ve=z(He);Q.partial==null&&Q.turnIndex&&ve&&Q.turnIndex==ve.turnIndex&&(Q.partial=!0),ve!=null&&(ve.partial||Q.turnIndex!=null&&Q.turnIndex==ve.turnIndex)?Q.partial?ve.text+=Q.text:(ve.text=Q.text,ve.partial=!1):V.value.push(Q),ve=z({actor:"BOT"}),ve&&ve.text&&(ve.text.includes("* ")||ve.text.includes("**"))&&(ve.html=_e.parse(ve.text))}else V.value.push(Q);Sn(()=>{y.value&&(y.value.scrollTop=y.value.scrollHeight)});const Ie=v==="USER"?"message sent":"message received";return on(),r.info({message:E.text,event:Ie,payload:I||E},`${v.toLowerCase()}-message`),te}function nn(v,E){E.cesMessageId=An();const I=hd(v,E);return I?(Ae("BOT",{payload:{html:I}}),!0):!1}function ft(v,E=!1){o.showErrorMessages&&(E&&Fi(),Ae("BOT",{payload:{html:`<div style="color: #eb5555; background-color: #ffedc0; padding: 10px; border-radius: 10px; padding: 1em;">${v}<br/><hr  style="height:1px;border-width:0;color:#a49b9b;background-color:#a49b9b"/><span style="color: #a49b9b;""><small>To disable these messages, remove the '<span style="font-family:monospace;">show-error-messages</span>' setting from the web widget configuration.</small></span></div>`},msg_type:"ERROR_MESSAGE"}))}function An(){return`${R.sessionId}-${V.value.length+1}`}function Fi(){V.value=V.value.filter(v=>v.msg_type!=="ERROR_MESSAGE")}function gn(){if(k&&Object.keys(k).length>0){const v=R.marshallMessage({type:"VARS",payload:k});v&&nt(v),k={}}}function nt(v){let E;if(typeof v=="object"&&v.realtimeInput)E=v;else{const te=typeof v=="string"?{text:v}:v,Q={type:"SESSION_INPUT",payload:{}};te.text&&te.text.length>0&&(Q.payload.text=te.text),te.images&&te.images.length>0&&(Q.payload.images=te.images),te.vars&&Object.keys(te.vars).length>0?Q.payload.vars=te.vars:k&&Object.keys(k).length>0&&(Q.payload.vars=JSON.parse(JSON.stringify(k)),k={}),Object.keys(Q.payload).length>0&&(E=R.marshallMessage(Q))}E||(E=v),C.connectionless&&!Nn()&&si();const I=Array.isArray(E)?E:[E];for(const te of I)C.sendMessage(JSON.stringify(te))}window.kite.sessionInput=nt;function Qn(){if(C instanceof Es)return;let v=null;C instanceof Cs&&Z.value&&(v=Z.value),B.log(`Sending config message: ${JSON.stringify(R.getConfigMessage(o,null))}`),nt(R.getConfigMessage(o,v))}const rn=async v=>{const E={toolName:v.tool,toolDisplayName:v.displayName},I=v.id,te=v.args;return await Oe.runFunctionTool(I,E,te)},qi=new ArrayBuffer(4096),ei=new Uint8Array(qi),zi=btoa(String.fromCharCode(...ei)),_t=async()=>{if(Be()&&!(!j.value&&o.audioInputMode!=="NONE"&&D.state!=="running")){if(!await Xi()&&o.oauthClientId){const v={image:"https://www.google.com/images/branding/googleg/1x/googleg_standard_color_128dp.png",text:"Sign-in with Google",onclick:`window.kite.googleOauthSignIn('${An()}')`};nn("cesm_button",v);return}try{ri(),o.audioInputMode!=="NONE"&&(D.state==="suspended"&&await D.resume(),await _.start(),_.on("data",v=>{if(C!=null&&C.isConnected()){if(!ie.value)v=zi,p.value=!1;else{const I=Date.now();Wi(v)?(m=I,p.value=!0):m&&I-m>Dp&&(p.value=!1)}const E=R.marshallMessage({type:"AUDIO",payload:{audio:v},vars:k});r.info({message:"<audio>",event:"audio sent",payload:E},"user-message"),gn(),nt(E)}}))}catch(v){B.error("Error starting recording:",v)}}};function mn(){o.audioInputMode!=="NONE"&&(W.stop(),_.stop())}function Ge(){const v=R.endSession();v&&nt(v)}function Wi(v){const E=atob(v),I=E.length,te=new Uint8Array(I);for(let Pe=0;Pe<I;Pe++)te[Pe]=E.charCodeAt(Pe);const Q=new DataView(te.buffer),Ie=Q.byteLength/2;let He=0;for(let Pe=0;Pe<Ie;Pe++){const lt=Q.getInt16(Pe*2,!0)/32768;He+=lt*lt}return Math.sqrt(He/Ie)>Hp}function sn(){const v=f.value;if(v||oe.value.length>0){if(v.startsWith("VARS="))try{w(JSON.parse(v.substring(5))),f.value="";return}catch(I){B.error(`Error parsing query parameters ${v.substring(5)}. Sending them as-is to agent.`,I)}const E=[];if(oe.value.length>0){E.push(...oe.value),oe.value=[];let I="";for(const te of E)I+=`<img src="${te}" style="width: 60px; height: 60px; border-radius: 8px; object-fit: cover;">`;Ae("USER",{payload:{html:`<div style="display: flex; flex-wrap: wrap; gap: 4px;">${I}</div>`}})}le.value=v,v.length>0&&(Ae("USER",{text:v}),yt()),nt({text:v,images:E}),f.value="",Sn(os),window.dispatchEvent(new CustomEvent("ces-user-input-entered",{detail:{input:v}})),qe.value&&W.stop()}}function vn(v){v.key==="Enter"&&f.value&&(v.preventDefault(),sn())}function os(){S.value&&(S.value.style.height="auto")}function Vi(v){A&&v.code==="Space"&&v.target===document.body&&(v.preventDefault(),vt.value||(vt.value=!0,Ve(!0)))}function Ut(v){A&&v.code==="Space"&&v.target===document.body&&(v.preventDefault(),vt.value&&(vt.value=!1,Ve(!1)))}async function Gi(v,E=800,I=800){return new Promise((te,Q)=>{const Ie=new FileReader;Ie.onload=He=>{const ve=new Image;ve.onload=()=>{let{width:Pe,height:lt}=ve;(Pe>E||lt>I)&&(Pe>lt?(lt=Math.round(lt*(E/Pe)),Pe=E):(Pe=Math.round(Pe*(I/lt)),lt=I));const be=document.createElement("canvas");be.width=Pe,be.height=lt,be.getContext("2d").drawImage(ve,0,0,Pe,lt),te(be.toDataURL("image/jpeg"))},ve.onerror=Q,ve.src=He.target.result},Ie.onerror=Q,Ie.readAsDataURL(v)})}function ls(v){wt.value=!wt.value}function ti(){wt.value=!1;const v=document.createElement("input");v.type="file",v.accept="image/*",v.multiple=!0,v.onchange=async E=>{const I=E.target.files;if(I.length>0)for(const te of I){if(oe.value.length>=o.imageUploadMaxNumber){B.warn("maximum number of image uploads reached. Ignoring image.");continue}try{const Q=await Gi(te,o.imageUploadMaxWidth,o.imageUploadMaxHeight);oe.value.push(Q)}catch(Q){B.error("Error resizing image:",Q)}}},v.click()}function as(){if(oe.value.length>=o.imageUploadMaxNumber){B.warn("maximum number of image uploads reached. Ignoring image.");return}wt.value=!1;const v=document.createElement("input");v.type="file",v.accept="image/*",v.capture="user",v.onchange=async E=>{const I=E.target.files;if(I.length>0){const te=I[0];try{const Q=await Gi(te);oe.value.push(Q)}catch(Q){B.error("Error processing image from camera:",Q)}}},v.click()}function ni(v){oe.value.splice(v,1)}o.audioInputMode!=="NONE"&&(W.onComplete=()=>{qe.value=!1,he.value&&(mn(),C&&C.isConnected()&&kt(he.value))});function Pn(){Ve(!1)}Cn(ie,v=>{v&&W.stop()});function ht(v){typeof v!="boolean"?ze.value=!ze.value:ze.value=v,ze.value||W.stop()}uo(async()=>{if(Ji(),window.addEventListener("beforeunload",on),A&&(window.addEventListener("keydown",Vi),window.addEventListener("keyup",Ut)),tn.value&&(o.audioOutputMode==="DEFAULT_OFF"?ht(!1):o.audioOutputMode==="DEFAULT_ON"&&ht(!0)),h.value==="expanded"&&(Sn(()=>{y.value&&(y.value.scrollTop=y.value.scrollHeight)}),await Xi()?j.value&&o.audioInputMode!=="NONE"&&D?.state!=="running"?ut.value=!0:_t():o.oauthClientId&&_t()),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{const v=await navigator.mediaDevices.enumerateDevices(),E=/Mobi/i.test(navigator.userAgent);pn.value=E&&v.some(I=>I.kind==="videoinput")}catch(v){B.warn("Could not detect camera:",v)}setTimeout(()=>{window.dispatchEvent(new CustomEvent("ces-messenger-loaded"))},100)}),fo(()=>{window.removeEventListener("beforeunload",on),A&&(window.removeEventListener("mouseup",Pn),window.removeEventListener("keydown",Vi),window.removeEventListener("keyup",Ut)),C!=null&&C.isConnected()&&kt()});function Ki(){h.value="expanded",_t(),window.dispatchEvent(new CustomEvent("ces-chat-open-changed",{detail:{isOpen:!0}}))}function Zi(){let v=!0;s["before-chat-panel-close"]&&(v=s["before-chat-panel-close"]()),v&&(h.value="collapsed",qe.value&&W.stop(),window.dispatchEvent(new CustomEvent("ces-chat-open-changed",{detail:{isOpen:!1}})))}function Mn(){V.value.length>0&&V.value[V.value.length-1].msg_type==="ERROR_MESSAGE"&&(B.log("Clearing local storage before next connection attempt."),R&&R.endSession(),ii({clearAuthentication:!0}),V.value=[]);const v=()=>{ut.value=!1,_t()};o.audioInputMode!=="NONE"&&D?.state!=="running"?D.resume().then(v):v()}function on(){const v={messages:V.value.filter(E=>E.msg_type!=="ERROR_MESSAGE"),sessionId:R.sessionId,chatUiStatus:h.value,toolMessageQueue:ce.value};sessionStorage.setItem(_i,JSON.stringify(v)),r.info({event:"session-saved"})}function Ji(){const v=sessionStorage.getItem(_i);if(v)try{const E=JSON.parse(v);V.value=E.messages||[],R.sessionId=E.sessionId,h.value=E.chatUiStatus||(o.autoOpenChat?"expanded":"collapsed"),ce.value=E.toolMessageQueue||[],j.value=!0,r.info({event:"session-loaded",sessionId:E.sessionId})}catch(E){B.error("Could not parse saved session state.",E),sessionStorage.removeItem(_i)}else j.value=!1}function ii(v){sessionStorage.removeItem(_i),V.value=[],v&&v.clearAuthentication&&bn()}function cs(){Ee=!0}function yn(){if(K.value&&ce.value.length>0)for(B.log("sending held messages:",ce.value);ce.value.length>0;){const v=ce.value.shift();nt(v)}Ee=!1}function Ln(){return{onConnecting:()=>{B.log("Connecting...")},onOpen:async()=>{K.value=!0,he.value=null,P="Resume conversation",Qn(),Ee||yn(),o.initialMessage!=""&&V.value.length==0&&(nt(o.initialMessage),o.hideInitialMessage||Ae("USER",{text:o.initialMessage})),window.dispatchEvent(new CustomEvent("ces-messenger-connected")),O=0},onClose:v=>{if(["USER_REQUESTED","AGENT_REQUESTED","HARD_HANDOVER","AUTHENTICATION_ERROR"].includes(he.value)||(he.value="UNKNOWN"),C.connectionless||(K.value=!1),he.value==="UNKNOWN")if(B.warn("BidiStream disconnected."),O<Rh){O++;const E=Eh*(Ih*O);B.log(`Attempting reconnection in ${E/1e3} seconds...`),q&&clearTimeout(q),q=setTimeout(Mn,E)}else B.warn("Maximum number of reconnect attempts reached."),O=0;window.dispatchEvent(new CustomEvent("ces-messenger-disconnected",{detail:{disconnectReason:he.value}}))},onError:v=>{B.error("BidiStream error:",v),ft(`BidiStream error: ${v.message}`),Ae("BOT",{text:"I'm sorry, I couldn't send your message. Please try again."}),C.connectionless||(K.value=!1,C=null)},onMessage:async v=>{try{let E;if(v.connection_closed){const I={type:"CONTROL_SIGNAL",agentDisconnect:!0,disconnectReason:"CONNECTION_ERROR"};v.reason&&(v.reason.toLowerCase().includes("permission")||v.reason.toLowerCase().includes("authentication")||v.reason.toLowerCase().includes("denied"))&&(I.disconnectReason="AUTHENTICATION_ERROR",window.dispatchEvent(new CustomEvent("ces-authentication-error")),bn()),E=[I]}else E=R.unmarshallMessage(v);for(const I of E)if(I.type!="AUDIO"&&!I.partial&&I.type!="TRANSCRIPT"&&B.log(`receivedMessage: ${JSON.stringify(I)}`),I.type==="AUDIO")ze.value&&h.value!=="collapsed"&&(W.addChunk(I.audio),I.sampleRateHertz&&D.sampleRate!==I.sampleRateHertz&&B.warn(`AudioContext sample rate (${D.sampleRate}) does not match audio message sample rate: ${I.sampleRateHertz}`),W.play(),qe.value=!0),r.info({message:"<audio>",event:"audio received",payload:v},"bot-message");else if(I.type==="TEXT"){F.value!=null&&$t();let te=!0;if(o.streamingMode==="STREAMING_MODE_PASSTHROUGH"&&(I.text&&!I.text.replaceAll(" ","")||I.responseType==="FINAL")&&(B.log("response type FINAL skipped:",I.text),te=!1),te){const Q={text:I.text};I.turnIndex&&(Q.turnIndex=I.turnIndex),I.partial!=null&&(Q.partial=I.partial),Ae("BOT",Q,v)}tt.value=!1,le.value=""}else if(I.type==="TRANSCRIPT")clearTimeout(mt),!I.partial||F.value==null?F.value=I:F.value.transcript+=I.transcript,je(),I.interruptionSignal&&qe.value&&W.stop(),I.isFinal?$t():mt=setTimeout(()=>{$t()},Up);else if(I.type==="TOOL_CALL"){const te={toolName:I.toolCall.tool,toolDisplayName:I.toolCall.displayName};if(!Oe.isRegisteredFunction(te)&&I.toolCall?.args&&I.toolCall.args.template_id&&I.toolCall.args.context){B.debug(`Inserting rich text message with template "${I.toolCall.args.template_id}"`);const Q=I.toolCall;Q.response={status:"success"},nn(I.toolCall.args.template_id,I.toolCall.args.context)||(Q.response.status="error"),delete Q.args;const Ie=R.marshallMessage({type:"TOOL_RESPONSE",payload:Q});nt(Ie)}else{B.debug("Calling client function tool",I.toolCall);const Q=await rn(I.toolCall);B.debug("Tool responded with payload",{toolResponse:Q});const Ie=R.marshallMessage({type:"TOOL_RESPONSE",payload:Q});Ee?(B.debug("Holding tool response message",Ie),ce.value.push(Ie),on()):(B.debug("Returning tool response message to the backend",Ie),nt(Ie))}}else I.type==="CONTROL_SIGNAL"&&I.agentDisconnect?(I.disconnectReason&&(he.value=I.disconnectReason),qe.value||(mn(),kt(I.disconnectReason))):I.type==="CONTROL_SIGNAL"&&I.interruptionSignal&&(B.debug("barge-in received"),qe.value&&W.stop())}catch(E){B.error("Error processing message:",E)}},onMessageSent:v=>{}}}function ri(){if(!Z.value&&o.tokenBrokerUrl==null&&o.oauthClientId==null&&o.apiUri==null)return ft('One of the following is required to authenticate with the agent: <ul><li><span style="font-family:monospace;">token-broker-url</span></li><li><span style="font-family:monospace;">oauth-client-id</span></li><li><span style="font-family:monospace;">api-uri</span></li></ul>Alternatively, you can use the <span style="font-family:monospace;">setAccessToken</span> function to pass a valid token to the agent.<br/><span style="color: #747775;">See the <a href="https://cloud.google.com/customer-engagement-ai/conversational-agents/ps/deploy/web-widget" target="_blank" style="color: #747775;">documentation</a> for more information.</span>',!0),!1;try{B.log(`Initializing WebStream with agentId: ${R.appString}`),o.audioInputMode=="NONE"?C=new Es(ue.value,R.appString,Ln,R.sessionId,o.apiUri||null):x?C=new Cs(x,R.appString,Ln):C=new Oh(ue.value,R.appString,Ln)}catch(v){B.error("Failed to initialize WebStream:",v),C=null;return}C instanceof Cs||!Z.value?C.connect():C.connect(Z.value)}function kt(v){v&&(he.value=v),sessionStorage.removeItem(_i),C&&C.disconnect()}function Bt(v){Z.value=v,localStorage.accessToken=v,pe.value=localStorage.accessTokenExpiresAt=Date.now()+1e4}function Nn(){return Z.value!=null&&pe.value!=null&&pe.value>Date.now()+$p}async function Xi(){return localStorage.accessToken&&(Z.value=localStorage.accessToken,pe.value=localStorage.accessTokenExpiresAt?localStorage.accessTokenExpiresAt:null),Nn()?!0:o.tokenBrokerUrl?await si():(bn(),!1)}async function si(){if(!o.tokenBrokerUrl)return!1;try{const E=await(await fetch(o.tokenBrokerUrl,{credentials:"include"})).json();return E.access_token&&E.expiry?(Z.value=E.access_token,pe.value=typeof E.expiry=="number"&&!isNaN(E.expiry)?E.expiry:new Date(E.expiry).getTime(),C instanceof Es&&(C.accessToken=Z.value),localStorage.accessToken=Z.value,localStorage.accessTokenExpiresAt=pe.value,B.debug("Token received from token broker:",E),!0):(B.error("No token received from token broker:",E),!1)}catch(v){if(B.error("Error fetching impersonated token:",v.message),v instanceof TypeError&&v.message==="Failed to fetch")try{await fetch(o.tokenBrokerUrl,{mode:"no-cors"}),ft(`The token broker at <code>${o.tokenBrokerUrl}</code> may have a CORS configuration issue. 
          <ol style="margin-left: 20px; font-size: smaller; padding: 0">
            <li>Ensure the token broker URL is correct, and responds with a 200 status code.</li>
            <li>Ensure the current origin (<code>${window.location.origin}</code>) is included in your token broker's <code>AUTHORIZED_ORIGINS</code> environment variable.</li>
          </ol>`,!0)}catch{ft(`The token broker at <code>${o.tokenBrokerUrl}</code> is unreachable. Please verify the URL and ensure the service is running.`,!0)}else ft(`An error occurred while trying to contact the token broker at <code>${o.tokenBrokerUrl}</code>.`,!0);return!1}}function Yi(v){G.value=!0,oi(li,o.oauthClientId)}window.kite.googleOauthSignIn=Yi;function bn(){localStorage.removeItem("accessToken"),localStorage.removeItem("accessTokenExpiresAt"),Z.value=null,pe.value=null}async function oi(v,E){google.accounts.oauth2.initTokenClient({client_id:E,scope:"https://www.googleapis.com/auth/cloud-platform",callback:v}).requestAccessToken()}async function li(v){Z.value=v.access_token;const E=v.expires_in,I=new Date;pe.value=I.getTime()+E*1e3,localStorage.accessToken=Z.value,localStorage.accessTokenExpiresAt=pe.value,V.value=V.value.filter(te=>te.msg_type!=="AUTH_BUTTON"),_t()}function Qi(v,E){s[v]=E}function er(v){return new pd({...v,setQueryParameters:w})}return e({clearStorage:ii,disconnectWebStream:kt,endSession:Ge,holdToolResponses:cs,flushToolResponses:yn,insertMessage:Ae,insertRichTextMessage:nn,pauseConversation:mn,createDomHintTracker:er,registerClientSideFunction:Ue,registerHook:Qi,registerTemplate:dd,sessionInput:nt,setAccessToken:Bt,setQueryParameters:w,signOut:bn}),(v,E)=>(fe(),de(We,null,[Te("section",{class:Ct(["voice-assistant-container authorized",N.value])},[Me(h)==="collapsed"?(fe(),de("div",{key:0,class:"assistant-collapsed",onClick:Ki},[Te("img",{src:`data:image/svg+xml;utf8,${encodeURIComponent(Me(np))}`},null,8,cp)])):$e("",!0),Me(h)==="expanded"?(fe(),de("div",up,[Te("main",{class:Ct(N.value)},[Te("header",null,[Te("h1",null,Mr(o.chatTitle),1),Me(tn)?(fe(),de("div",fp,[!g.value&&qe.value&&Me(ze)?(fe(),de("div",{key:0,class:"call-circle icon moving",onClick:ht},[Te("div",hp,[(fe(!0),de(We,null,vi(n.icon,I=>(fe(),de("div",{key:I,class:"wave"}))),128))])])):(fe(),de("div",{key:1,class:Ct(["mute-button",{muted:!Me(ze)}]),onClick:ht},null,2))])):$e("",!0),Te("div",{class:"close-button",onClick:Zi},[Te("img",{src:`data:image/svg+xml;utf8,${encodeURIComponent(Me(ua))}`},null,8,dp)])]),Te("ul",pp,[(fe(!0),de(We,null,vi(V.value,(I,te)=>(fe(),de("li",{key:te,class:Ct({"from-user":I.actor==="USER","from-bot":I.actor==="BOT","text-response":!!I.text,last:I===V.value[V.value.length-1],"last-rich-content":te===L.value,"is-displayed-in-call":te===X.value})},[I.text&&!I.html?(fe(),de("span",gp,Mr(I.text),1)):$e("",!0),I.html?(fe(),de("span",{key:1,innerHTML:I.html},null,8,mp)):$e("",!0),I.payload?.html?(fe(),de("span",{key:2,innerHTML:I.payload.html},null,8,vp)):$e("",!0)],2))),128)),o.modality==="call"?(fe(),de("li",{key:0,class:Ct(["call-circle",{moving:qe.value}])},[Te("div",yp,[(fe(!0),de(We,null,vi(n[o.bidiSize],I=>(fe(),de("div",{key:I,class:"wave"}))),128))])],2)):$e("",!0)],512),Te("footer",null,[H.value&&ee.value?(fe(),de("div",bp,[Te("div",xp,[Y.value&&!g.value?(fe(),de("div",{key:0,class:"upload-container",draggable:"false",onClick:E[0]||(E[0]=I=>ls())},[E[5]||(E[5]=Te("div",{class:"plus-container"}," add an image ",-1)),wt.value?(fe(),de("div",wp,[Te("div",{class:"upload-option",onClick:Al(ti,["stop"])},[Te("img",{src:`data:image/svg+xml;utf8,${encodeURIComponent(Me(sp))}`},null,8,_p),E[3]||(E[3]=qs("Upload image ",-1))]),pn.value?(fe(),de("div",{key:0,class:"upload-option",onClick:Al(as,["stop"])},[Te("img",{src:`data:image/svg+xml;utf8,${encodeURIComponent(Me(op))}`},null,8,kp),E[4]||(E[4]=qs("Take picture ",-1))])):$e("",!0)])):$e("",!0)])):$e("",!0),g.value?$e("",!0):(fe(),de("div",Sp,[oe.value.length>0?(fe(),de("div",Tp,[(fe(!0),de(We,null,vi(oe.value,(I,te)=>(fe(),de("div",{key:te,class:"image-preview-container"},[Te("img",{src:`${I}`},null,8,Cp),Te("button",{class:"remove-image-button",onClick:Q=>ni(te)},[Te("img",{src:`data:image/svg+xml;utf8,${Me(ua)}`,alt:"Remove image"},null,8,Ip)],8,Ep)]))),128))])):$e("",!0),g.value?$e("",!0):Fu((fe(),de("textarea",{key:1,ref:"user-input","onUpdate:modelValue":E[1]||(E[1]=I=>Je(f)?f.value=I:f=I),placeholder:J.value,rows:"1",onKeydown:vn},null,40,Rp)),[[mh,Me(f)]])])),ee.value&&re.value?(fe(),de("div",{key:2,class:Ct(["talk-button",{talking:!!ie.value,chat:o.modality==="chat"}]),draggable:"false",onClick:E[2]||(E[2]=I=>Ve(!ie.value))},[ie.value?(fe(),de("div",{key:0,class:Ct(["call-circle icon",{moving:Me(p)}])},[Te("div",Op,[(fe(!0),de(We,null,vi(n.icon,I=>(fe(),de("div",{key:I,class:"wave"}))),128))])],2)):$e("",!0),Te("div",{class:Ct(["mic-container",{talking:!!ie.value,chat:o.modality==="chat"}])},[Te("img",{src:`data:image/svg+xml;utf8,${ie.value||o.modality==="chat"?encodeURIComponent(Me(ip)):encodeURIComponent(Me(rp))}`},null,8,Ap)],2)],2)):$e("",!0)]),g.value?$e("",!0):(fe(),de("div",Pp,[Te("button",{disabled:!Me(f)&&oe.value.length==0,class:"send",onClick:sn}," send ",8,Mp)]))])):Ht.value&&(!K.value||ut.value)?(fe(),de("div",Lp,[Te("button",{class:"reconnect-button",onClick:Mn},Mr(Me(P)),1)])):$e("",!0)])],2)])):$e("",!0)],2),$e("",!0),Me(On)?(fe(),de("section",Np)):$e("",!0)],64))}},jp=ap(Bp,[["styles",[lp]],["__scopeId","data-v-2ea821ab"]]);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */B.log("Starting the web component, version:",kh);const Fp=dh(jp);customElements.define("ces-messenger",Fp);typeof window.kite>"u"&&(window.kite={});
